<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Kausalanalyse und Machinelles Lernen mit R - 5&nbsp; Difference-in-Differences</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./RDD.html" rel="next">
<link href="./Matching.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script><meta name="robots" content="noindex">
<script>
  MathJax = {
    tex: {
      tags: 'ams'  // should be 'ams', 'none', or 'all'
    }
  };
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.js" integrity="sha512-aoZChv+8imY/U1O7KIHXvO87EOzCuKO0GhFtpD6G2Cyjo/xPeTgdf3/bchB10iB+AojMTDkMHDPLKNxPJVqDcw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
<style>
.qwebr-code-output-stdout {background-color: powderblue;}

.qwebr-button-run {
 width = 100%; 
}

.centered-caption {
   text-align: center;
}
</style>
<script src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/quizdown.js"></script><script>quizdown.init();</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./DiD.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Difference-in-Differences</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./"></a><a href="./index.html">Kausalanalyse mit R</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Lesemodus umschalten">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Start</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R_Einfuehrung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Statistische Programmierung mit R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Reg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Matching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Matching</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./DiD.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Difference-in-Differences</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./RDD.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Regression Discontiniuty Designs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./RegReg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Regularisierte Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Machine Learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Machine Learning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SyntheticControl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Synthetic Control</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Literatur.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literatur</span></a>
  </div>
</li>
    </ul>
</div>
    <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title"><a href="./index.html">Übersicht</a></h2>
   
  <ul>
<li><a href="#einordnung-im-potential-outcomes-framework" id="toc-einordnung-im-potential-outcomes-framework" class="nav-link active" data-scroll-target="#einordnung-im-potential-outcomes-framework"><span class="header-section-number">5.1</span> Einordnung im Potential Outcomes Framework</a></li>
  <li><a href="#sch%C3%A4tzung-des-att-mit-did" id="toc-schätzung-des-att-mit-did" class="nav-link" data-scroll-target="#sch%C3%A4tzung-des-att-mit-did"><span class="header-section-number">5.2</span> Schätzung des ATT mit DID</a></li>
  <li><a href="#sch%C3%A4tzung-von-did-forschungsdesigns-mit-r" id="toc-schätzung-von-did-forschungsdesigns-mit-r" class="nav-link" data-scroll-target="#sch%C3%A4tzung-von-did-forschungsdesigns-mit-r"><span class="header-section-number">5.3</span> Schätzung von DID-Forschungsdesigns mit R</a></li>
  <li>
<a href="#case-study-effekt-von-steuererleichterungen-auf-erwerbsbeteilligung" id="toc-case-study-effekt-von-steuererleichterungen-auf-erwerbsbeteilligung" class="nav-link" data-scroll-target="#case-study-effekt-von-steuererleichterungen-auf-erwerbsbeteilligung"><span class="header-section-number">5.4</span> Case Study: Effekt von Steuererleichterungen auf Erwerbsbeteilligung</a>
  <ul class="collapse">
<li><a href="#sec-didattest" id="toc-sec-didattest" class="nav-link" data-scroll-target="#sec-didattest"><span class="header-section-number">5.4.1</span> Schätzungen des ATT mit linearen Modellen</a></li>
  <li><a href="#probit-spezifikationen" id="toc-probit-spezifikationen" class="nav-link" data-scroll-target="#probit-spezifikationen"><span class="header-section-number">5.4.2</span> Probit-Spezifikationen</a></li>
  </ul>
</li>
  <li><a href="#case-study-effekt-von-polizeipr%C3%A4senz-auf-autodiebst%C3%A4hle" id="toc-case-study-effekt-von-polizeipräsenz-auf-autodiebstähle" class="nav-link" data-scroll-target="#case-study-effekt-von-polizeipr%C3%A4senz-auf-autodiebst%C3%A4hle"><span class="header-section-number">5.5</span> Case Study: Effekt von Polizeipräsenz auf Autodiebstähle</a></li>
  <li><a href="#zusammenfassung" id="toc-zusammenfassung" class="nav-link" data-scroll-target="#zusammenfassung"><span class="header-section-number">5.6</span> Zusammenfassung</a></li>
  </ul></nav>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">
<span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Difference-in-Differences</span>
</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><style>
.qwebr-code-output-stdout {background-color: powderblue;}

.qwebr-button-run, .qwebr-button-reset, .qwebr-button-copy {
  background-color:  rgba(0, 0, 0, 0);
  border-style: none;
  font-weight: 400;
  color: white; 
  transition: none;
}

.qwebr-editor-toolbar {
  width: 100%;
  display: flex;
  justify-content: space-between;
  box-sizing: border-box;
  border-radius: 0 0 6px 6px;
  background-color: darkgreen;
  border-color: darkgreen;
  border-width: 1px;
  border-style: solid;
  padding: 0 0; 
  transition: color .1s ease-in-out, background-color .1s ease-in-out,border-color .1s ease-in-out,box-shadow .1s ease-in-out;
}

.qwebr-editor-toolbar:hover {
  background-color: white;
  border-color: darkgreen;
  border-width: 1px;
}

.qwebr-editor-toolbar:hover * {
  color: darkgreen;
}

.overflow-guard, .qwebr-editor, .monaco-editor {
  border-radius: 6px 6px 0 0;
  border-width: 1px 1px 0 1px;
  border-color: darkgreen;
}

</style>
<div class="cell">

</div>
<p>Der Difference-in-Differences (DID) Ansatz erlaubt die Schätzung kausaler Effekte in quasi-experimentellen Forschungsdesigns, in denen Boebachtungen für Kontroll- und Behandlungsgruppe zu mindestens zwei Zeitpunkten vorliegen und die Behandlung zwischen diesen Zeitpunkten stattfindet: Wir beobachten sowohl die Kontroll- als auch die Behandlungsgruppe vor und nachdem die Behandlung erfolgt ist. Die Motivation für die Anwendung des DID-Ansatzes liegt in der Fähigkeit, typische Risiken einer Verzerrungen zu umgehen, die bei einfachen Vorher-Nachher-Vergleichen oder reinen Querschnittsvergleichen auftreten können. Die Kernidee ist eine Schätzung des ATT durch einen Vergleich durchschnittlicher Differenzen der Outcome-Variable beider Gruppen zwischen den Perdioden vor und nach der Intervention. <a href="#fig-CDDID" class="quarto-xref">Abbildung&nbsp;<span>5.1</span></a> zeigt ein kausales Diagramm für ein Forschungsdesign, in dem DID den ATT identifizieren kann.</p>
<div class="cell page-columns page-full" data-fig-width="5" data-fig-height="3" data-layout-align="center">
<div class="cell-output-display page-columns page-full">
<div id="fig-CDDID" class="quarto-figure quarto-figure-center quarto-float anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full"><div aria-describedby="fig-CDDID-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<svg width="480" height="288" viewbox="0.00 0.00 384.71 260.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 256)"><title>Causal Diagramm RDD</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-256 380.71,-256 380.71,4 -4,4"></polygon><!-- Behandlung B --><g id="node1" class="node"><title>Behandlung B</title>
<text text-anchor="middle" x="48.25" y="-121.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Behandlung B</text></g><!-- Outcome Y --><g id="node2" class="node"><title>Outcome Y</title>
<text text-anchor="middle" x="336.25" y="-121.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Outcome Y</text></g><!-- Behandlung B&#45;&gt;Outcome Y --><g id="edge1" class="edge"><title>Behandlung B-&gt;Outcome Y</title>
<path fill="none" stroke="green" d="M96.78,-126C149.08,-126 231.96,-126 285.21,-126"></path><polygon fill="green" stroke="green" points="285.45,-129.5 295.45,-126 285.45,-122.5 285.45,-129.5"></polygon></g><!-- Gruppenzugehörigkeit --><g id="node3" class="node"><title>Gruppenzugehörigkeit</title>
<text text-anchor="middle" x="192.25" y="-13.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Gruppenzugehörigkeit</text></g><!-- Gruppenzugehörigkeit&#45;&gt;Behandlung B --><g id="edge5" class="edge"><title>Gruppenzugehörigkeit-&gt;Behandlung B</title>
<path fill="none" stroke="red" d="M168.14,-36.08C144.16,-54.07 107.19,-81.79 80.65,-101.7"></path><polygon fill="red" stroke="red" points="78.33,-99.06 72.43,-107.86 82.53,-104.66 78.33,-99.06"></polygon></g><!-- Gruppenzugehörigkeit&#45;&gt;Outcome Y --><g id="edge4" class="edge"><title>Gruppenzugehörigkeit-&gt;Outcome Y</title>
<path fill="none" stroke="red" d="M216.35,-36.08C240.33,-54.07 277.3,-81.79 303.84,-101.7"></path><polygon fill="red" stroke="red" points="301.97,-104.66 312.07,-107.86 306.17,-99.06 301.97,-104.66"></polygon></g><!-- Zeit t --><g id="node4" class="node"><title>Zeit t</title>
<text text-anchor="middle" x="192.25" y="-229.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00">Zeit t</text></g><!-- Zeit t&#45;&gt;Behandlung B --><g id="edge3" class="edge"><title>Zeit t-&gt;Behandlung B</title>
<path fill="none" stroke="red" d="M168.14,-215.92C144.16,-197.93 107.19,-170.21 80.65,-150.3"></path><polygon fill="red" stroke="red" points="82.53,-147.34 72.43,-144.14 78.33,-152.94 82.53,-147.34"></polygon></g><!-- Zeit t&#45;&gt;Outcome Y --><g id="edge2" class="edge"><title>Zeit t-&gt;Outcome Y</title>
<path fill="none" stroke="red" d="M216.35,-215.92C240.33,-197.93 277.3,-170.21 303.84,-150.3"></path><polygon fill="red" stroke="red" points="306.17,-152.94 312.07,-144.14 301.97,-147.34 306.17,-152.94"></polygon></g></g></svg>
</div>
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-CDDID-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;5.1: Kausales Diagramm für DID
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-CDDID" class="quarto-xref">Abbildung&nbsp;<span>5.1</span></a> illustriert Confounding bei der Bestimmung des Behandlungseffekts durch Backdoors in der Zeit <span class="math inline">\(t\)</span> und der Gruppenzugehörigkeit:</p>
<ul>
<li><p><strong>Zeit</strong>: Der Behandlungszustand der behandelten Gruppe ändert sich durch die Intervention zwischen der Vor- und der Nachbehandlungsperiode. Die Outcome-Variable <span class="math inline">\(Y\)</span> ändert sich für beide Gruppen über die Zeit hinweg.</p></li>
<li><p><strong>Gruppenzugehörigkeit</strong>: Die Gruppenzugehörigkeit legt fest, ob eine Behandlung erfolgt. Systematische Unterschiede zwischen Behandlungs- und Kontrollgruppe wirken sich auf die Outcome-Variable <span class="math inline">\(Y\)</span> aus.</p></li>
</ul>
<p>In einem DID-Ansatz ermöglicht die Beobachtung von Kontroll- und Behandlungsgruppen jeweils <em>bevor und nach</em> einer Intervention das Herausrechnen von systematischen Unterschieden zwischen Behandlungs- und Kontrollgruppe und von Zeiteffekten, sodass die Backdoors durch Gruppenzugehörigkeit und Zeit geschlossen. Die Schätzung eines durchschnittlichen Behandlungseffekts erfolgt hierbei unter der Annahme, dass die Outcome-Variable beider Gruppen <em>ohne die Intervention</em> einen hinreichend ähnlichen Verlauf aufweisen würde und damit die Kontrollgruppe ein plausibles Counterfactual für die Behandlungsgruppe darstellt.</p>
<section id="einordnung-im-potential-outcomes-framework" class="level2" data-number="5.1"><h2 data-number="5.1" class="anchored" data-anchor-id="einordnung-im-potential-outcomes-framework">
<span class="header-section-number">5.1</span> Einordnung im Potential Outcomes Framework</h2>
<p>Im Potential Outcomes Framework nehmen wir an, dass jede Einheit <span class="math inline">\(i\)</span> in Abhänigkeit ihres Behandlungsstatus zwei potentielle Ergebnisse hat. Wir unterscheiden zwischen Beobachtungen in Behandlungs- und Kontrollgruppe:</p>
<ul>
<li>
<span class="math inline">\(Y_{i,B}(1)\)</span>: <span class="math inline">\(Y\)</span> für Einheit <span class="math inline">\(i\)</span> in der Behandlungsgruppe, wenn diese behandelt wird.</li>
<li>
<span class="math inline">\(Y_{i,B}(0)\)</span>: <span class="math inline">\(Y\)</span> für Einheit <span class="math inline">\(i\)</span> in der Behandlungsgruppe, wenn diese <em>nicht</em> behandelt wird.</li>
<li>
<span class="math inline">\(Y_{i,K}(1)\)</span>: <span class="math inline">\(Y\)</span> für Einheit <span class="math inline">\(i\)</span> in der Kontrollgruppe, wenn diese behandelt wird.</li>
<li>
<span class="math inline">\(Y_{i,K}(0)\)</span>: <span class="math inline">\(Y\)</span> für Einheit <span class="math inline">\(i\)</span> in der Kontrollgruppe, wenn diese <em>nicht</em> behandelt wird.</li>
</ul>
<p>In einem DID-Forschungsdesign hängen tatsächliche und potentielle Outcomes von der Zeit <span class="math inline">\(t\)</span> ab: Die Behandlungsgruppe wird zwischen den Zeitpunkten <span class="math inline">\(t = 0\)</span> und <span class="math inline">\(t = 1\)</span> behandelt, während die Kontrollgruppe unbehandelt bleibt. Für die Identifizierung des Behandlungseffekts wird unterstellt, dass <span class="math inline">\(Y\)</span> sich zwischen <span class="math inline">\(t=0\)</span> und <span class="math inline">\(t=1\)</span> in der Behandlungsgruppe <em>ohne eine Behandlung</em> (im Erwartungswert) mit demselben Trend entwickelt hätte, mit dem sich die Kontrollgruppe tatsächlich entwickelt hat (parallele Trends). Die Gültigkeit paralleler Trends ist entscheidend für die Validität der DID-Methode, da so sicherstellt ist, dass die beobachteten Unterschiede in den Ergebnissen auf die Behandlung zurückzuführen sind und nicht auf andere zeitgleich auftretende Faktoren. Der Behandlungseffekt kann dann als eine <em>Differenz von Differenzen</em> geschrieben werden:</p>
<p><span class="math display">\[\begin{align}
  \begin{split}
    \beta_\textup{DID} =&amp; \, \bigg({\color{red}\textup{E}\big[Y_B(1)\vert t=1\big] - \textup{E}\big[Y_B(0)\vert t=0\big]} \bigg)\\
  -&amp;\, \bigg({\color{blue}\textup{E}\big[Y_K(0)\vert t=1\big] -  \textup{E}\big[Y_K(0)\vert t=0\big]} \bigg)
  \end{split}\label{eq:DID-ATT1}
\end{align}\]</span></p>
<p>Der Effekt <span class="math inline">\(\beta_\textup{DID}\)</span> ist ein ATT, der über das Schließen der Backdoor in der Zeit (rote und blaue Differenzen der Erwartungswerte zwischen <span class="math inline">\(t=0\)</span> und <span class="math inline">\(t=1\)</span>) sowie der Backdoor in der Gruppenzugehörigkeit (Differenz der Erwartungswert-Differenzen) identifiziert wird.</p>
<p>Eine Null-Ergänzung von <span class="math inline">\(\eqref{eq:DID-ATT1}\)</span> mit <span class="math inline">\({\color{blue}\textup{E}\big[Y_K(0)\vert t=1\big] -  \textup{E}\big[Y_K(0)\vert t=1\big]}\)</span> zeigt die Wichtigkeit der Gültigkeit paralleler Trends:</p>
<p><span class="math display">\[\begin{align*}
    \beta_\textup{DID} =&amp; \, \bigg({\color{red}\textup{E}\big[Y_B(1)\vert t=1\big] - \textup{E}\big[Y_B(0)\vert t=0\big]} \bigg)
  - \bigg({\color{blue}\textup{E}\big[Y_K(0)\vert t=1\big] -  \textup{E}\big[Y_K(0)\vert t=0\big]} \bigg)\\ + &amp;\,
{\color{blue}\textup{E}\big[Y_K(0)\vert t=1\big] -  \textup{E}\big[Y_K(0)\vert t=1\big]}\\
    \\
    =&amp;\, \underbrace{{\color{red}\textup{E}\big[Y_B(1)\vert t=1\big]} - {\color{blue}\textup{E}\big[Y_B(1)\vert t=1\big]}}_{=\textup{ATT}}\\
    +&amp;\, \underbrace{\bigg({\color{red}\textup{E}\big[Y_B(0)\vert t=1\big] - \textup{E}\big[Y_B(0)\vert t=0\big]} \bigg) - \bigg({\color{blue}\textup{E}\big[Y_K(0)\vert t=1\big] -  \textup{E}\big[Y_K(0)\vert t=0\big]} \bigg)}_{ = \textup{Verzerrung durch nicht-parallele Trends}}
\end{align*}\]</span></p>
<p>Diese Zerlegung zeigt, dass der ATT nur bei parallelen Trends identifziert werden kann, d.h. wir benötigen</p>
<p><span class="math display">\[\begin{align*}
{\color{red}\textup{E}\big[Y_B(0)\vert t=1\big] - \textup{E}\big[Y_B(0)\vert t=0\big]} = {\color{blue}\textup{E}\big[Y_K(0)\vert t=1\big] -  \textup{E}\big[Y_K(0)\vert t=0\big]}.
\end{align*}\]</span></p>
<p>Beachte, dass <span class="math inline">\({\color{red}\textup{E}\big[Y_B(0)\vert t=1\big]}\)</span> der Erwartungswert des potentiellen Outcomes einer unbehandelten Behandlungsgruppe in <span class="math inline">\(t=1\)</span> ist. Somit kann die Verzerrung durch nicht-parallele Trends nicht empirisch überprüft werden und muss ausschließlich durch das Forschungsdesign gewährleistet sein. In Anwendungen kann die Plausibilität der Annahme graphisch anhand geschätzter Trends in der Outcome-Variable oder durch Placebo-Tests untersucht werden.</p>
<p><strong>Annahmen für DID</strong></p>
<ol type="1">
<li><p><strong>Parallele Trends</strong>: Die Trends in der Outcome Variable <span class="math inline">\(Y\)</span> in Behandlungs- und Kontrollgruppe würden bis einschließlich <span class="math inline">\(t=1\)</span> parallel verlaufen, wenn es keine Behandlung gäbe. Diese Annahme ist Voraussetzung dafür, dass Veränderungen im Outcome <span class="math inline">\(Y\)</span> für die Behandlungsgruppe, die sich von <span class="math inline">\(Y\)</span> für die Kontrollgruppe unterscheidet, auschließlich dem Effekt der Behandlung zugeschrieben werden kann.</p></li>
<li>
<p><strong>Keine Interferenz und konsistente Behandlung (SUTVA)</strong>:</p>
<ul>
<li><p><em>Keine Interferenz</em>: Die Behandlung eines Individums hat keinen Einfluss auf das potentielle Outcome anderer Individuen, unabhängig von der Gruppenzugehörigkeit.</p></li>
<li><p><em>Konsistete Behandlung</em>: Es gibt keine Variation in der Intensität oder Art der Behandlung innerhalb der Behandlungsgruppe.</p></li>
</ul>
</li>
</ol></section><section id="schätzung-des-att-mit-did" class="level2 page-columns page-full" data-number="5.2"><h2 data-number="5.2" class="anchored" data-anchor-id="schätzung-des-att-mit-did">
<span class="header-section-number">5.2</span> Schätzung des ATT mit DID</h2>
<p>Für die Schätzung von <span class="math inline">\(\beta_\text{DID}\)</span> ersetzen wir die Erwartungswerte in <span class="math inline">\(\eqref{eq:DID-ATT1}\)</span> durch ihre Stichprobenmomente. Dies liefert den Schätzer</p>
<p><span class="math display">\[\begin{align}
  \widehat{\beta}_\textup{DID} = \bigg({\color{red}\overline{Y_B(1)\vert t=1} - \overline{Y_B(0)\vert t=0}} \bigg) -  \bigg({\color{blue}\overline{Y_K(0)\vert t=1} - \overline{Y_K(0)\vert t=0}}\bigg). \label{eq:DIDMOMENTS}
\end{align}\]</span></p>
<p>Die Implementierung von DID-Schätzern erfolgt meist anhand linearer Regression. Das Modell für zwei Zeitperioden ist</p>
<p><span class="math display">\[\begin{align}
  Y_{i,\,t} = \alpha + \beta_1 B_i + \beta_2 Z_t + \beta_3 (B_i \times Z_t) + \epsilon_{i,\,t}, \quad t\in\{0,1\}, \label{eq:DIDREG}
\end{align}\]</span></p>
<p>wobei <span class="math inline">\(\beta_3\)</span> der interessierende Behandlungseffekt ist. Der Regressor <span class="math inline">\(B_i \times Z_t\)</span> ist die Interaktion zwischen der Behandlungsgruppenzugehörigkeit <span class="math inline">\(B_i\)</span> und einem Indikator für den Zeitpunkt <em>nach</em> der Intervention, <span class="math inline">\(Z_i = \mathbb{I}_{\{t=1\}}\)</span>. Beachte, dass wir in Modell <span class="math inline">\(\eqref{eq:DIDREG}\)</span> für Zeiteffekte und Gruppenzugehörig kontrollieren und damit die sich durch das Forschungsdesign ergebenden Backdoors (vgl. <a href="#fig-CDDID" class="quarto-xref">Abbildung&nbsp;<span>5.1</span></a>) schließen.</p>
<p>Es ist <span class="math inline">\(\widehat\beta_3 = \widehat{\beta}_\text{DID}\)</span>, d.h. der KQ-Schätzer von <span class="math inline">\(\beta_3\)</span> ist der DID-Schätzer des ATT und numerisch äquivalent zu <span class="math inline">\(\eqref{eq:DIDMOMENTS}\)</span>. Die Berechnung von <span class="math inline">\(\widehat\beta_\text{DID}\)</span> anhand von Modell <span class="math inline">\(\eqref{eq:DIDREG}\)</span> ist praktisch, da wir so Inferenzstatistiken mit etablierten R-Funktionen wie <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> und <code><a href="https://rdrr.io/pkg/lmtest/man/coeftest.html">lmtest::coeftest()</a></code> wie gewohnt berechnen können.</p>
<p>In empirischen Anwendungen stehen oft Datensätze mit mehreren Gruppen und mehr als zwei Beobachtungsperioden zur Verfügung. Beachte, dass das Modell <span class="math inline">\(\eqref{eq:DIDREG}\)</span> ein Spezialfall des allgemeinen Forschungsdesigns mit <span class="math inline">\(t=1,\dots,T\)</span> für <span class="math inline">\(T\geq2\)</span> Beobachtungsperioden und mehr als zwei Gruppen (mehrere Kontroll- und Behandlungsgruppen) ist. Eine dann häufig genutzte Modellspezifikation für die Schätzung des ATT mit DID ist eine Panel-Regression mit <em>Two-way Fixed Effects</em>,</p>
<p><span class="math display">\[\begin{align}
  Y_{i,\,t} =  \theta_i + \eta_t + \beta_\text{DID}^\text{TWFE} D_{i,\, t} + \epsilon_{i,\,t}, \quad t = 1,\dots,T, \label{eq:TWFEDIDREG}
\end{align}\]</span></p>
<p>wobei <span class="math inline">\(\theta_i\)</span> und <span class="math inline">\(\eta_t\)</span> Dummy-Variablen für Gruppen und Zeitperioden sind und <span class="math inline">\(D_{i,\, t}\)</span> der Behandlungsindikator ist. Dieses lineare Paneldaten-Modell kann komfortabel mit dem R-Paket <code>fixest</code> (s. <code>fixtest::feols()</code>) implementiert werden. Bei mehreren Gruppen sollten cluster-robuste Standardfehler auf Gruppen-Ebene verwendet werden.</p>
<p>In Modell <span class="math inline">\(\eqref{eq:TWFEDIDREG}\)</span> indentifiziert <span class="math inline">\(\beta_\text{DID}^\text{TWFE}\)</span> den ATE, sofern die Annahmen 1 (parallele Trends) und 2 (SUTVA) gelten. Damit die Annahme paralleler Trends gewährleistet ist, dürfen keine heterogenen Behandlungseffekte vorliegen, d.h. die Behandlungseffekte</p>
<ul>
<li>variieren nicht zwischen verschiedenen Gruppen</li>
<li>sind unabhängig vom Zeitpunkt der Behandlung (relevant bei unterschiedlichen Behandlungszeitpunkten)</li>
<li>entwickeln sich nicht dynamisch über die Zeit<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>
</li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Siehe bspw. <span class="citation" data-cites="GoodmanBacon2021">Goodman-Bacon (<a href="Literatur.html#ref-GoodmanBacon2021" role="doc-biblioref">2021</a>)</span> für eine detaillierte Diskussion dieser Problematik.</p></div><div id="fn2"><p><sup>2</sup>&nbsp;Die Methoden von <span class="citation" data-cites="CallawaySantAnna2021">Callaway und Sant’Anna (<a href="Literatur.html#ref-CallawaySantAnna2021" role="doc-biblioref">2021</a>)</span> sind im R-Paket <code>did</code> implementiert.</p></div></div><p>Der Umgang mit heterogenen Behandlungseffekten ist Gegenstand der aktuellen ökonometrischen Forschung zu DID-Schätzern. <span class="citation" data-cites="CallawaySantAnna2021">Callaway und Sant’Anna (<a href="Literatur.html#ref-CallawaySantAnna2021" role="doc-biblioref">2021</a>)</span> schlagen eine nicht-parametrische Schätzung von gruppenspezifischen ATE zu veschiedenen Zeitpunkten vor, die zu einem globalen ATT zusammengefasst werden können.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Facts zum einfachen DID-Schätzer
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>Im DID-Forschungsdesign kann der ATT durch einen Vergleich von <em>Differenzen</em> in den Ergebnissen vor und nach einer Behandlung zwischen Behandlungs- und Kontrollgruppen identifiziert werden.</p></li>
<li><p>DID benötigt Beobachtungen einer Behandlungs- und einer Kontrollgruppe zu <em>mindestens</em> zwei verschiedenen Zeitpunkten, wobei der Behandlung zwischen diesen Zeitpunkten erfolgt.</p></li>
<li><p>DID ist empfindlich gegenüber Verletzungen der Annahme, dass die zeitlichen Trends in der Outcome-Variable für die Behandlungs- und die Kontrollgruppen vor der Intervention parallel verlaufen.</p></li>
<li><p>DID-Schätzer können in linearen Interaktionsmodellen mit Fixed Effects für Zeitperioden und Gruppenzugehörigkeit implementiert werden. Der interessierenden Effekt sind die Koeffizienten von Interaktionstermem zwischen den Indikatoren für die Nachbehandlungsperioden und für die Zugehörigkeit zu einer Behandlungsgruppe.</p></li>
<li><p>In R können DID-Modelle mit <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> oder, in Fällen mit mehr als zwei Beobachtungsperioden, mit <code><a href="https://lrberge.github.io/fixest/reference/feols.html">fixest::feols()</a></code> geschätzt werden. In Forschungsdesigns mit mehreren Gruppen sollten cluster-robuste Standardfehler verwendet werden.</p></li>
</ul>
</div>
</div>
<hr>
<p>Die nachfolgende interaktive Grafik illustriert die Schätzung des ATT mit DID sowie die Verletzung der Annahme paralleler Trends anhand simulierte Daten für mehrere Zeitperioden. Der verwendete DID-Schätzer ist der KQ-Schätzer in Modell <span class="math inline">\(\eqref{eq:DIDREG}\)</span>, d.h. wir betrachten ein Forschungsdesign in dem zwei Zeitperioden für die Schätzung verwendet werden, wobei die Behandlung zwischen diesen Perioden erfolgt.</p>
<p><strong>Interaktive Elemente der Visualisierung</strong></p>
<ul>
<li><p>Die Beobachtungen der Individuen zu 6 verschiedenen Zeitpunkten werden als Punkte dargestellt. Die Datenpunkte könn mit <em>Zeige Daten</em> ein- und ausgeblendet werden.</p></li>
<li><p>Die geschätzten Trends beider Gruppen für den gesamten Beobachtungszeitraum und die Gruppenzugehörigkeit können mit <em>Zeige Trends</em> ein- und ausgeblendet werden. Die Auswahl <em>Parallele Trends</em> stellt sicher, dass beide Gruppen (mit Ausnahme des Behandlungseffekts in der Behandlungsgruppe) dem selben zeitlichen Trend folgen. Bei nicht-parallelen Trends folgt die Behandlungsgruppe einem positiven Trend mit größerer positiver Steigung als in der Kontrollgruppe.</p></li>
<li><p>Die Behandlung erfolgt zwischen der mit dem Slider <em>Zeitpunkt</em> ausgewählten und der darauf folgenden Periode. Der tatsächliche Behandlungseffekt kann über den Slider <em>Effekt</em> festgelegt werden.</p></li>
</ul>
<p><strong>Anatomie der Schätzung des ATT bei <em>parallelen</em> Trends</strong></p>
<ul>
<li><p>Wir illustrieren die Schätzen des ATT mit Formel <span class="math inline">\(\eqref{eq:DIDMOMENTS}\)</span>. Kreise zeigen Mittelwerte für Kontroll- und Behandlungsgruppe <em>vor</em> der Intervention. Dreiecke zeigen Mittelwerte <em>nach</em> der Intervention.</p></li>
<li><p>Die gestrichelte rote Linie zeigt den (kontrafaktischen) Verlauf der Behandlungsgruppe <em>ohne</em> Behandlung. Hierbei wird unterstellt, dass sich die Behandlungsgruppe mit demselben Trend <em>wie die Kontrollgruppe entwickelt hätte</em> (blaue Linie).</p></li>
<li><p>Der geschätzte Behandlungseffekt wird als orangene vertikale Linie dargestellt. Dies ist die Differenz zwischen dem tatsächlichen post-Behandlungs-Mittelwert und dem kontrafaktischen Mittelwert der Behandlungsgruppe.</p></li>
</ul>
<p><strong>Anatomie der Schätzung des ATT bei <em>nicht-parallelen</em> Trends</strong></p>
<ul>
<li><p>Für nicht-parallele Trends zeigt die Grafik den unterstellten kontrafaktischen Trend der Behandlungsgruppe als gestrichelte blaue linie. Der” “tatsächliche” kontrafaktische Verlauf der Behandlungsgruppe wird als gestrichelte rote Linie dargestellt.</p></li>
<li>
<p>Aufgrund des steileren (positiven) Trends in der Behandlungsgruppe ergibt sich eine <em>positive</em> Verzerrung von <span class="math inline">\(\color{orange}\widehat{\beta}_\text{DID}\)</span>. Diese Verzerrung wird durch die gestrichelte vertikale schwarze Linie kenntlich gemacht.</p>
<ul>
<li><p>Für <em>positive</em> Behandlungseffekte wird der ATT <em>überschätzt</em>: die Verzerrung entspricht der Überlagerung der gestrichelten schwarzen linie mit der orangenen Linie des geschätzten Effekts.</p></li>
<li><p>Für <em>negative</em> Behandlungseffekte wird der ATT unterschätzt: die Verzerrung entspricht der gestrichelten schwarzen Linie oberhalb der orangenen Linie des geschätzten Effekts.</p></li>
</ul>
</li>
</ul>
<iframe width="100%" height="813" frameborder="0" src="https://observablehq.com/embed/@mca91/did?cells=didformula%2Cchart%2Cviewof+ptrends%2Cviewof+showTrends%2Cviewof+showData%2Cviewof+treatPeriod%2Cviewof+effect">
</iframe>
<hr></section><section id="schätzung-von-did-forschungsdesigns-mit-r" class="level2 page-columns page-full" data-number="5.3"><h2 data-number="5.3" class="anchored" data-anchor-id="schätzung-von-did-forschungsdesigns-mit-r">
<span class="header-section-number">5.3</span> Schätzung von DID-Forschungsdesigns mit R</h2>
<p>Wir erläutern nachfolgend die Schätzung von DID-Designs mit zwei Zeitperioden mit R und visualisieren die geschätzten Komponenten von <span class="math inline">\(\widehat{\beta}_\text{DID}\)</span> ähnlich wie in der interaktiven Visualisierung. Hierzu erzeugen wir simulierte Daten gemäß der Vorschrift</p>
<p><span class="math display">\[\begin{align*}
  Y_{i,t} &amp;= 2 + 3 \cdot Z_t + 5 \cdot B_i + 4 \cdot (Z_t \cdot B_i) + \epsilon_{i,t}\\
  \epsilon_{i,t} &amp;\sim N(0, 1)\\
  Z_t &amp;= \mathbb{I}_{\{ t = 1 \}} \\
  B_i &amp;= \mathbb{I}_{\{ i \in \textup{Behandlungsgruppe} \}},
\end{align*}\]</span> wobei wir jeweils <span class="math inline">\(100\)</span> Beobachtungen beider Gruppen zu beiden Zeitpunkten generieren.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Seed setzen</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Anzahl der Beobachtungen (pro Gruppe u. Zeitpunkt)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span></span>
<span><span class="co"># Daten simulieren</span></span>
<span><span class="va">did_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  Z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, each <span class="op">=</span> <span class="va">n</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  B <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">n</span><span class="op">)</span>,</span>
<span>  epsilon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">4</span> <span class="op">*</span> <span class="va">n</span><span class="op">)</span>,</span>
<span>  outcome <span class="op">=</span> <span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">+</span> <span class="fl">5</span> <span class="op">*</span> <span class="va">B</span> <span class="op">+</span> <span class="fl">4</span> <span class="op">*</span> <span class="va">Z</span> <span class="op">*</span> <span class="va">B</span> <span class="op">+</span> <span class="va">epsilon</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Überblick</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">did_data</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 400
Columns: 4
$ Z       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ B       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ epsilon &lt;dbl&gt; -1.20706575, 0.27742924, 1.08444118, -2.34569770, 0.42912469, …
$ outcome &lt;dbl&gt; 0.7929343, 2.2774292, 3.0844412, -0.3456977, 2.4291247, 2.5060…</code></pre>
</div>
</div>
<p>Mit <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> implementieren wir ein einfaches Interaktionsmodell und lesen den geschätzten Effekt aus.</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Modell mit Regression schätzen</span></span>
<span><span class="va">did_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="va">outcome</span> <span class="op">~</span> <span class="va">Z</span> <span class="op">*</span> <span class="va">B</span>, </span>
<span>  data <span class="op">=</span> <span class="va">did_data</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Geschätzten ATE auslesen</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">estimated_effect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span><span class="op">(</span><span class="va">did_model</span><span class="op">)</span><span class="op">[</span><span class="st">"Z:B"</span><span class="op">]</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Z:B 
3.639286 </code></pre>
</div>
</div>
<p>Die Schätzung des Behandlungseffekts von <span class="math inline">\(3.64\)</span> liegt nahe beim wahren Effekt von <span class="math inline">\(4\)</span>. Eine äquivalente Schätzung können wir mit <code><a href="https://lrberge.github.io/fixest/reference/feols.html">fixest::feols()</a></code> erhalten.</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lrberge.github.io/fixest/">fixest</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Interaktionsmodell mit feols() schätzen</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">outcome</span> <span class="op">~</span> <span class="va">Z</span> <span class="op">*</span> <span class="va">B</span>,</span>
<span>  data <span class="op">=</span> <span class="va">did_data</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: outcome
Observations: 400
Standard-errors: IID 
            Estimate Std. Error t value  Pr(&gt;|t|)    
(Intercept)  1.84324   0.101233 18.2078 &lt; 2.2e-16 ***
Z            3.19800   0.143166 22.3378 &lt; 2.2e-16 ***
B            5.31137   0.143166 37.0994 &lt; 2.2e-16 ***
Z:B          3.63929   0.202467 17.9747 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 1.00726   Adj. R2: 0.950969</code></pre>
</div>
</div>
<p>Für eine Schätzung mit Two-way-fixed-effects modifizieren wir den Funktionsaufruf von <code><a href="https://lrberge.github.io/fixest/reference/feols.html">feols()</a></code></p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Two-way-FE-Regression</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">outcome</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">Z</span> <span class="op">*</span> <span class="va">B</span><span class="op">)</span> <span class="op">|</span> <span class="va">B</span> <span class="op">+</span> <span class="va">Z</span>,</span>
<span>  data <span class="op">=</span> <span class="va">did_data</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: outcome
Observations: 400
Fixed-effects: B: 2,  Z: 2
Standard-errors: Clustered (B) 
         Estimate Std. Error      t value   Pr(&gt;|t|)    
I(Z * B)  3.63929    4.2e-15 8.666101e+14 7.3461e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 1.00726     Adj. R2: 0.950969
                Within R2: 0.449304</code></pre>
</div>
</div>
<p>Beachte, dass im Formel-Argument <code>fml</code> mit <code>I(Z * B)</code> lediglich der Interaktionseffekt als Regressor festgelegt wird. Fixe Effekte für Gruppenzugehörigkeit und Zeitpunkte werden durch den Zusatz <code>| B + Z</code> spezifiziert.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> Diese Reihenfolge führt zur Berechnung von cluster-robusten Standardfehlern auf Gruppen-Ebene (<code>B</code>). Wie erwartet können wir anhand des <span class="math inline">\(t\)</span>-Tests die Nullhypothese <span class="math inline">\(H_0:\,\beta_\text{DID} = 0\)</span> zu jeden relevanten Signifikanzniveau ablehnen.</p>
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;<code>I(Z * B)</code> statt <code>Z * B</code> stellt sicher, dass perferkte Multikollinearität aufgrund der Fixed-Effekts für <code>B</code> und <code>Z</code> vermieden wird.</p></div></div><p>Für die Visualisierung der Schätzung mit <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot2::ggplot()</a></code> berechnen wir zunächst Stichprobenmittelwerte für die Outcome-Variable <code>y</code> beider Gruppen zu beiden Zeitpunkten.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Stichprobenmittelwerte berechnen</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">means</span> <span class="op">&lt;-</span> <span class="va">did_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Z</span>, <span class="va">B</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span></span>
<span>    mean_outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span>, </span>
<span>   .groups <span class="op">=</span> <span class="st">'drop'</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
      Z     B mean_outcome
  &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt;
1     0     0          1.8
2     0     1          7.2
3     1     0          5.0
4     1     1         14. </code></pre>
</div>
</div>
<p>Die Stichprobenmittelwerte in <code>means</code> ermöglichen uns die Schätzung von <span class="math inline">\(\textcolor{red}{E(Y_B(0)|t=2)}\)</span>, das kontrafaktische erwartete Outcome (counterfactual) der Behandlungsgruppe zum Zeitpunkt <span class="math inline">\(t=2\)</span>,</p>
<p><span class="math display">\[\begin{align*}
  \textcolor{red}{\overline{Y_B(0)|t=2}} =&amp;\, \textcolor{red}{\overline{Y_B(0)|t=1}}
  + \bigg( \textcolor{blue}{\overline{Y_K(0)|t=2}} - \textcolor{blue}{\overline{Y_K(0)|t=1}} \bigg)\\
  =&amp;\, \textcolor{red}{7.2} + (\textcolor{blue}{5.0} - \textcolor{blue}{1.8}) \\
  =&amp;\, \textcolor{red}{10.4}.
\end{align*}\]</span></p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Counterfactual für Behandlungsgruppe in t=1</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">counterfactual</span> <span class="op">&lt;-</span> <span class="va">means</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Z</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">B</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">mean_outcome</span><span class="op">)</span> <span class="op">+</span></span>
<span>  </span>
<span>  <span class="op">(</span></span>
<span>    <span class="va">means</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>     <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Z</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">B</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>     <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">mean_outcome</span><span class="op">)</span> <span class="op">-</span></span>
<span>   </span>
<span>    <span class="va">means</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>     <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Z</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">B</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>     <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">mean_outcome</span><span class="op">)</span></span>
<span>   <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.35</code></pre>
</div>
</div>
<p>Der geschätzte Behandlungseffekt ist <span class="math display">\[\begin{align*}
\textcolor{orange}{\widehat{\beta}_\text{DID}} =&amp;\, \textcolor{red}{\overline{Y_B(1)\vert t=2}} - \textcolor{red}{\overline{Y_B(0)\vert t=2}}\\
=&amp;\,\textcolor{red}{14} - \textcolor{red}{10.4}\\
=&amp;\, \textcolor{orange}{3.6}.
\end{align*}\]</span></p>
<p>Wir plotten die Daten mit <code>ggplot2</code> und zeichnen die Trends sowie den geschätzten Behandlungseffekt ein.</p>
<div class="cell page-columns page-full">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Simulierte daten plotten</span></span>
<span><span class="va">did_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span></span>
<span>    mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">Z</span><span class="op">)</span>, </span>
<span>      y <span class="op">=</span> <span class="va">outcome</span>, </span>
<span>      color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">B</span><span class="op">)</span>, </span>
<span>      group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">B</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span></span>
<span>    position <span class="op">=</span> <span class="fu">position_jitter</span><span class="op">(</span></span>
<span>      width <span class="op">=</span> <span class="fl">.1</span>, </span>
<span>      seed <span class="op">=</span> <span class="fl">1234</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Zeitpunkt"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Outcome Y"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"B"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_color_manual</span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1"</span> <span class="op">=</span> <span class="st">"red"</span>, <span class="st">"0"</span> <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Trendlinien einzeichnen</span></span>
<span>  <span class="fu">stat_summary</span><span class="op">(</span></span>
<span>    fun <span class="op">=</span> <span class="va">mean</span>, </span>
<span>    geom <span class="op">=</span> <span class="st">"line"</span>, </span>
<span>    size <span class="op">=</span> <span class="fl">1.5</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Counterfactual für B-Gruppe einzeichnen</span></span>
<span>  <span class="fu">geom_segment</span><span class="op">(</span></span>
<span>    mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="fl">1</span>, </span>
<span>      xend <span class="op">=</span> <span class="fl">2</span>, </span>
<span>      y <span class="op">=</span> <span class="va">means</span><span class="op">$</span><span class="va">mean_outcome</span><span class="op">[</span></span>
<span>        <span class="va">means</span><span class="op">$</span><span class="va">Z</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">means</span><span class="op">$</span><span class="va">B</span> <span class="op">==</span> <span class="fl">1</span></span>
<span>        <span class="op">]</span>,</span>
<span>      yend <span class="op">=</span> <span class="va">counterfactual</span></span>
<span>    <span class="op">)</span>,</span>
<span>    linetype <span class="op">=</span> <span class="st">"dashed"</span>, </span>
<span>    color <span class="op">=</span> <span class="st">"red"</span>, </span>
<span>    size <span class="op">=</span> <span class="fl">1</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># gesch. Behandlungseffekt einzeichnen</span></span>
<span>  <span class="fu">geom_segment</span><span class="op">(</span></span>
<span>    mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="fl">2</span>, </span>
<span>      xend <span class="op">=</span> <span class="fl">2</span>, </span>
<span>      y <span class="op">=</span> <span class="va">counterfactual</span>,</span>
<span>      yend <span class="op">=</span> <span class="va">counterfactual</span> <span class="op">+</span> <span class="va">estimated_effect</span></span>
<span>    <span class="op">)</span>,</span>
<span>    linetype <span class="op">=</span> <span class="st">"dashed"</span>, </span>
<span>    color <span class="op">=</span> <span class="st">"orange"</span>, </span>
<span>    size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_cowplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-DIDSIMB" class="quarto-figure quarto-figure-center quarto-float anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full"><div aria-describedby="fig-DIDSIMB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="DiD_files/figure-html/fig-DIDSIMB-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-DIDSIMB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;5.2: Einfache DID-Schätzung mit R für simulierte Daten
</figcaption></figure>
</div>
</div>
</div>
</section><section id="case-study-effekt-von-steuererleichterungen-auf-erwerbsbeteilligung" class="level2 page-columns page-full" data-number="5.4"><h2 data-number="5.4" class="anchored" data-anchor-id="case-study-effekt-von-steuererleichterungen-auf-erwerbsbeteilligung">
<span class="header-section-number">5.4</span> Case Study: Effekt von Steuererleichterungen auf Erwerbsbeteilligung</h2>
<p>Der <a href="https://www.irs.gov/credits-deductions/individuals/earned-income-tax-credit-eitc">Earned Income Tax Credit</a> (EITC) ist ein Steuerguthaben für US-Amerkanische Familien, die unterhalb einer gesetztlich festgelegten Einkoemmnsgrenze liegen. Der genaue Betrag des EITC hängt gestaffelt vom Einkommen ab und, ähnlich zum Kindergeld in Deutschland, steigt mit der Anzahl der zu versorgenden Kinder. Ein wichtiger Unterschied zum Kindergeld ist, dass der EITC nicht beantragt werden muss: Qualifizierten Familien wird der Betrag automatisch durch die Behörden im Jahressteuerausgleich gutgeschrieben. Somit kann Selbstselektion in die Behandlungsgruppe ausgeschlossen werden, da sich die Behandlung ausschließlich durch die im Rahmen der EITC-Ausweitung geänderten Anspruchsgrundlagen ergibt.</p>
<p><span class="citation" data-cites="EissaLiebman1996">Eissa und Liebman (<a href="Literatur.html#ref-EissaLiebman1996" role="doc-biblioref">1996</a>)</span> betrachten Veränderungen in der EITC-Gesetzgebung als Intervention, deren Auswirkungen mit sozio-ökonomischen Paneldaten in einem DID-Ansatz untersucht werden können. Die Studie analysiert die Auswirkungen der ersten Ausweitung des EITC im Jahr 1986 auf die Erwerbsbeteiligung und die Löhne von Müttern im erwerbsfähigen Alter. Diese Erweiterung erhöhte die gewährten Steuererleichterungen und die zur Qualifikation für das Programm zu unterschreitende Einkommensgrenze.</p>
<p>Ein zentraler Befund der Studie ist, dass die EITC-Ausweitung von 1986 einen statistisch signifikanten Anstieg der Arbeitsbeteiligung alleinerziehender Frauen von geschätzten 3% bewirkt hat. <span class="citation" data-cites="EissaLiebman1996">Eissa und Liebman (<a href="Literatur.html#ref-EissaLiebman1996" role="doc-biblioref">1996</a>)</span> finden weiterhin signifikante positive Effekte auf die geleisteten Arbeitsstunden und Evidenz für Einkommensverbesserungen in dieser Gruppe. Die Studienergebnisse sind starke Evidenz, dass Maßnahmen wie der EITC effektiv dazu beitragen können, die Erwerbssituation in der Zielgruppe zu steigern und somit die wirtsschafts- und sozialpolitische Ziele derartiger Programme realisierbar sind.</p>
<p>Im Jahr 1993 wurde das Programm erneut ausgweitet: Vor 1993 gab es lediglich eine Einkommensstufe für Familien mit Kindern. 1993 wurde eine zusätzliche Stufe für Familien mit zwei oder mehr Kindern eigeführt, die damit einen höheren maximalen Kreditbetrag erhalten konnten als Familien mit nur einem Kind. Dies führte zu einer größeren steuerlichen Entlastung armutsbedrohter Familien.</p>
<p><span class="citation" data-cites="Adireksombat2010">Adireksombat (<a href="Literatur.html#ref-Adireksombat2010" role="doc-biblioref">2010</a>)</span> untersucht die Effekte der zweiten EITC-Ausweitung ebenfalls mit einem DID Ansatz und findet Evidenz für einen Anstieg der Arbeitbeteiligung von etwa 5% in der Zielgruppe alleinerziehender Frauen mit mindestens 2 Kindern.</p>
<p>Zur Illustration der empirischen Anwendung von DID mit R untersuchen wir Effekte der EITC-Ausweitung von 1993 nachfolgend anhand eines ähnlichen Datensatzes aus dem <a href="https://www.census.gov/programs-surveys/cps.html">CPS</a> wie in der Studie von <span class="citation" data-cites="Adireksombat2010">Adireksombat (<a href="Literatur.html#ref-Adireksombat2010" role="doc-biblioref">2010</a>)</span>. Diese Daten umfassen jährliche sozio-ökonomische Merkmale für US-amerikanische Frauen im Zeitraum von 1991 bis 1996 und sind in der Datei <code>eitc_data.csv</code> verfügbar.</p>
<p>Wir lesen den Datensatz zunächst ein.</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># EITC-Datensatz einlesen</span></span>
<span><span class="va">eitc_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"datasets/eitc_data.csv"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Eine Übersicht des Datensatzes <code>eitc_data</code> ist in <a href="#tbl-EITCdata" class="quarto-xref">Tabelle&nbsp;<span>5.1</span></a> dargestellt.</p>
<div class="cell page-columns page-full">
<div id="tbl-EITCdata" class="cell quarto-float anchored page-columns page-full">
<figure class="quarto-float quarto-float-tbl figure page-columns page-full"><div aria-describedby="tbl-EITCdata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<div id="fwrduujnuf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#fwrduujnuf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fwrduujnuf thead, #fwrduujnuf tbody, #fwrduujnuf tfoot, #fwrduujnuf tr, #fwrduujnuf td, #fwrduujnuf th {
  border-style: none;
}

#fwrduujnuf p {
  margin: 0;
  padding: 0;
}

#fwrduujnuf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fwrduujnuf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fwrduujnuf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fwrduujnuf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fwrduujnuf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fwrduujnuf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fwrduujnuf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fwrduujnuf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fwrduujnuf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fwrduujnuf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fwrduujnuf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fwrduujnuf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fwrduujnuf .gt_spanner_row {
  border-bottom-style: hidden;
}

#fwrduujnuf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fwrduujnuf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fwrduujnuf .gt_from_md > :first-child {
  margin-top: 0;
}

#fwrduujnuf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fwrduujnuf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fwrduujnuf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fwrduujnuf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fwrduujnuf .gt_row_group_first td {
  border-top-width: 2px;
}

#fwrduujnuf .gt_row_group_first th {
  border-top-width: 2px;
}

#fwrduujnuf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fwrduujnuf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fwrduujnuf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fwrduujnuf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fwrduujnuf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fwrduujnuf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fwrduujnuf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fwrduujnuf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fwrduujnuf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fwrduujnuf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fwrduujnuf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fwrduujnuf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fwrduujnuf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fwrduujnuf .gt_left {
  text-align: left;
}

#fwrduujnuf .gt_center {
  text-align: center;
}

#fwrduujnuf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fwrduujnuf .gt_font_normal {
  font-weight: normal;
}

#fwrduujnuf .gt_font_bold {
  font-weight: bold;
}

#fwrduujnuf .gt_font_italic {
  font-style: italic;
}

#fwrduujnuf .gt_super {
  font-size: 65%;
}

#fwrduujnuf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fwrduujnuf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fwrduujnuf .gt_indent_1 {
  text-indent: 5px;
}

#fwrduujnuf .gt_indent_2 {
  text-indent: 10px;
}

#fwrduujnuf .gt_indent_3 {
  text-indent: 15px;
}

#fwrduujnuf .gt_indent_4 {
  text-indent: 20px;
}

#fwrduujnuf .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="header gt_col_headings">
<th id="Variable" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Variable</th>
<th id="Beschreibung" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Beschreibung</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Variable">state</td>
<td class="gt_row gt_left" headers="Beschreibung">ID-Code Bundesstaat</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Variable">year</td>
<td class="gt_row gt_left" headers="Beschreibung">Steuerjahr</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Variable">urate</td>
<td class="gt_row gt_left" headers="Beschreibung">Arbeitslosenquote im Bundesstaat (%)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Variable">children</td>
<td class="gt_row gt_left" headers="Beschreibung">Anz. Kinder der Frau</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Variable">nonwhite</td>
<td class="gt_row gt_left" headers="Beschreibung">Dummy für nicht-weiße Frauen</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Variable">finc</td>
<td class="gt_row gt_left" headers="Beschreibung">Haushaltseinkommen im Steuerjahr (US-$)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Variable">earn</td>
<td class="gt_row gt_left" headers="Beschreibung">Einkommen der Frau im Steuerjahr (US-$)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Variable">age</td>
<td class="gt_row gt_left" headers="Beschreibung">Alter</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Variable">ed</td>
<td class="gt_row gt_left" headers="Beschreibung">Ausbildungsniveau der Frau (Jahre)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Variable">work</td>
<td class="gt_row gt_left" headers="Beschreibung">Dummy für Berufstätigkeit</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Variable">unearn</td>
<td class="gt_row gt_left" headers="Beschreibung">= Haushaltseinkommen - Einkommen der Frau (Tsd. US-$)</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-tbl margin-caption" id="tbl-EITCdata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;5.1: Sozi-ökomonische Variablen zu US-Familien aus dem CPS
</figcaption></figure>
</div>
</div>
<p>Wir erweitern das <code>tibble</code>-Objekt zunächst um eine Dummy-Variable für Mütter (<code>anykids</code>), sowie spezifischere Dummies für Frauen mit einem Kind (<code>onechild</code>) oder mit zwei oder mehr Kindern (<code>twomorekids</code>). Weiterhin erzeugen wir einen Indikator für Beobachtungen <em>nach</em> der EITC-Ausweitung im Jahr 1993 (<code>after1993</code>).</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Dummies für Frauen mit Kindern</span></span>
<span><span class="co"># und Post-Interventionsprediode hinzufügen </span></span>
<span><span class="va">eitc_data</span> <span class="op">&lt;-</span> <span class="va">eitc_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    onechild <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">children</span> <span class="op">==</span> <span class="fl">1</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    twomorekids <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">children</span> <span class="op">&gt;=</span> <span class="fl">2</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    anykids <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">children</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    after1993 <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&gt;</span> <span class="fl">1993</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Einen Überblick über den modifizierten Datensatz erhalten wir mit <code><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Modifikationen kontrollieren</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">eitc_data</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 13,746
Columns: 15
$ state       &lt;dbl&gt; 11, 12, 13, 14, 15, 16, 21, 22, 23, 31, 32, 33, 34, 35, 41…
$ year        &lt;dbl&gt; 1991, 1991, 1991, 1991, 1991, 1991, 1991, 1991, 1991, 1991…
$ urate       &lt;dbl&gt; 7.6, 7.2, 6.4, 9.1, 8.6, 6.8, 7.3, 6.7, 7.0, 6.4, 6.0, 7.2…
$ children    &lt;dbl&gt; 0, 1, 2, 0, 3, 1, 0, 0, 1, 2, 0, 2, 0, 0, 0, 1, 1, 0, 0, 0…
$ nonwhite    &lt;dbl&gt; 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0…
$ finc        &lt;dbl&gt; 18714, 4839, 8178, 9370, 14707, 21605, 19147, 64312, 17676…
$ earn        &lt;dbl&gt; 18714.4, 471.4, 0.0, 0.0, 14706.6, 18854.6, 14141.0, 63802…
$ age         &lt;dbl&gt; 26, 22, 33, 43, 23, 53, 52, 51, 20, 32, 51, 29, 54, 28, 27…
$ ed          &lt;dbl&gt; 10, 9, 11, 11, 7, 7, 11, 11, 11, 11, 9, 10, 9, 11, 11, 7, …
$ work        &lt;dbl&gt; 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1…
$ unearn      &lt;dbl&gt; 0.0000, 4.3672, 8.1782, 9.3696, 0.0000, 2.7504, 5.0059, 0.…
$ onechild    &lt;lgl&gt; FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE…
$ twomorekids &lt;lgl&gt; FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALS…
$ anykids     &lt;lgl&gt; FALSE, TRUE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, …
$ after1993   &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…</code></pre>
</div>
</div>
<p>Die Plausibilität der Annahme paralleler Trends können wir graphisch anhand einer Gegenüberstellung der <em>Beschäftigungsquote</em> (<code>avg.work = mean(work)</code>) für Frauen mit und ohne Kindern (<code>anykids</code>) über die Zeit (<code>year</code>) einschätzen. Wir gruppieren hierzu den Datensatz entsprechend und fassen die Outcome-Variable (<code>work</code>) gruppenweise zusammen.</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Zeitpunkt-Gruppen-Mittelwerte berechnen</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">eitc_summarised</span> <span class="op">&lt;-</span> <span class="va">eitc_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">anykids</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span></span>
<span>    avg.work <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">work</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
# Groups:   year [6]
    year anykids avg.work
   &lt;dbl&gt; &lt;lgl&gt;      &lt;dbl&gt;
 1  1991 FALSE       0.58
 2  1991 TRUE        0.46
 3  1992 FALSE       0.57
 4  1992 TRUE        0.44
 5  1993 FALSE       0.57
 6  1993 TRUE        0.44
 7  1994 FALSE       0.59
 8  1994 TRUE        0.46
 9  1995 FALSE       0.57
10  1995 TRUE        0.51
11  1996 FALSE       0.55
12  1996 TRUE        0.50</code></pre>
</div>
</div>
<div class="cell page-columns page-full">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Graphischer Vergleich der Trends</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">eitc_summarised</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span></span>
<span>    mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">year</span>, </span>
<span>      y <span class="op">=</span> <span class="va">avg.work</span>, </span>
<span>      col <span class="op">=</span> <span class="va">anykids</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Indikator für EITC-Erweiterung 1993</span></span>
<span>  <span class="fu">geom_vline</span><span class="op">(</span></span>
<span>    xintercept <span class="op">=</span> <span class="fl">1993</span>, </span>
<span>    lty <span class="op">=</span> <span class="st">"dashed"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_x_continuous</span><span class="op">(</span><span class="st">"Jahr"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_y_continuous</span><span class="op">(</span><span class="st">"Beschäftigungsquote"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_color_manual</span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"TRUE"</span> <span class="op">=</span> <span class="st">"red"</span>, <span class="st">"FALSE"</span> <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">guides</span><span class="op">(</span>color <span class="op">=</span> <span class="fu">guide_legend</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Kinder?"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_cowplot</span><span class="op">(</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-EITCtrends" class="quarto-figure quarto-figure-center quarto-float anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full"><div aria-describedby="fig-EITCtrends-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="DiD_files/figure-html/fig-EITCtrends-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-EITCtrends-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;5.3: Trends in der Erwerbsbeteiligung US-amerikanischer Frauen im CPS-Datensatz
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-EITCtrends" class="quarto-xref">Abbildung&nbsp;<span>5.3</span></a> zeigt, dass die Beschäftigungsquote für kinderlose Frauen deutlich oberhalb der Quote für Mütter verläuft. Die Trends vor der EITC-Ausweitung im Jahr 1993 sind sehr ähnlich, sodass eine parallele Entwicklung plausibel scheint.</p>
<section id="sec-didattest" class="level3 page-columns page-full" data-number="5.4.1"><h3 data-number="5.4.1" class="anchored" data-anchor-id="sec-didattest">
<span class="header-section-number">5.4.1</span> Schätzungen des ATT mit linearen Modellen</h3>
<p>Wir berechnen Zunächst den Behandlungseffekt der für Frauen mit Kindern relativ zu kinderlosen Frauen gemäß <span class="math inline">\(\eqref{eq:DIDMOMENTS}\)</span>, wobei wir jeweils <em>sämtliche</em> Perioden vor und nach der Behandlung einbeziehen. Dies führt zu den Ergebnissen in <a href="#tbl-EITCSM" class="quarto-xref">Tabelle&nbsp;<span>5.2</span></a>, wobei <span class="math display">\[\begin{align}
  \textcolor{orange}{\widehat\beta_\text{DID}} = (\textcolor{red}{B} - \textcolor{red}{A}) - (\textcolor{blue}{D} - \textcolor{blue}{C})
\end{align}\]</span> der geschätzte Behandlungseffekt ist.</p>
<div id="tbl-EITCSM" class="quarto-float anchored page-columns page-full">
<figure class="quarto-float quarto-float-tbl figure page-columns page-full"><div aria-describedby="tbl-EITCSM-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 23%">
</colgroup>
<thead><tr class="header">
<th></th>
<th style="text-align: center;">v. EITC-Ausweitung</th>
<th style="text-align: center;">n.&nbsp;EITC-Ausweitung</th>
<th style="text-align: center;">Differenz</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Kinder</strong></td>
<td style="text-align: center;"><span class="math inline">\(\textcolor{red}{A = .446}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\textcolor{red}{B = .491}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\textcolor{red}{.045}\)</span></td>
</tr>
<tr class="even">
<td><strong>k. Kinder</strong></td>
<td style="text-align: center;"><span class="math inline">\(\textcolor{blue}{C = .575}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\textcolor{blue}{D = .573}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\textcolor{blue}{-.002}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\textcolor{orange}{\widehat{\beta}_\text{DID}}\)</span></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><span class="math inline">\(\textcolor{orange}{.047}\)</span></td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-tbl margin-caption" id="tbl-EITCSM-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;5.2: <code>eitc_data</code>: Stichprobenmittelwerte für <code>work</code>
</figcaption></figure>
</div>
<p>Die nachfolgenden Code-Chunks zeigen die Schritte zur Berechnung von <span class="math inline">\(\widehat{\beta}_\text{DID}\)</span> mit R.</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># A, B, C und D berechnen</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">ABCD</span> <span class="op">&lt;-</span> <span class="va">eitc_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">after1993</span>, <span class="va">anykids</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>avg.work <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">work</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
# Groups:   after1993 [2]
  after1993 anykids avg.work
  &lt;lgl&gt;     &lt;lgl&gt;      &lt;dbl&gt;
1 FALSE     FALSE       0.58
2 FALSE     TRUE        0.45
3 TRUE      FALSE       0.57
4 TRUE      TRUE        0.49</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Differenzen bilden</span></span>
<span><span class="va">DminusC</span> <span class="op">&lt;-</span> <span class="va">ABCD</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">anykids</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">avg.work</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/diff.html">diff</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">BminusA</span> <span class="op">&lt;-</span> <span class="va">ABCD</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">anykids</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">avg.work</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/diff.html">diff</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># DID-Schätzung: Differenz der Stichprobenmittel-Differenzen</span></span>
<span><span class="va">beta_DID_means</span> <span class="op">&lt;-</span> <span class="va">BminusA</span> <span class="op">-</span> <span class="va">DminusC</span></span>
<span><span class="va">beta_DID_means</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.04687</code></pre>
</div>
</div>
<p>Durch Iteration von <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> können wir diese Rechenschritte effizienter ausführen.</p>
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Effizienter:</span></span>
<span><span class="va">eitc_data</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">after1993</span>, <span class="va">anykids</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>avg.work <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">work</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>diff_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diff.html">diff</a></span><span class="op">(</span><span class="va">avg.work</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>beta_DID_means <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diff.html">diff</a></span><span class="op">(</span><span class="va">diff_time</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">beta_DID_means</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.04687</code></pre>
</div>
</div>
<p>Wir erhalten also eine positive Schätzung des Behandlungseffekts. Die Interpretation ist, dass die Ausweitung des EITC im Jahr 1993 zu einem Anstieg der Erwerbsbeteiligung in der Gruppe der Frauen mit Kindern von durchschittlich <span class="math inline">\(4.69\%\)</span> in den Folgeperioden geführt hat.</p>
<p>Für die Berechnung von Inferenzstatistiken bezüglich <span class="math inline">\(\beta_\text{DID}\)</span> schätzen wir ein lineares Interaktionsmodell gemäß <span class="math inline">\(\eqref{eq:DIDREG}\)</span>,</p>
<p><span class="math display">\[\begin{align}
  \begin{split}
    \text{work}_{i,t} =&amp;\, \beta_0 + \beta_1 \text{anykids}_{i,t} + \beta_2 \text{after1993}_t \\
  +&amp;\, \beta_3 (\text{anykids}_{i,t} \times \text{after1993}_t) + \epsilon_{i,t}.
  \end{split}\label{eq:eitcmod}
\end{align}\]</span></p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Equivalente Schätzung u. Inferenz </span></span>
<span><span class="co"># mit linearem Interaktionsmodell</span></span>
<span><span class="va">DiD_reg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="va">work</span> <span class="op">~</span> <span class="va">anykids</span> <span class="op">*</span> <span class="va">after1993</span>, </span>
<span>  data <span class="op">=</span> <span class="va">eitc_data</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Der geschätzte Koeffizient des Interkationsterms stimmt mit der händisch berechneten Schätzung überein.</p>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tidy</span><span class="op">(</span><span class="va">DiD_reg</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">term</span> <span class="op">==</span> <span class="st">"anykidsTRUE:after1993TRUE"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.04687</code></pre>
</div>
</div>
<p>Mit <code>coeftest()</code> berechnen wir heteroskedastie-robuste Inferenzstatistiken.</p>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Robuste Inferenzstatistiken</span></span>
<span><span class="fu">coeftest</span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">DiD_reg</span>, </span>
<span>  vcov. <span class="op">=</span> <span class="va">vcovHC</span>, </span>
<span>  type <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
t test of coefficients:

                          Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                0.57546    0.00880   65.38   &lt;2e-16 ***
anykidsTRUE               -0.12950    0.01165  -11.12   &lt;2e-16 ***
after1993TRUE             -0.00207    0.01287   -0.16   0.8720    
anykidsTRUE:after1993TRUE  0.04687    0.01714    2.73   0.0063 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Der Koeffizient des Interaktionsterms ist zum 1%-Niveau signifikant. <code><a href="https://lrberge.github.io/fixest/reference/feols.html">fixest::feols()</a></code> liefert eine identische Schätzung.</p>
<div class="cell">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lrberge.github.io/fixest/">fixest</a></span><span class="op">)</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">DID_twoway</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>    fml <span class="op">=</span> <span class="va">work</span> <span class="op">~</span> <span class="va">anykids</span> <span class="op">*</span> <span class="va">after1993</span>,</span>
<span>    data <span class="op">=</span> <span class="va">eitc_data</span>, </span>
<span>    vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: work
Observations: 13,746
Standard-errors: Heteroskedasticity-robust 
                           Estimate Std. Error  t value  Pr(&gt;|t|)    
(Intercept)                0.575460   0.008802  65.3756 &lt; 2.2e-16 ***
anykidsTRUE               -0.129498   0.011648 -11.1176 &lt; 2.2e-16 ***
after1993TRUE             -0.002074   0.012873  -0.1611 0.8720396    
anykidsTRUE:after1993TRUE  0.046873   0.017144   2.7342 0.0062619 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.496672   Adj. R2: 0.012384</code></pre>
</div>
</div>
<p>Wir erweitern Modell <span class="math inline">\(\eqref{eq:eitcmod}\)</span> nun um Fixed Effekts für den <a href="https://cps.ipums.org/cps-action/variables/statefip">US-Bundesstaat</a> sowie das Jahr,</p>
<p><span class="math display">\[\begin{align}
  \begin{split}
    \text{work}_{i,t} =&amp;\, \theta_\text{Staat} + \eta_t \\
    +&amp;\, \beta_1 \text{anykids}_{i,t} + \beta_2 (\text{anykids}_{i,t} \times \text{after1993}_t) + \epsilon_{i,t}.
    \end{split}\label{eq:eitcmodfe}
\end{align}\]</span></p>
<p>Anhand der Dummy-Variablen für Bundesstaaten (<span class="math inline">\(\theta_\text{Staat}\)</span>) und Jahre (<span class="math inline">\(\eta_t\)</span>) kontrollieren wir für unbeobachtete zeitinvariante Unterschiede zwischen den Bundesstaaten sowie für allgemeine zeitliche Trends und Schocks, die alle Bundesstaaten in einem bestimmten Jahr betreffen. Dies schließt etwaige Backdoor-Pfade durch den Einfluss spezifischer Eigenschaften der Bundesstaaten (Kultur, Geografie, langfristige politische Einstellungen, etc.) und gemeinsamer zeitlicher Einflüsse.</p>
<div class="cell">
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lrberge.github.io/fixest/">fixest</a></span><span class="op">)</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">DID_twoway</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>    fml <span class="op">=</span> <span class="va">work</span> <span class="op">~</span> <span class="va">anykids</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">anykids</span> <span class="op">*</span> <span class="va">after1993</span><span class="op">)</span> </span>
<span>    <span class="op">|</span> <span class="va">state</span> <span class="op">+</span> <span class="va">year</span>,</span>
<span>    data <span class="op">=</span> <span class="va">eitc_data</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: work
Observations: 13,746
Fixed-effects: state: 51,  year: 6
Standard-errors: Clustered (state) 
                       Estimate Std. Error t value   Pr(&gt;|t|)    
anykidsTRUE            -0.12391    0.01593  -7.776 3.6952e-10 ***
I(anykids * after1993)  0.04579    0.01656   2.765 7.9497e-03 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.489063     Adj. R2: 0.038633
                 Within R2: 0.011101</code></pre>
</div>
</div>
<p>Die Schätzung des ATT bei Kontrolle für Zeit- und Bundesstaat-Effekte in <span class="math inline">\(\eqref{eq:eitcmodfe}\)</span> unterscheidet sich nur geringfügig gegenüber dem Ergebnis für das Modell <span class="math inline">\(\eqref{eq:eitcmod}\)</span>. Beachte, dass der Behandlungseffekt auch bei geclusterten Standardfehlern auf Bundesstaaten-Ebene (<code>| state + year</code>) signifikant ist.</p>
<p>Ein weiterer Vorteil von DID-Schätzungen mit Regression ist die Möglichkeit zur Kontrolle für individuen-spezifische Kovariablen, um Backdoors aufgrund systematischer Unterschiede zwischen Kontroll- und Behandlungsgruppen zu vermeiden.</p>
<p>Wir erweitern Modell <span class="math inline">\(\eqref{eq:eitcmodfec}\)</span> um sozio-ökonomische Charakteristika der Frauen: Einen Dummy für nicht-weiße Frauen (<code>nonwhite</code>), quadratische Terme in Alter (<code>age</code>) und Ausbildungsniveau (<code>ed</code>) sowie weitere Einkünfte des Haushalts (<code>unearn</code>),</p>
<p><span class="math display">\[\begin{align}
  \begin{split}
    \text{work}_{i,t} =&amp;\, \theta_\text{Staat} + \eta_t \\
    +&amp;\, \beta_1 \text{anykids}_{i,t} + \beta_2 (\text{anykids}_{i,t} \times \text{after1993}_t) \\
    +&amp;\, \beta_3 \text{unearn} + \beta_4 \text{nonwhite} \\
    +&amp;\, \beta_5 \text{age} + \beta_6 \text{age}^2 + \beta_7 \text{ed} + \beta_8 \text{ed}^2 \\
    +&amp;\, \epsilon_{i,t}.
    \end{split}\label{eq:eitcmodfec}
\end{align}\]</span></p>
<div class="cell">
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Year-FE + State-FE + Kontrollvariablen</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">DID_FE_controls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>    fml <span class="op">=</span> <span class="va">work</span> <span class="op">~</span> <span class="va">anykids</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">anykids</span> <span class="op">*</span> <span class="va">after1993</span><span class="op">)</span> </span>
<span>    </span>
<span>    <span class="op">+</span> <span class="va">unearn</span> <span class="op">+</span> <span class="va">nonwhite</span> </span>
<span>    <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">age</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span>    <span class="op">+</span> <span class="va">ed</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">ed</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="op">|</span> <span class="va">state</span> <span class="op">+</span> <span class="va">year</span>, </span>
<span>    </span>
<span>    data <span class="op">=</span> <span class="va">eitc_data</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: work
Observations: 13,746
Fixed-effects: state: 51,  year: 6
Standard-errors: Clustered (state) 
                        Estimate Std. Error  t value   Pr(&gt;|t|)    
anykidsTRUE            -0.119221   0.010673 -11.1709 3.4010e-15 ***
I(anykids * after1993)  0.055755   0.014385   3.8759 3.1021e-04 ***
unearn                 -0.017695   0.000959 -18.4575  &lt; 2.2e-16 ***
nonwhite               -0.080399   0.028048  -2.8665 6.0589e-03 ** 
age                     0.026323   0.003664   7.1847 3.0857e-09 ***
I(age^2)               -0.000316   0.000052  -6.0298 1.9673e-07 ***
ed                     -0.004160   0.006270  -0.6634 5.1013e-01    
I(ed^2)                 0.001536   0.000535   2.8701 6.0002e-03 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.46896     Adj. R2: 0.115657
                Within R2: 0.090729</code></pre>
</div>
</div>
<p>Die Schätzung von <span class="math inline">\(\eqref{eq:eitcmodfec}\)</span> ergibt mit <span class="math inline">\(0.0558\)</span> eine etwas größere Schätzung eines positiven signifikanten Effekt der EITC-Ausweitung auf die Erwerbsbeteiligung von Müttern.</p>
<p>Wie oben erläutert, führte die EITC-Ausweitung von 1993 unter anderem ein Stufensystem für die Höhe des EITC in Ahängigkeit der Kinder-Anzahl ein, sodass unterschiedlich starke Anreize zur Aufnahme einer Beschäftigung für Mütter mit nur einem Kind und mehreren Kindern plausibel sind. Anhand der Dummy-Variablen für (genau) ein Kind (<code>onechild</code>) sowie zwei oder mehr Kinder (<code>twomorekids</code>) können wir eine differenziertere Schätzung des Effekts hinsichtlich des Betreuungsaufwands erhalten. Hierzu modifizieren wir Modell <span class="math inline">\(\eqref{eq:eitcmodfec}\)</span> entsprechend:</p>
<p><span class="math display">\[\begin{align}
  \begin{split}
    \text{work}_{i,t} =&amp;\, \theta_\text{Staat} + \eta_t \\
    +&amp;\, \beta_1 \text{onechild}_{i,t} + \beta_2 (\text{onechild}_{i,t} \times \text{after1993}_t) \\
    +&amp;\, \beta_3 \text{twomorechild}_{i,t} + \beta_4 (\text{twomorechild}_{i,t} \times \text{after1993}_t) \\
    +&amp;\, \beta_5 \text{unearn} + \beta_6 \text{nonwhite} + \beta_7 \text{age} + \beta_8 \text{age}^2 + \beta_9 \text{ed} + \beta_{10} \text{ed}^2 \\
    +&amp;\, \epsilon_{i,t}.
  \end{split}\label{eq:eitcmodfecd}
\end{align}\]</span></p>
<div class="cell">
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Differenzierung: onechild / twomorekids</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">DID_FE_spec_controls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>    fml <span class="op">=</span> <span class="va">work</span> <span class="op">~</span> </span>
<span>      <span class="va">onechild</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">onechild</span> <span class="op">*</span> <span class="va">after1993</span><span class="op">)</span> </span>
<span>    <span class="op">+</span> <span class="va">twomorekids</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twomorekids</span> <span class="op">*</span> <span class="va">after1993</span><span class="op">)</span> </span>
<span>    </span>
<span>    <span class="op">+</span> <span class="va">unearn</span> <span class="op">+</span> <span class="va">nonwhite</span> </span>
<span>    <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">age</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span>    <span class="op">+</span> <span class="va">ed</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">ed</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="op">|</span> <span class="va">state</span> <span class="op">+</span> <span class="va">year</span>,</span>
<span>    </span>
<span>    data <span class="op">=</span> <span class="va">eitc_data</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: work
Observations: 13,746
Fixed-effects: state: 51,  year: 6
Standard-errors: Clustered (state) 
                            Estimate Std. Error  t value   Pr(&gt;|t|)    
onechildTRUE               -0.063581   0.013327  -4.7708 1.6319e-05 ***
I(onechild * after1993)     0.040539   0.017829   2.2737 2.7311e-02 *  
twomorekidsTRUE            -0.161675   0.013127 -12.3166  &lt; 2.2e-16 ***
I(twomorekids * after1993)  0.064799   0.016411   3.9485 2.4649e-04 ***
unearn                     -0.017334   0.000992 -17.4790  &lt; 2.2e-16 ***
nonwhite                   -0.073759   0.027833  -2.6501 1.0745e-02 *  
age                         0.028990   0.003475   8.3433 4.9204e-11 ***
I(age^2)                   -0.000357   0.000049  -7.2889 2.1209e-09 ***
ed                         -0.003765   0.006350  -0.5929 5.5595e-01    
I(ed^2)                     0.001517   0.000552   2.7474 8.3318e-03 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.467886     Adj. R2: 0.119572
                 Within R2: 0.094887</code></pre>
</div>
</div>
<p>Die interessierenden geschätzten Koeffizienten von <code>I(onechild * after1993)</code> und <code>I(twomorekids * after1993)</code> sind <span class="math inline">\(0.0405\)</span> und <span class="math inline">\(0.0648\)</span>. Auch hier sind die Koeffizienten signifikant von null verschieden. Der größere Koeffizient für den Effekt auf Mütter mit zwei oder mehr Kinder liefert Evidenz dafür, dass die Einführung der Zahlstufe für größere Familien im Rahmen der EITC-Ausweitung von 1993 tatsächlich einen etwas stärkeren Anreiz auf die Zielgruppe mit mehreren Kindern hatte.</p>
</section><section id="probit-spezifikationen" class="level3 page-columns page-full" data-number="5.4.2"><h3 data-number="5.4.2" class="anchored" data-anchor-id="probit-spezifikationen">
<span class="header-section-number">5.4.2</span> Probit-Spezifikationen</h3>
<p>In sämtlichen Modellen in <a href="#sec-didattest" class="quarto-xref"><span>Kapitel 5.4.1</span></a> haben wir <span class="math inline">\(\text{work}_{i,t}\)</span> als kontinulierliche Variable behandelt und den bedingten Erwartungswert als lineare Funktion modelliert. Da <span class="math inline">\(\text{work}_{i,t}\)</span> eine binäre Variable ist, haben wir damit implizit die bedingte <em>Wahrscheinlichkeit</em> der Erwerbsbeteiligung <span class="math inline">\(P(\text{work}_{i,t} = 1\vert \boldsymbol{x}_{i,t})\)</span> modelliert. Wie in <a href="Reg.html#sec-lpm" class="quarto-xref"><span>Kapitel 3.1.1</span></a> erläutert, kann ein solches lineares Wahrscheinlichkeitsmodell (LPM) einen nicht-linearen Verlauf der Wahrscheinlichkeitsfunktion <span class="math inline">\(P(\text{work}_{i,t} = 1\vert \boldsymbol{x}_{i,t})\)</span> nicht exakt abbilden, wobei tatsächliche Behandlungseffekte unter- oder überschätzt werden können. In manchen Fällen können geschätzte Wahrscheinlichkeiten sogar außerhalb des Intervalls <span class="math inline">\([0,1]\)</span> liegen. Statt eines LPM sollte ein generalisiertes lineares Modell (GLM) verwendet werden.</p>
<p>Wir modellieren nachfolgend den Effekt der EITC-Anpassung auf die Wahrscheinlichkeit einer Erwerbsbeteiligung von Müttern mit <a href="#sec-abcd">Probit-Regression</a>. Anstatt <code><a href="https://rdrr.io/r/stats/glm.html">stats::glm()</a></code> verwenden wir <code><a href="https://lrberge.github.io/fixest/reference/feglm.html">fixest::feglm()</a></code>.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> Analog zu <code><a href="https://lrberge.github.io/fixest/reference/feols.html">fixest::feols()</a></code> erlaubt <code><a href="https://lrberge.github.io/fixest/reference/feglm.html">fixest::feglm()</a></code> die Schätzung von Probit-Regressionen mit Fixed Effekts. Partielle Effekte können mit dem Paket <code>marginaleffects</code> berechnet werden. Wir schätzen zunächst eine Fixed-Effects-Probit-Regression analog zu <span class="math inline">\(\eqref{eq:eitcmodfe}\)</span>, d.h.</p>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;Eine weitere Option ist <code><a href="https://rdrr.io/pkg/alpaca/man/feglm.html">alpaca::feglm()</a></code>.</p></div></div><p><span class="math display">\[\begin{align}
  \begin{split}
    \Phi^{-1}\bigg[P(\text{work}_{i,t} = 1\vert \boldsymbol{x}_{i,t})\bigg]
    =&amp;\, \eta_t + \theta_\text{Staat} + \beta_1 \text{anykids}_{i,t}\\
    +&amp;\, \beta_2 (\text{anykids}_{i,t} \times \text{after1993}_{i,t}).\\
  \end{split}
\end{align}\]</span></p>
<p>Für die Berechnung der partiellen Effekte mit <code><a href="https://marginaleffects.com/man/slopes.html">marginaleffects::avg_slopes()</a></code> definieren wir die interargierten Regressoren direkt im Datensatz.</p>
<div class="cell">
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Interagierte Regressoren definieren</span></span>
<span><span class="va">eitc_data</span> <span class="op">&lt;-</span> <span class="va">eitc_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    int_anykids <span class="op">=</span> <span class="va">anykids</span> <span class="op">*</span> <span class="va">after1993</span>,</span>
<span>    int_onechild <span class="op">=</span> <span class="va">onechild</span> <span class="op">*</span> <span class="va">after1993</span>,</span>
<span>    int_twomore <span class="op">=</span> <span class="va">twomorekids</span> <span class="op">*</span> <span class="va">after1993</span></span>
<span>  <span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Die Struktur von <code><a href="https://lrberge.github.io/fixest/reference/feglm.html">feglm()</a></code> folgt dem selben Schema wie <code><a href="https://lrberge.github.io/fixest/reference/feols.html">feols()</a></code>. Das zusätzliche Argument <code>family = binomial("probit")</code> legt die entsprechende Link-Funktion fest.</p>
<div class="cell">
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Probit-Regression mit TWFE</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">EITC_DID_probit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feglm.html">feglm</a></span><span class="op">(</span></span>
<span>    fml <span class="op">=</span> <span class="va">work</span> <span class="op">~</span> <span class="va">anykids</span> <span class="op">+</span> <span class="va">int_anykids</span></span>
<span>    <span class="op">|</span> <span class="va">state</span> <span class="op">+</span> <span class="va">year</span>, </span>
<span>    family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span><span class="st">"probit"</span><span class="op">)</span>,</span>
<span>    data <span class="op">=</span> <span class="va">eitc_data</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>GLM estimation, family = binomial, Dep. Var.: work
Observations: 13,746
Fixed-effects: state: 51,  year: 6
Standard-errors: Clustered (state) 
            Estimate Std. Error z value   Pr(&gt;|z|)    
anykidsTRUE  -0.3204    0.04212  -7.606 2.8361e-14 ***
int_anykids   0.1189    0.04276   2.780 5.4308e-03 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Log-Likelihood: -9,224.4   Adj. Pseudo R2: 0.025402
           BIC: 19,001.5     Squared Cor.: 0.042557</code></pre>
</div>
</div>
<p>Die Schätzung ergibt einen positiven Effekt für <code>int_anykids</code>. Wie im linearen Modell ist der Koeffizient von <code>int_anykids</code> signifikant. Beachte, dass dieser Koeffizient die geschätzte Änderung der <em>latenten Variable</em> des Probit-Modells misst und <em>nicht</em> direkt als Behandlungseffekt interpretiert werden darf. Stattdessen können wir mit <code><a href="https://marginaleffects.com/man/slopes.html">marginaleffects::avg_slopes()</a></code> den durchschnittlichen partiellen Effekt des Interaktionsterms für Frauen in der Behandlungsgruppe für die Jahre 1994 bis 1996 berechnen. <code><a href="https://marginaleffects.com/man/datagrid.html">marginaleffects::datagrid()</a></code> setzt Variablen ohne spezifizierte Werte auf ihren Mittelwert (kontinuierlich) oder Modus (kategorisch). Der Modus von <code>state</code> ist 93 (California).</p>
<div class="cell">
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://marginaleffects.com/">marginaleffects</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">EITC_DID_probit</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://marginaleffects.com/man/slopes.html">avg_slopes</a></span><span class="op">(</span></span>
<span>    variables <span class="op">=</span> <span class="st">"int_anykids"</span>, </span>
<span>    newdata <span class="op">=</span> <span class="fu"><a href="https://marginaleffects.com/man/datagrid.html">datagrid</a></span><span class="op">(</span></span>
<span>      anykids <span class="op">=</span> <span class="fl">1</span>, </span>
<span>      year <span class="op">=</span> <span class="fl">1994</span><span class="op">:</span><span class="fl">1996</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        Term          Contrast Estimate Std. Error    z Pr(&gt;|z|)   S 2.5 %
 int_anykids mean(1) - mean(0)   0.0456     0.0161 2.83  0.00465 7.7 0.014
 97.5 %
 0.0771

Columns: term, contrast, estimate, std.error, statistic, p.value, s.value, conf.low, conf.high, predicted_lo, predicted_hi, predicted 
Type:  response </code></pre>
</div>
</div>
<p>Der geschätzte durchschnittliche partielle Effekt der EITC-Ausweitung für Mütter im Bundesstaat California für die Jahre 1994 bis 1996 ist eine Erhöhung der Wahrscheinlichkeit der Erwerbsbeteiligung um etwa <span class="math inline">\(4.57\%\)</span>.</p>
<p>Analog zu Modell <span class="math inline">\(\eqref{eq:eitcmodfecd}\)</span> kontrollieren wir in einer weiteren Regression zusätzlich für sozio-ökonomische Charakteristika und differenzieren zwischen dem Effekt für Frauen mit einem Kind und Müttern mit zwei oder mehr Kindern anhand des Modells</p>
<p><span class="math display">\[\begin{align}
  \begin{split}
    \Phi^{-1}\bigg[P(\text{work}_{i,t} = 1)\bigg] =&amp;\, \theta_\text{Staat} + \eta_t \\
    +&amp;\, \beta_1 \text{onechild}_{i,t} + \beta_2 (\text{onechild}_{i,t} \times \text{after1993}_t) \\
    +&amp;\, \beta_3 \text{twomorechild}_{i,t} + \beta_4 (\text{twomorechild}_{i,t} \times \text{after1993}_t) \\
    +&amp;\, \beta_5 \text{unearn} + \beta_6 \text{nonwhite} + \beta_7 \text{age} + \beta_8 \text{age}^2 + \beta_9 \text{ed} + \beta_{10} \text{ed}^2 \\
    +&amp;\, \epsilon_{i,t}.
  \end{split}
\end{align}\]</span></p>
<div class="cell">
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Probit-FE-Regression mit Kontrollvariablen</span></span>
<span><span class="co"># und Differenzierung des Effekts</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">EITC_DID_probit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feglm.html">feglm</a></span><span class="op">(</span></span>
<span>    fml <span class="op">=</span> <span class="va">work</span> <span class="op">~</span> <span class="va">onechild</span> <span class="op">+</span> <span class="va">int_onechild</span></span>
<span>    <span class="op">+</span> <span class="va">twomorekids</span> <span class="op">+</span> <span class="va">int_twomore</span></span>
<span>    </span>
<span>    <span class="op">+</span> <span class="va">unearn</span> <span class="op">+</span> <span class="va">nonwhite</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">ed</span> </span>
<span>    <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">ed</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">age</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="op">|</span> <span class="va">year</span> <span class="op">+</span> <span class="va">state</span>, </span>
<span>    family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span><span class="st">"probit"</span><span class="op">)</span>,</span>
<span>    data <span class="op">=</span> <span class="va">eitc_data</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>GLM estimation, family = binomial, Dep. Var.: work
Observations: 13,746
Fixed-effects: year: 6,  state: 51
Standard-errors: Clustered (year) 
                 Estimate Std. Error  z value   Pr(&gt;|z|)    
onechildTRUE    -0.180374   0.029751  -6.0628 1.3378e-09 ***
int_onechild     0.120223   0.041680   2.8844 3.9218e-03 ** 
twomorekidsTRUE -0.436599   0.022144 -19.7165  &lt; 2.2e-16 ***
int_twomore      0.183897   0.072453   2.5381 1.1144e-02 *  
unearn          -0.053551   0.003109 -17.2227  &lt; 2.2e-16 ***
nonwhite        -0.206060   0.026744  -7.7048 1.3105e-14 ***
age              0.078925   0.006161  12.8110  &lt; 2.2e-16 ***
ed              -0.009102   0.028450  -0.3199 7.4903e-01    
I(ed^2)          0.004198   0.001867   2.2479 2.4580e-02 *  
I(age^2)        -0.000966   0.000082 -11.8142  &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Log-Likelihood: -8,586.0   Adj. Pseudo R2: 0.091602
           BIC: 17,800.9     Squared Cor.: 0.145969</code></pre>
</div>
</div>
<p>Wir können nun zwei partielle Effekte berechnen: 1. für <code>int_onechild</code> und 2. für <code>int_twomore</code>. Hierzu setzten wir jeweils die übrigen Dummy-Variablen mit Bezug zur Anzahl der Kinder auf null. Weiterhin setzen wir <code>nonwhite = 0</code>, d.h. wir betrachten den Effekt für weiße Frauen im Bundesstaat California, wobei die übrigen Regressoren den Wert der jeweiligen Stichprobenmittel haben.</p>
<div class="cell">
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># 1. Durchschn. Partieller Effekt onechild</span></span>
<span><span class="va">EITC_DID_probit</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://marginaleffects.com/man/slopes.html">avg_slopes</a></span><span class="op">(</span></span>
<span>    variable <span class="op">=</span> <span class="st">"int_onechild"</span>,</span>
<span>    <span class="fu"><a href="https://marginaleffects.com/man/datagrid.html">datagrid</a></span><span class="op">(</span></span>
<span>      onechild <span class="op">=</span> <span class="fl">1</span>, </span>
<span>      twomorekids <span class="op">=</span> <span class="fl">0</span>, </span>
<span>      int_twomore <span class="op">=</span> <span class="fl">0</span>,</span>
<span>      year <span class="op">=</span> <span class="fl">1994</span><span class="op">:</span><span class="fl">1996</span>,</span>
<span>      nonwhite <span class="op">=</span> <span class="fl">0</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
         Term          Contrast Estimate Std. Error   z Pr(&gt;|z|)    S  2.5 %
 int_onechild mean(1) - mean(0)   0.0411     0.0117 3.5   &lt;0.001 11.1 0.0181
 97.5 %
 0.0641

Columns: term, contrast, estimate, std.error, statistic, p.value, s.value, conf.low, conf.high, predicted_lo, predicted_hi, predicted 
Type:  response </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># 1. Durchschn. Partieller Effekt twomore</span></span>
<span><span class="va">EITC_DID_probit</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://marginaleffects.com/man/slopes.html">avg_slopes</a></span><span class="op">(</span></span>
<span>    variable <span class="op">=</span> <span class="st">"int_twomore"</span>,</span>
<span>    <span class="fu"><a href="https://marginaleffects.com/man/datagrid.html">datagrid</a></span><span class="op">(</span></span>
<span>      int_onechild <span class="op">=</span> <span class="fl">0</span>, </span>
<span>      onechild <span class="op">=</span> <span class="fl">0</span>, </span>
<span>      twomorekids <span class="op">=</span> <span class="fl">1</span>, </span>
<span>      year <span class="op">=</span> <span class="fl">1994</span><span class="op">:</span><span class="fl">1996</span>,</span>
<span>      nonwhite <span class="op">=</span> <span class="fl">0</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        Term          Contrast Estimate Std. Error   z Pr(&gt;|z|)   S  2.5 %
 int_twomore mean(1) - mean(0)   0.0616     0.0228 2.7  0.00687 7.2 0.0169
 97.5 %
  0.106

Columns: term, contrast, estimate, std.error, statistic, p.value, s.value, conf.low, conf.high, predicted_lo, predicted_hi, predicted 
Type:  response </code></pre>
</div>
</div>
<p>Ähnlich wie in Modell <span class="math inline">\(\eqref{eq:eitcmodfecd}\)</span> erhalten wir signifikante positive Schätzungen. Der durchschnittliche Effekt für <code>int_twomore</code> ist mit einer Erhöhung der Wahrscheinlichkeit zur Aufnahme einer Beschäftigung von etwa <span class="math inline">\(6.16\%\)</span> etwas höher als die <span class="math inline">\(4.11\%\)</span> für <code>int_onechild</code>.</p>
</section></section><section id="case-study-effekt-von-polizeipräsenz-auf-autodiebstähle" class="level2 page-columns page-full" data-number="5.5"><h2 data-number="5.5" class="anchored" data-anchor-id="case-study-effekt-von-polizeipräsenz-auf-autodiebstähle">
<span class="header-section-number">5.5</span> Case Study: Effekt von Polizeipräsenz auf Autodiebstähle</h2>
<p>Nach einem Terroranschlag auf das größte jüdische Gemeindezentrum in Buenos Aires am 18. Juli 1994 wurden sämtliche jüdische und muslimische Einrichtungen in der Stadt rund um die Uhr von der argentinischen Polizei geschützt. Somit führte dieses Ereignis zu einer geografischen quasi-experimentellen Allokation von Polizeikräften in Gegenden mit entsprechenden Einrichtungen. In einem Forschungsdesign, dass die lokale Straßenkriminalität Kriminalität erklären soll, kann die sich aus der Allokation ergebende Variation in der Polizeipräsenz als exogen angenommen werden. <span class="citation" data-cites="DiTellaSchargrodsky2004">Di Tella und Schargrodsky (<a href="Literatur.html#ref-DiTellaSchargrodsky2004" role="doc-biblioref">2004</a>)</span> nutzen diesen Umstand, um anhand von Polizeistatistiken und Daten zu Autodiebstählen in Buenos Aires vor und nach dem Terroranschlag den Effekt erhöhter Polizeipräsenz auf die Kriminalität in einem Difference-in-Differences-Ansatz zu untersuchen. Die Studienergebnisse deuten darauf hin, dass es einen starken abschreckenden Effekt von Polizeistreifen gibt, der sich nur in einem engen Umkreis um den Häuserblock in dem die Polizei stationiert ist, auswirkt.</p>
<p>In diesem Kapitel reproduzieren wir Kernergebnisse der Studie mit R. Die benötigten Daten sind auf der <a href="https://www.aeaweb.org/articles?id=10.1257/000282804322970733">Webseite der American Economic Association</a> verfügbar. Die Daten stammen aus drei nicht zusammenhängenden Stadtvierteln von Buenos Aires die etwa 3.2% der Stadtfläche ausmachen und 6.9% der Bevölkerung beherbergen, wobei sich jedem Viertel eine Polizeistation befindet. Bei den untersuchten Stadtvierteln handelt es sich um die Viertel mit der größten Anzahl jüdischer Einrichtungen in der Stadt. Der Großteil der Häuserblocks in diesen Vierteln (insgesamt 876 Blöcke) liegen nicht in der Nähe einer geschützten Einrichtung. Blocks die mehr als zwei Blocks von einer geschützten Einrichtung entfernt liegen, bilden die Kontrollgruppe.</p>
<p>Wir verwenden nachfolgend den modifizierten Datensatz <code>polizeipraesenz.RDS</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Datensatz einlesen</span></span>
<span><span class="va">polizeipraesenz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="st">"datasets/polizeipraesenz.RDS"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tbl-polpr" class="quarto-float anchored page-columns page-full">
<figure class="quarto-float quarto-float-tbl figure page-columns page-full"><div aria-describedby="tbl-polpr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead><tr class="header">
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Beschreibung</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">institut</td>
<td style="text-align: center;">Jüdische Einrichtung im Block</td>
</tr>
<tr class="even">
<td style="text-align: center;">distanz</td>
<td style="text-align: center;">Entf. zu Block mit Einrichtung (in Blocks)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">monat</td>
<td style="text-align: center;">Monat der Beobachtung</td>
</tr>
<tr class="even">
<td style="text-align: center;">observ</td>
<td style="text-align: center;">ID-Variable für Block</td>
</tr>
<tr class="odd">
<td style="text-align: center;">totrob</td>
<td style="text-align: center;">Diebstähle pro Monat (normalisiert)</td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-tbl margin-caption" id="tbl-polpr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;5.3: <code>polizeipraesenz</code>: Autodiebstähle in Buenos Aires
</figcaption></figure>
</div>
<p>Zur Einschätzung der Annahme paralleler Trends berechnen wir zunächst die Durschnittliche Anzahl an Autodiebstählen Blöcke mit bzw. ohne jüdische Institutionen für die Monate April bis Dezember. Beachte, dass die Variable <code>monat</code> zwei Ausprägungen für den Monat des Anschlags aufweist: <code>Juli (1 - 17)</code> für die Juli-Tage vor dem Anschlag und für die verbleibenden Tage <code>Juli (18 - 31)</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Trends berechnen</span></span>
<span><span class="op">(</span></span>
<span>  <span class="va">polizeipraesenz_Trends</span> <span class="op">&lt;-</span> <span class="va">polizeipraesenz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>institut <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">institut</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">monat</span>, <span class="va">institut</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span></span>
<span>      `Durchschn. Diebstähle` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">totrob</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 3
# Groups:   monat [10]
   monat          institut `Durchschn. Diebstähle`
   &lt;ord&gt;          &lt;fct&gt;                      &lt;dbl&gt;
 1 April          0                          0.11 
 2 April          1                          0.12 
 3 Mai            0                          0.10 
 4 Mai            1                          0.088
 5 Juni           0                          0.076
 6 Juni           1                          0.13 
 7 Juli (1 - 17)  0                          0.041
 8 Juli (1 - 17)  1                          0.020
 9 Juli (18 - 31) 0                          0.054
10 Juli (18 - 31) 1                          0.027
11 August         0                          0.11 
12 August         1                          0.047
13 September      0                          0.099
14 September      1                          0.014
15 Oktober        0                          0.11 
16 Oktober        1                          0.061
17 November       0                          0.10 
18 November       1                          0.027
19 Dezember       0                          0.11 
20 Dezember       1                          0.027</code></pre>
</div>
</div>
<p>Die in <code>polizeipraesenz_Trends</code> erfasste Trendentwicklung für Blöcke in der Behandlungsgruppe (<code>institut == 1</code>) und in der Kontrollgruppe (<code>institut == 0</code>) plotten wir mit <code>ggplot2()</code>.</p>
<div class="cell page-columns page-full">
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Trends plotten</span></span>
<span><span class="va">polizeipraesenz_Trends</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span></span>
<span>    mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">monat</span>, </span>
<span>      y <span class="op">=</span> <span class="va">`Durchschn. Diebstähle`</span>, </span>
<span>      color <span class="op">=</span> <span class="va">institut</span>, </span>
<span>      group <span class="op">=</span> <span class="va">institut</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_vline</span><span class="op">(</span></span>
<span>    xintercept <span class="op">=</span> <span class="st">"Juli (18 - 31)"</span>, </span>
<span>    lty <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Monat"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Durchschn. Anz. Diebstähle / Monat"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_cowplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span></span>
<span>      angle <span class="op">=</span> <span class="fl">45</span>, </span>
<span>      hjust <span class="op">=</span> <span class="fl">1</span></span>
<span>    <span class="op">)</span>, </span>
<span>    legend.position <span class="op">=</span> <span class="st">"top"</span></span>
<span>  <span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div id="fig-totrobtrends" class="quarto-figure quarto-figure-center quarto-float anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full"><div aria-describedby="fig-totrobtrends-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="DiD_files/figure-html/fig-totrobtrends-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-totrobtrends-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;5.4: Geschätzte Trends für Autodiebstähle in Buenos Aires im Jahr 1994
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-totrobtrends" class="quarto-xref">Abbildung&nbsp;<span>5.4</span></a> zeigt einen ähnlichen Verlauf der Trends für den Zeitraum unmittelbar vor dem Anschalg am 18. Juli.</p>
<div class="cell">
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dat_listcol</span> <span class="op">&lt;-</span> <span class="va">polizeipraesenz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">observ</span>, <span class="va">monat</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>totrob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">totrob</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html">transmute</a></span><span class="op">(</span></span>
<span>    d2more <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">totrob</span><span class="op">[</span><span class="va">distanz</span> <span class="op">&gt;</span> <span class="fl">2</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    d2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">totrob</span><span class="op">[</span><span class="va">distanz</span> <span class="op">==</span> <span class="fl">2</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    d1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">totrob</span><span class="op">[</span><span class="va">distanz</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    same <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">totrob</span><span class="op">[</span><span class="va">institut</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tbl-cap="Deskriptive Statistiken für ">
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Mittelwerte und Standardabweichungen</span></span>
<span><span class="va">mean_sd</span> <span class="op">&lt;-</span> <span class="va">dat_listcol</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">monat</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span></span>
<span>      <span class="va">d2more</span><span class="op">:</span><span class="va">same</span>,</span>
<span>      .fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        mean <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span>, </span>
<span>        sd <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>  <span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">the_diffs</span> <span class="op">&lt;-</span> <span class="va">dat_listcol</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">monat</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span></span>
<span>    diff1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">same</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">d2more</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    diff2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">d1</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">same</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    diff3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">d2</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">d2more</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span>, </span>
<span>    .groups <span class="op">=</span> <span class="st">"keep"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html">transmute</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span></span>
<span>      <span class="va">diff1</span><span class="op">:</span><span class="va">diff3</span>, </span>
<span>      .fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        m <span class="op">=</span> <span class="op">~</span> <span class="fu">map_dbl</span><span class="op">(</span><span class="va">.</span>, \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/diff.html">diff</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">estimate</span><span class="op">)</span><span class="op">)</span>, </span>
<span>        sd <span class="op">=</span> <span class="op">~</span> <span class="fu">map_dbl</span><span class="op">(</span><span class="va">.</span>, \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">$</span><span class="va">stderr</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">form</span> <span class="op">&lt;-</span> <span class="va">the_diffs</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html">transmute</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">contains</a></span><span class="op">(</span><span class="st">"_m"</span><span class="op">)</span>, <span class="op">~</span> </span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"%.4f (%.4f)"</span>, <span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/get.html">get</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">sub</a></span><span class="op">(</span><span class="st">".m$"</span>, <span class="st">"_sd"</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">cur_column</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, </span>
<span>      .names <span class="op">=</span> <span class="st">"{.col}"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">form</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">tabopts</span><span class="op">(</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div id="pldfcaapkk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#pldfcaapkk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pldfcaapkk thead, #pldfcaapkk tbody, #pldfcaapkk tfoot, #pldfcaapkk tr, #pldfcaapkk td, #pldfcaapkk th {
  border-style: none;
}

#pldfcaapkk p {
  margin: 0;
  padding: 0;
}

#pldfcaapkk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pldfcaapkk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pldfcaapkk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pldfcaapkk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pldfcaapkk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pldfcaapkk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pldfcaapkk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pldfcaapkk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pldfcaapkk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pldfcaapkk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pldfcaapkk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pldfcaapkk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pldfcaapkk .gt_spanner_row {
  border-bottom-style: hidden;
}

#pldfcaapkk .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pldfcaapkk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pldfcaapkk .gt_from_md > :first-child {
  margin-top: 0;
}

#pldfcaapkk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pldfcaapkk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pldfcaapkk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pldfcaapkk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pldfcaapkk .gt_row_group_first td {
  border-top-width: 2px;
}

#pldfcaapkk .gt_row_group_first th {
  border-top-width: 2px;
}

#pldfcaapkk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pldfcaapkk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pldfcaapkk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pldfcaapkk .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pldfcaapkk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pldfcaapkk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pldfcaapkk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pldfcaapkk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pldfcaapkk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pldfcaapkk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pldfcaapkk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pldfcaapkk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pldfcaapkk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pldfcaapkk .gt_left {
  text-align: left;
}

#pldfcaapkk .gt_center {
  text-align: center;
}

#pldfcaapkk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pldfcaapkk .gt_font_normal {
  font-weight: normal;
}

#pldfcaapkk .gt_font_bold {
  font-weight: bold;
}

#pldfcaapkk .gt_font_italic {
  font-style: italic;
}

#pldfcaapkk .gt_super {
  font-size: 65%;
}

#pldfcaapkk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pldfcaapkk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pldfcaapkk .gt_indent_1 {
  text-indent: 5px;
}

#pldfcaapkk .gt_indent_2 {
  text-indent: 10px;
}

#pldfcaapkk .gt_indent_3 {
  text-indent: 15px;
}

#pldfcaapkk .gt_indent_4 {
  text-indent: 20px;
}

#pldfcaapkk .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="header gt_col_headings">
<th id="diff1_m" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">diff1_m</th>
<th id="diff2_m" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">diff2_m</th>
<th id="diff3_m" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">diff3_m</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd gt_group_heading_row">
<td colspan="3" id="April" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">April</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="April  diff1_m">-0.0221 (0.0606)</td>
<td class="gt_row gt_right" headers="April  diff2_m">0.0005 (0.0636)</td>
<td class="gt_row gt_right" headers="April  diff3_m">-0.0232 (0.0230)</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="3" id="Mai" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Mai</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="Mai  diff1_m">0.0206 (0.0356)</td>
<td class="gt_row gt_right" headers="Mai  diff2_m">0.0102 (0.0368)</td>
<td class="gt_row gt_right" headers="Mai  diff3_m">0.0111 (0.0205)</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="3" id="Juni" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Juni</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="Juni  diff1_m">-0.0498 (0.0480)</td>
<td class="gt_row gt_right" headers="Juni  diff2_m">0.0507 (0.0500)</td>
<td class="gt_row gt_right" headers="Juni  diff3_m">0.0088 (0.0155)</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="3" id="Juli (1 - 17)" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Juli (1 - 17)</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="Juli (1 - 17)  diff1_m">0.0190 (0.0133)</td>
<td class="gt_row gt_right" headers="Juli (1 - 17)  diff2_m">-0.0387 (0.0201)</td>
<td class="gt_row gt_right" headers="Juli (1 - 17)  diff3_m">0.0083 (0.0116)</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="3" id="Juli (18 - 31)" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Juli (18 - 31)</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="Juli (18 - 31)  diff1_m">0.0122 (0.0146)</td>
<td class="gt_row gt_right" headers="Juli (18 - 31)  diff2_m">-0.0460 (0.0215)</td>
<td class="gt_row gt_right" headers="Juli (18 - 31)  diff3_m">-0.0293 (0.0173)</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="3" id="August" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">August</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="August  diff1_m">0.0711 (0.0318)</td>
<td class="gt_row gt_right" headers="August  diff2_m">-0.0195 (0.0336)</td>
<td class="gt_row gt_right" headers="August  diff3_m">-0.0088 (0.0244)</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="3" id="September" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">September</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="September  diff1_m">0.0883 (0.0153)</td>
<td class="gt_row gt_right" headers="September  diff2_m">-0.0765 (0.0237)</td>
<td class="gt_row gt_right" headers="September  diff3_m">0.0033 (0.0205)</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="3" id="Oktober" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Oktober</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="Oktober  diff1_m">0.0603 (0.0376)</td>
<td class="gt_row gt_right" headers="Oktober  diff2_m">-0.0370 (0.0410)</td>
<td class="gt_row gt_right" headers="Oktober  diff3_m">0.0326 (0.0201)</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="3" id="November" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">November</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="November  diff1_m">0.0692 (0.0172)</td>
<td class="gt_row gt_right" headers="November  diff2_m">-0.0832 (0.0262)</td>
<td class="gt_row gt_right" headers="November  diff3_m">-0.0055 (0.0184)</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="3" id="Dezember" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Dezember</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_right" headers="Dezember  diff1_m">0.0747 (0.0181)</td>
<td class="gt_row gt_right" headers="Dezember  diff2_m">-0.0894 (0.0255)</td>
<td class="gt_row gt_right" headers="Dezember  diff3_m">-0.0044 (0.0196)</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Table 3</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lrberge.github.io/fixest/">fixest</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://modelsummary.com">modelsummary</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat_DID</span> <span class="op">&lt;-</span> <span class="va">polizeipraesenz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    treated <span class="op">=</span> <span class="va">institut</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>    group <span class="op">=</span> <span class="va">monat</span> <span class="op">&gt;</span> <span class="st">"Juli (1 - 17)"</span>,</span>
<span>    oneblock <span class="op">=</span> <span class="va">distanz</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>    twoblocks <span class="op">=</span> <span class="va">distanz</span> <span class="op">==</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">monat</span> <span class="op">!=</span> <span class="st">"Juli (18 - 31)"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># (A)</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>    <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>, </span>
<span>  data <span class="op">=</span> <span class="va">dat_DID</span>, </span>
<span>  vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 7,884
Fixed-effects: observ: 876,  monat: 9
Standard-errors: Heteroskedasticity-robust 
                   Estimate Std. Error t value   Pr(&gt;|t|)    
I(treated * group) -0.07753    0.02244  -3.456 0.00055241 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.216676     Adj. R2: 0.097072
                 Within R2: 0.001277</code></pre>
</div>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># (B)</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>    <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>, </span>
<span>  data <span class="op">=</span> <span class="va">dat_DID</span>, </span>
<span>  vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 7,884
Fixed-effects: observ: 876,  monat: 9
Standard-errors: Heteroskedasticity-robust 
                    Estimate Std. Error t value   Pr(&gt;|t|)    
I(treated * group)  -0.08007    0.02257 -3.5480 0.00039068 ***
I(oneblock * group) -0.01326    0.01386 -0.9564 0.33889333    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.216661     Adj. R2: 0.097067
                 Within R2: 0.001414</code></pre>
</div>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># (C)</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>    <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>, </span>
<span>  data <span class="op">=</span> <span class="va">dat_DID</span>, </span>
<span>  vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 7,884
Fixed-effects: observ: 876,  monat: 9
Standard-errors: Heteroskedasticity-robust 
                      Estimate Std. Error t value   Pr(&gt;|t|)    
I(treated * group)   -0.080802    0.02295 -3.5216 0.00043173 ***
I(oneblock * group)  -0.013988    0.01447 -0.9669 0.33362749    
I(twoblocks * group) -0.002185    0.01232 -0.1774 0.85920503    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.21666     Adj. R2: 0.096942
                Within R2: 0.001419</code></pre>
</div>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># (D)</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>    <span class="op">|</span> <span class="va">monat</span>,</span>
<span>  data <span class="op">=</span> <span class="va">dat_DID</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">monat</span> <span class="op">&gt;=</span> <span class="st">"August"</span><span class="op">)</span>,</span>
<span>  vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 4,380
Fixed-effects: monat: 5
Standard-errors: Heteroskedasticity-robust 
                      Estimate Std. Error t value   Pr(&gt;|t|)    
I(treated * group)   -0.072719    0.01139 -6.3852 1.8897e-10 ***
I(oneblock * group)  -0.011581    0.01090 -1.0623 2.8815e-01    
I(twoblocks * group) -0.003429    0.00925 -0.3707 7.1086e-01    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.256214     Adj. R2: 0.002028
                 Within R2: 0.00325 </code></pre>
</div>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># (E)</span></span>
<span><span class="co"># (doesnt match for some reason)</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span>, </span>
<span>  data <span class="op">=</span> <span class="va">dat_DID</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">distanz</span> <span class="op">&lt;=</span> <span class="fl">2</span><span class="op">)</span>, </span>
<span>  vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 3,816
Standard-errors: Heteroskedasticity-robust 
                     Estimate Std. Error t value   Pr(&gt;|t|)    
(Intercept)           0.08240   0.005641  14.608  &lt; 2.2e-16 ***
I(treated * group)   -0.04727   0.011453  -4.127 3.7549e-05 ***
I(oneblock * group)   0.01387   0.010934   1.269 2.0456e-01    
I(twoblocks * group)  0.02202   0.009297   2.369 1.7889e-02 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.240809   Adj. R2: 0.003361</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#### Table 4 ####</span></span>
<span></span>
<span><span class="co"># (A)</span></span>
<span><span class="va">dat_DID</span> <span class="op">&lt;-</span> <span class="va">polizeipraesenz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    treated <span class="op">=</span> <span class="va">institut</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>    group <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/between.html">between</a></span><span class="op">(</span><span class="va">mes</span>, <span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>,</span>
<span>    oneblock <span class="op">=</span> <span class="va">distanz</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>    twoblocks <span class="op">=</span> <span class="va">distanz</span> <span class="op">==</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">mes</span> <span class="op">&lt;=</span> <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod4_A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>, </span>
<span>  data <span class="op">=</span> <span class="va">dat_DID</span>, </span>
<span>  vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># (B)</span></span>
<span><span class="va">dat_DID</span> <span class="op">&lt;-</span> <span class="va">dat_DID</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    group <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/between.html">between</a></span><span class="op">(</span><span class="va">mes</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span></span>
<span>  <span class="op">)</span> </span>
<span></span>
<span><span class="va">mod4_B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>, </span>
<span>  data <span class="op">=</span> <span class="va">dat_DID</span>, </span>
<span>  vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># (C)</span></span>
<span><span class="va">dat_DID</span> <span class="op">&lt;-</span> <span class="va">dat_DID</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    group <span class="op">=</span> <span class="va">mes</span> <span class="op">==</span> <span class="fl">7</span>,</span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">mod4_C</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>, </span>
<span>  data <span class="op">=</span> <span class="va">dat_DID</span>, </span>
<span>  vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Tabellarische Zusamenfassung</span></span>
<span><span class="fu"><a href="https://modelsummary.com/man/modelsummary.html">modelsummary</a></span><span class="op">(</span></span>
<span>  models <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    A <span class="op">=</span> <span class="va">mod4_A</span>,</span>
<span>    B <span class="op">=</span> <span class="va">mod4_B</span>,</span>
<span>    C <span class="op">=</span> <span class="va">mod4_C</span></span>
<span>  <span class="op">)</span>, </span>
<span>  stars <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  gof_omit <span class="op">=</span> <span class="st">"^(?!(R2|Num.Obs.)$).*"</span>, </span>
<span>  output <span class="op">=</span> <span class="st">"gt"</span></span>
<span><span class="op">)</span> </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div id="cqvfrqatpj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#cqvfrqatpj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#cqvfrqatpj thead, #cqvfrqatpj tbody, #cqvfrqatpj tfoot, #cqvfrqatpj tr, #cqvfrqatpj td, #cqvfrqatpj th {
  border-style: none;
}

#cqvfrqatpj p {
  margin: 0;
  padding: 0;
}

#cqvfrqatpj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cqvfrqatpj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#cqvfrqatpj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cqvfrqatpj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cqvfrqatpj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cqvfrqatpj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cqvfrqatpj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cqvfrqatpj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cqvfrqatpj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cqvfrqatpj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cqvfrqatpj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cqvfrqatpj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cqvfrqatpj .gt_spanner_row {
  border-bottom-style: hidden;
}

#cqvfrqatpj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#cqvfrqatpj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cqvfrqatpj .gt_from_md > :first-child {
  margin-top: 0;
}

#cqvfrqatpj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cqvfrqatpj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cqvfrqatpj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#cqvfrqatpj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#cqvfrqatpj .gt_row_group_first td {
  border-top-width: 2px;
}

#cqvfrqatpj .gt_row_group_first th {
  border-top-width: 2px;
}

#cqvfrqatpj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cqvfrqatpj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#cqvfrqatpj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#cqvfrqatpj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cqvfrqatpj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cqvfrqatpj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cqvfrqatpj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#cqvfrqatpj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cqvfrqatpj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cqvfrqatpj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cqvfrqatpj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cqvfrqatpj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cqvfrqatpj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cqvfrqatpj .gt_left {
  text-align: left;
}

#cqvfrqatpj .gt_center {
  text-align: center;
}

#cqvfrqatpj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cqvfrqatpj .gt_font_normal {
  font-weight: normal;
}

#cqvfrqatpj .gt_font_bold {
  font-weight: bold;
}

#cqvfrqatpj .gt_font_italic {
  font-style: italic;
}

#cqvfrqatpj .gt_super {
  font-size: 65%;
}

#cqvfrqatpj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#cqvfrqatpj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#cqvfrqatpj .gt_indent_1 {
  text-indent: 5px;
}

#cqvfrqatpj .gt_indent_2 {
  text-indent: 10px;
}

#cqvfrqatpj .gt_indent_3 {
  text-indent: 15px;
}

#cqvfrqatpj .gt_indent_4 {
  text-indent: 20px;
}

#cqvfrqatpj .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="header gt_col_headings">
<th id=" " class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="A" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">A</th>
<th id="B" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">B</th>
<th id="C" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">C</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers=" ">I(treated * group)</td>
<td class="gt_row gt_center" headers="A">-0.019</td>
<td class="gt_row gt_center" headers="B">0.015</td>
<td class="gt_row gt_center" headers="C">-0.036</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" "></td>
<td class="gt_row gt_center" headers="A">(0.053)</td>
<td class="gt_row gt_center" headers="B">(0.040)</td>
<td class="gt_row gt_center" headers="C">(0.039)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">I(oneblock * group)</td>
<td class="gt_row gt_center" headers="A">-0.026</td>
<td class="gt_row gt_center" headers="B">0.014</td>
<td class="gt_row gt_center" headers="C">0.023</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" "></td>
<td class="gt_row gt_center" headers="A">(0.025)</td>
<td class="gt_row gt_center" headers="B">(0.020)</td>
<td class="gt_row gt_center" headers="C">(0.022)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">I(twoblocks * group)</td>
<td class="gt_row gt_center" headers="A">-0.033</td>
<td class="gt_row gt_center" headers="B">-0.015</td>
<td class="gt_row gt_center" headers="C">-0.009</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" "></td>
<td class="gt_row gt_center" headers="A">(0.023)</td>
<td class="gt_row gt_center" headers="B">(0.017)</td>
<td class="gt_row gt_center" headers="C">(0.017)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers=" ">Num.Obs.</td>
<td class="gt_row gt_center" headers="A">3504</td>
<td class="gt_row gt_center" headers="B">3504</td>
<td class="gt_row gt_center" headers="C">3504</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers=" ">R2</td>
<td class="gt_row gt_center" headers="A">0.321</td>
<td class="gt_row gt_center" headers="B">0.320</td>
<td class="gt_row gt_center" headers="C">0.320</td>
</tr>
</tbody>
<tfoot class="gt_sourcenotes"><tr class="odd">
<td colspan="4" class="gt_sourcenote">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td>
</tr></tfoot>
</table>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#### Table 5 ####</span></span>
<span></span>
<span><span class="va">dat_DID_T5</span> <span class="op">&lt;-</span> <span class="va">dat_DID</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    mbc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">barrio</span>, <span class="st">"_"</span>, <span class="va">monat</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># (A)</span></span>
<span><span class="co"># fixest</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span></span>
<span>  fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>,</span>
<span>  data <span class="op">=</span> <span class="va">dat_DID_T5</span>,</span>
<span>  vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 3,504
Fixed-effects: observ: 876,  monat: 4
Standard-errors: Heteroskedasticity-robust 
                      Estimate Std. Error t value Pr(&gt;|t|) 
I(treated * group)   -0.036111    0.03858 -0.9361  0.34933 
I(oneblock * group)   0.023105    0.02245  1.0294  0.30340 
I(twoblocks * group) -0.009403    0.01693 -0.5554  0.57870 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.182841     Adj. R2: 0.09205 
                 Within R2: 9.857e-4</code></pre>
</div>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># (B)</span></span>
<span><span class="co"># fixest</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span>fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>  <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>,</span>
<span>  data <span class="op">=</span> <span class="va">dat_DID_T5</span>, </span>
<span>  vcov <span class="op">=</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/vcov_cluster.html">vcov_cluster</a></span><span class="op">(</span><span class="st">"observ"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 3,504
Fixed-effects: observ: 876,  monat: 4
Standard-errors: Clustered (observ) 
                      Estimate Std. Error t value Pr(&gt;|t|) 
I(treated * group)   -0.036111    0.03414 -1.0578  0.29042 
I(oneblock * group)   0.023105    0.02227  1.0375  0.29980 
I(twoblocks * group) -0.009403    0.01514 -0.6212  0.53461 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.182841     Adj. R2: 0.09205 
                 Within R2: 9.857e-4</code></pre>
</div>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># (C)</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span>fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>      <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>      <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>      <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>,</span>
<span>      data <span class="op">=</span> <span class="va">dat_DID_T5</span>, </span>
<span>      vcov <span class="op">=</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/vcov_cluster.html">vcov_cluster</a></span><span class="op">(</span><span class="st">"mbc"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 3,504
Fixed-effects: observ: 876,  monat: 4
Standard-errors: Clustered (mbc) 
                      Estimate Std. Error t value Pr(&gt;|t|) 
I(treated * group)   -0.036111    0.03368 -1.0720  0.30666 
I(oneblock * group)   0.023105    0.02016  1.1462  0.27605 
I(twoblocks * group) -0.009403    0.02118 -0.4438  0.66577 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.182841     Adj. R2: 0.09205 
                 Within R2: 9.857e-4</code></pre>
</div>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># (E)</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span>fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>      <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>      <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>      <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">mbc</span>,</span>
<span>      data <span class="op">=</span> <span class="va">dat_DID_T5</span>,</span>
<span>      vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 3,504
Fixed-effects: observ: 876,  mbc: 12
Standard-errors: Heteroskedasticity-robust 
                      Estimate Std. Error  t value Pr(&gt;|t|) 
I(treated * group)   -0.065210    0.04077 -1.59930  0.10987 
I(oneblock * group)  -0.002133    0.02445 -0.08725  0.93048 
I(twoblocks * group) -0.024507    0.01754 -1.39742  0.16241 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.182412     Adj. R2: 0.093536
                 Within R2: 0.001302</code></pre>
</div>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># (F)</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span>fml <span class="op">=</span> <span class="va">totrob</span> <span class="op">~</span> </span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">treated</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>      <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">oneblock</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>      <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">twoblocks</span> <span class="op">*</span> <span class="va">group</span><span class="op">)</span> </span>
<span>      <span class="op">|</span> <span class="va">observ</span> <span class="op">+</span> <span class="va">monat</span>,</span>
<span>      data <span class="op">=</span> <span class="va">dat_DID_T5</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">observ</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">totrob</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span></span>
<span>        <span class="op">)</span>,</span>
<span>      vcov <span class="op">=</span> <span class="st">"HC1"</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: totrob
Observations: 1,780
Fixed-effects: observ: 445,  monat: 4
Standard-errors: Heteroskedasticity-robust 
                     Estimate Std. Error t value Pr(&gt;|t|) 
I(treated * group)   -0.07523    0.07054 -1.0664  0.28644 
I(oneblock * group)   0.03442    0.04609  0.7469  0.45527 
I(twoblocks * group) -0.03403    0.03308 -1.0287  0.30379 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.253716     Adj. R2: -0.025257
                 Within R2:  0.002012</code></pre>
</div>
</div>
</section><section id="zusammenfassung" class="level2" data-number="5.6"><h2 data-number="5.6" class="anchored" data-anchor-id="zusammenfassung">
<span class="header-section-number">5.6</span> Zusammenfassung</h2>
<p>Der DID-Schätzer liefert uns eine Schätzung des ATT, indem er die Veränderung der Ergebnisse in der Behandlungsgruppe vor und nach der Intervention mit der entsprechenden Veränderung in der Kontrollgruppe vergleicht. Die Annahme paralleler Trends ist entscheidend: Nur wenn diese Annahme gilt, können wir sicher sein, dass die Differenz in den Differenzen tatsächlich den kausalen Effekt der Behandlung widerspiegelt und nicht durch andere zeitgleiche Faktoren beeinflusst wird.</p>
<p>Zusammenfassend bietet der DID-Ansatz im Potential Outcomes Framework eine robuste Methode zur Schätzung kausaler Effekte, insbesondere wenn randomisierte Experimente nicht durchführbar sind. Durch den Vergleich von Zeitverläufen in Behandlungs- und Kontrollgruppen unter der Annahme paralleler Trends können wir verlässliche Schätzungen des ATT gewinnen.</p>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-Adireksombat2010" class="csl-entry" role="listitem">
Adireksombat, Kampon. 2010. <span>„The Effects of the 1993 Earned Income Tax Credit Expansion on the Labor Supply of Unmarried Women“</span>. <em>Public Finance Review</em> 38 (1): 11–40. https://doi.org/<a href="https://doi.org/10.1177/1091142109358626">https://doi.org/10.1177/1091142109358626</a>.
</div>
<div id="ref-CallawaySantAnna2021" class="csl-entry" role="listitem">
Callaway, Brantly, und Pedro H. C. Sant’Anna. 2021. <span>„Difference-in-Differences with Multiple Time Periods.“</span> <em>Journal of Econometrics</em> 225 (2): 200–230. <a href="https://doi.org/10.1016/j.jeconom.2020.12.001">https://doi.org/10.1016/j.jeconom.2020.12.001</a>.
</div>
<div id="ref-DiTellaSchargrodsky2004" class="csl-entry" role="listitem">
Di Tella, Rafael, und Ernesto Schargrodsky. 2004. <span>„Do Police Reduce Crime? Estimates Using the Allocation of Police Forces After a Terrorist Attack“</span>. <em>American Economic Review</em> 94 (1): 115–33. <a href="https://doi.org/10.1257/000282804322970733">https://doi.org/10.1257/000282804322970733</a>.
</div>
<div id="ref-EissaLiebman1996" class="csl-entry" role="listitem">
Eissa, N., und J. B. Liebman. 1996. <span>„Labor Supply Response to the Earned Income Tax Credit“</span>. <em>The Quarterly Journal of Economics</em> 111 (2): 605–37. <a href="https://doi.org/10.2307/2946689">https://doi.org/10.2307/2946689</a>.
</div>
<div id="ref-GoodmanBacon2021" class="csl-entry" role="listitem">
Goodman-Bacon, Andrew. 2021. <span>„Difference-in-Differences with Variation in Treatment Timing.“</span> <em>Journal of Econometrics</em> 225 (2): 254–77. <a href="https://doi.org/10.1016/j.jeconom.2021.03.014">https://doi.org/10.1016/j.jeconom.2021.03.014</a>.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./Matching.html" class="pagination-link" aria-label="Matching">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Matching</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./RDD.html" class="pagination-link" aria-label="Regression Discontiniuty Designs">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Regression Discontiniuty Designs</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Quellcode</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb80" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="an">webr:</span><span class="co"> </span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co">  show-startup-message: true</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co">  packages: [</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="co">            'dplyr',</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="co">            'ggplot2',</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="co">            'purrr',</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="co">            'fixest',</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a><span class="co">            'tidyr',</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a><span class="co">            'readr'</span></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a><span class="co">            ]</span></span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a><span class="in">.qwebr-code-output-stdout {background-color: powderblue;}</span></span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a><span class="in">.qwebr-button-run, .qwebr-button-reset, .qwebr-button-copy {</span></span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a><span class="in">  background-color:  rgba(0, 0, 0, 0);</span></span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a><span class="in">  border-style: none;</span></span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a><span class="in">  font-weight: 400;</span></span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a><span class="in">  color: white; </span></span>
<span id="cb80-23"><a href="#cb80-23" aria-hidden="true" tabindex="-1"></a><span class="in">  transition: none;</span></span>
<span id="cb80-24"><a href="#cb80-24" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb80-25"><a href="#cb80-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-26"><a href="#cb80-26" aria-hidden="true" tabindex="-1"></a><span class="in">.qwebr-editor-toolbar {</span></span>
<span id="cb80-27"><a href="#cb80-27" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 100%;</span></span>
<span id="cb80-28"><a href="#cb80-28" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb80-29"><a href="#cb80-29" aria-hidden="true" tabindex="-1"></a><span class="in">  justify-content: space-between;</span></span>
<span id="cb80-30"><a href="#cb80-30" aria-hidden="true" tabindex="-1"></a><span class="in">  box-sizing: border-box;</span></span>
<span id="cb80-31"><a href="#cb80-31" aria-hidden="true" tabindex="-1"></a><span class="in">  border-radius: 0 0 6px 6px;</span></span>
<span id="cb80-32"><a href="#cb80-32" aria-hidden="true" tabindex="-1"></a><span class="in">  background-color: darkgreen;</span></span>
<span id="cb80-33"><a href="#cb80-33" aria-hidden="true" tabindex="-1"></a><span class="in">  border-color: darkgreen;</span></span>
<span id="cb80-34"><a href="#cb80-34" aria-hidden="true" tabindex="-1"></a><span class="in">  border-width: 1px;</span></span>
<span id="cb80-35"><a href="#cb80-35" aria-hidden="true" tabindex="-1"></a><span class="in">  border-style: solid;</span></span>
<span id="cb80-36"><a href="#cb80-36" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0 0; </span></span>
<span id="cb80-37"><a href="#cb80-37" aria-hidden="true" tabindex="-1"></a><span class="in">  transition: color .1s ease-in-out, background-color .1s ease-in-out,border-color .1s ease-in-out,box-shadow .1s ease-in-out;</span></span>
<span id="cb80-38"><a href="#cb80-38" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb80-39"><a href="#cb80-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-40"><a href="#cb80-40" aria-hidden="true" tabindex="-1"></a><span class="in">.qwebr-editor-toolbar:hover {</span></span>
<span id="cb80-41"><a href="#cb80-41" aria-hidden="true" tabindex="-1"></a><span class="in">  background-color: white;</span></span>
<span id="cb80-42"><a href="#cb80-42" aria-hidden="true" tabindex="-1"></a><span class="in">  border-color: darkgreen;</span></span>
<span id="cb80-43"><a href="#cb80-43" aria-hidden="true" tabindex="-1"></a><span class="in">  border-width: 1px;</span></span>
<span id="cb80-44"><a href="#cb80-44" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb80-45"><a href="#cb80-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-46"><a href="#cb80-46" aria-hidden="true" tabindex="-1"></a><span class="in">.qwebr-editor-toolbar:hover * {</span></span>
<span id="cb80-47"><a href="#cb80-47" aria-hidden="true" tabindex="-1"></a><span class="in">  color: darkgreen;</span></span>
<span id="cb80-48"><a href="#cb80-48" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb80-49"><a href="#cb80-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-50"><a href="#cb80-50" aria-hidden="true" tabindex="-1"></a><span class="in">.overflow-guard, .qwebr-editor, .monaco-editor {</span></span>
<span id="cb80-51"><a href="#cb80-51" aria-hidden="true" tabindex="-1"></a><span class="in">  border-radius: 6px 6px 0 0;</span></span>
<span id="cb80-52"><a href="#cb80-52" aria-hidden="true" tabindex="-1"></a><span class="in">  border-width: 1px 1px 0 1px;</span></span>
<span id="cb80-53"><a href="#cb80-53" aria-hidden="true" tabindex="-1"></a><span class="in">  border-color: darkgreen;</span></span>
<span id="cb80-54"><a href="#cb80-54" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb80-55"><a href="#cb80-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-56"><a href="#cb80-56" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb80-57"><a href="#cb80-57" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-58"><a href="#cb80-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-59"><a href="#cb80-59" aria-hidden="true" tabindex="-1"></a><span class="fu"># Difference-in-Differences</span></span>
<span id="cb80-60"><a href="#cb80-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-61"><a href="#cb80-61" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F,message=F,warning=F}</span></span>
<span id="cb80-62"><a href="#cb80-62" aria-hidden="true" tabindex="-1"></a><span class="in"># Formatierung von gt-Tabellen</span></span>
<span id="cb80-63"><a href="#cb80-63" aria-hidden="true" tabindex="-1"></a><span class="in">library(gt)</span></span>
<span id="cb80-64"><a href="#cb80-64" aria-hidden="true" tabindex="-1"></a><span class="in">library(gtExtras)</span></span>
<span id="cb80-65"><a href="#cb80-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-66"><a href="#cb80-66" aria-hidden="true" tabindex="-1"></a><span class="in">custom_theme &lt;- function(x, ...) {</span></span>
<span id="cb80-67"><a href="#cb80-67" aria-hidden="true" tabindex="-1"></a><span class="in">    x %&gt;% gt::opt_row_striping(row_striping = FALSE)</span></span>
<span id="cb80-68"><a href="#cb80-68" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb80-69"><a href="#cb80-69" aria-hidden="true" tabindex="-1"></a><span class="in">options("modelsummary_theme_gt" = custom_theme)</span></span>
<span id="cb80-70"><a href="#cb80-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-71"><a href="#cb80-71" aria-hidden="true" tabindex="-1"></a><span class="in">tabopts &lt;- function(x) {</span></span>
<span id="cb80-72"><a href="#cb80-72" aria-hidden="true" tabindex="-1"></a><span class="in">    fmt_number(x, decimals = 3, drop_trailing_zeros = T)</span></span>
<span id="cb80-73"><a href="#cb80-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-74"><a href="#cb80-74" aria-hidden="true" tabindex="-1"></a><span class="in">    #gt_highlight_rows(fill = "white", rows = T, font_weight = NULL) #%&gt;%</span></span>
<span id="cb80-75"><a href="#cb80-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-76"><a href="#cb80-76" aria-hidden="true" tabindex="-1"></a><span class="in">    # tab_options(</span></span>
<span id="cb80-77"><a href="#cb80-77" aria-hidden="true" tabindex="-1"></a><span class="in">    #   table_body.hlines.color = "white",</span></span>
<span id="cb80-78"><a href="#cb80-78" aria-hidden="true" tabindex="-1"></a><span class="in">    #   column_labels.border.bottom.color = "black", </span></span>
<span id="cb80-79"><a href="#cb80-79" aria-hidden="true" tabindex="-1"></a><span class="in">    #   column_labels.border.top.color = "black",</span></span>
<span id="cb80-80"><a href="#cb80-80" aria-hidden="true" tabindex="-1"></a><span class="in">    #   table_body.border.bottom.color = "black", </span></span>
<span id="cb80-81"><a href="#cb80-81" aria-hidden="true" tabindex="-1"></a><span class="in">    #   table.border.bottom.color = "black",</span></span>
<span id="cb80-82"><a href="#cb80-82" aria-hidden="true" tabindex="-1"></a><span class="in">    #   column_labels.font.weight = "bold", </span></span>
<span id="cb80-83"><a href="#cb80-83" aria-hidden="true" tabindex="-1"></a><span class="in">    #   table.font.color = "black", </span></span>
<span id="cb80-84"><a href="#cb80-84" aria-hidden="true" tabindex="-1"></a><span class="in">    #   table.background.color = "white", </span></span>
<span id="cb80-85"><a href="#cb80-85" aria-hidden="true" tabindex="-1"></a><span class="in">    #   summary_row.background.color = "white", </span></span>
<span id="cb80-86"><a href="#cb80-86" aria-hidden="true" tabindex="-1"></a><span class="in">    #   grand_summary_row.background.color = "white", </span></span>
<span id="cb80-87"><a href="#cb80-87" aria-hidden="true" tabindex="-1"></a><span class="in">    #   stub.background.color = "white",</span></span>
<span id="cb80-88"><a href="#cb80-88" aria-hidden="true" tabindex="-1"></a><span class="in">    #   row_group.background.color = "white",</span></span>
<span id="cb80-89"><a href="#cb80-89" aria-hidden="true" tabindex="-1"></a><span class="in">    #   table.font.size = 16</span></span>
<span id="cb80-90"><a href="#cb80-90" aria-hidden="true" tabindex="-1"></a><span class="in">    #   ) %&gt;%</span></span>
<span id="cb80-91"><a href="#cb80-91" aria-hidden="true" tabindex="-1"></a><span class="in">    #  tab_style(</span></span>
<span id="cb80-92"><a href="#cb80-92" aria-hidden="true" tabindex="-1"></a><span class="in">    #    style = cell_fill(color = "white"),</span></span>
<span id="cb80-93"><a href="#cb80-93" aria-hidden="true" tabindex="-1"></a><span class="in">    #    locations = list(</span></span>
<span id="cb80-94"><a href="#cb80-94" aria-hidden="true" tabindex="-1"></a><span class="in">    #     cells_body(), </span></span>
<span id="cb80-95"><a href="#cb80-95" aria-hidden="true" tabindex="-1"></a><span class="in">    #     cells_row_groups() </span></span>
<span id="cb80-96"><a href="#cb80-96" aria-hidden="true" tabindex="-1"></a><span class="in">    #    )</span></span>
<span id="cb80-97"><a href="#cb80-97" aria-hidden="true" tabindex="-1"></a><span class="in">    #  )</span></span>
<span id="cb80-98"><a href="#cb80-98" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb80-99"><a href="#cb80-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-100"><a href="#cb80-100" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb80-101"><a href="#cb80-101" aria-hidden="true" tabindex="-1"></a><span class="in"># load the brexit data</span></span>
<span id="cb80-102"><a href="#cb80-102" aria-hidden="true" tabindex="-1"></a><span class="in">download.file(</span></span>
<span id="cb80-103"><a href="#cb80-103" aria-hidden="true" tabindex="-1"></a><span class="in">    "https://raw.githubusercontent.com/mca91/kausal_data/main/brexit.csv",</span></span>
<span id="cb80-104"><a href="#cb80-104" aria-hidden="true" tabindex="-1"></a><span class="in">    'datasets/brexit.csv',</span></span>
<span id="cb80-105"><a href="#cb80-105" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb80-106"><a href="#cb80-106" aria-hidden="true" tabindex="-1"></a><span class="in">brexit &lt;- read_csv("datasets/brexit.csv") %&gt;% as.data.frame</span></span>
<span id="cb80-107"><a href="#cb80-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-108"><a href="#cb80-108" aria-hidden="true" tabindex="-1"></a><span class="in"># load the Synth package</span></span>
<span id="cb80-109"><a href="#cb80-109" aria-hidden="true" tabindex="-1"></a><span class="in">library(cowplot)</span></span>
<span id="cb80-110"><a href="#cb80-110" aria-hidden="true" tabindex="-1"></a><span class="in">library(broom)</span></span>
<span id="cb80-111"><a href="#cb80-111" aria-hidden="true" tabindex="-1"></a><span class="in">library(AER)</span></span>
<span id="cb80-112"><a href="#cb80-112" aria-hidden="true" tabindex="-1"></a><span class="in">options(pillar.sigfig = 2)</span></span>
<span id="cb80-113"><a href="#cb80-113" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-114"><a href="#cb80-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-115"><a href="#cb80-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-116"><a href="#cb80-116" aria-hidden="true" tabindex="-1"></a>Der Difference-in-Differences (DID) Ansatz erlaubt die Schätzung kausaler Effekte in quasi-experimentellen Forschungsdesigns, in denen Boebachtungen für Kontroll- und Behandlungsgruppe zu mindestens zwei Zeitpunkten vorliegen und die Behandlung zwischen diesen Zeitpunkten stattfindet: Wir beobachten sowohl die Kontroll- als auch die Behandlungsgruppe vor und nachdem die Behandlung erfolgt ist. Die Motivation für die Anwendung des DID-Ansatzes liegt in der Fähigkeit, typische Risiken einer Verzerrungen zu umgehen, die bei einfachen Vorher-Nachher-Vergleichen oder reinen Querschnittsvergleichen auftreten können. Die Kernidee ist eine Schätzung des ATT durch einen Vergleich durchschnittlicher Differenzen der Outcome-Variable beider Gruppen zwischen den Perdioden vor und nach der Intervention. @fig-CDDID zeigt ein kausales Diagramm für ein Forschungsdesign, in dem DID den ATT identifizieren kann.</span>
<span id="cb80-117"><a href="#cb80-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-120"><a href="#cb80-120" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb80-121"><a href="#cb80-121" aria-hidden="true" tabindex="-1"></a><span class="in">//| fig-width: 5</span></span>
<span id="cb80-122"><a href="#cb80-122" aria-hidden="true" tabindex="-1"></a><span class="in">//| fig-height: 3</span></span>
<span id="cb80-123"><a href="#cb80-123" aria-hidden="true" tabindex="-1"></a><span class="in">//| fig-align: 'center'</span></span>
<span id="cb80-124"><a href="#cb80-124" aria-hidden="true" tabindex="-1"></a><span class="in">//| fig-cap: "Kausales Diagramm für DID"</span></span>
<span id="cb80-125"><a href="#cb80-125" aria-hidden="true" tabindex="-1"></a><span class="in">//| label: "fig-CDDID" </span></span>
<span id="cb80-126"><a href="#cb80-126" aria-hidden="true" tabindex="-1"></a><span class="in">digraph "Causal Diagramm RDD" {</span></span>
<span id="cb80-127"><a href="#cb80-127" aria-hidden="true" tabindex="-1"></a><span class="in">  layout=neato</span></span>
<span id="cb80-128"><a href="#cb80-128" aria-hidden="true" tabindex="-1"></a><span class="in">  fontname="Helvetica,Arial,sans-serif"</span></span>
<span id="cb80-129"><a href="#cb80-129" aria-hidden="true" tabindex="-1"></a><span class="in">  node [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb80-130"><a href="#cb80-130" aria-hidden="true" tabindex="-1"></a><span class="in">  edge [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb80-131"><a href="#cb80-131" aria-hidden="true" tabindex="-1"></a><span class="in">  node [shape=none];</span></span>
<span id="cb80-132"><a href="#cb80-132" aria-hidden="true" tabindex="-1"></a><span class="in">  "Behandlung B" [pos="0,0!"]</span></span>
<span id="cb80-133"><a href="#cb80-133" aria-hidden="true" tabindex="-1"></a><span class="in">  "Outcome Y" [pos="4,0!"]</span></span>
<span id="cb80-134"><a href="#cb80-134" aria-hidden="true" tabindex="-1"></a><span class="in">  "Gruppenzugehörigkeit" [pos="2,-1.5!"]</span></span>
<span id="cb80-135"><a href="#cb80-135" aria-hidden="true" tabindex="-1"></a><span class="in">  "Zeit t" [pos="2,1.5!"]</span></span>
<span id="cb80-136"><a href="#cb80-136" aria-hidden="true" tabindex="-1"></a><span class="in">  "Behandlung B" -&gt; "Outcome Y" [color="green"]</span></span>
<span id="cb80-137"><a href="#cb80-137" aria-hidden="true" tabindex="-1"></a><span class="in">  "Zeit t" -&gt; "Outcome Y" [color="red"]</span></span>
<span id="cb80-138"><a href="#cb80-138" aria-hidden="true" tabindex="-1"></a><span class="in">  "Zeit t" -&gt; "Behandlung B" [color="red"]</span></span>
<span id="cb80-139"><a href="#cb80-139" aria-hidden="true" tabindex="-1"></a><span class="in">  "Gruppenzugehörigkeit" -&gt; "Outcome Y" [color="red"]</span></span>
<span id="cb80-140"><a href="#cb80-140" aria-hidden="true" tabindex="-1"></a><span class="in">  "Gruppenzugehörigkeit" -&gt; "Behandlung B" [color="red"]</span></span>
<span id="cb80-141"><a href="#cb80-141" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb80-142"><a href="#cb80-142" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-143"><a href="#cb80-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-144"><a href="#cb80-144" aria-hidden="true" tabindex="-1"></a> @fig-CDDID illustriert Confounding bei der Bestimmung des Behandlungseffekts durch Backdoors in der Zeit $t$ und der Gruppenzugehörigkeit: </span>
<span id="cb80-145"><a href="#cb80-145" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb80-146"><a href="#cb80-146" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Zeit**: Der Behandlungszustand der behandelten Gruppe ändert sich durch die Intervention zwischen der Vor- und der Nachbehandlungsperiode. Die Outcome-Variable $Y$ ändert sich für beide Gruppen über die Zeit hinweg.</span>
<span id="cb80-147"><a href="#cb80-147" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb80-148"><a href="#cb80-148" aria-hidden="true" tabindex="-1"></a><span class="ss"> - </span>**Gruppenzugehörigkeit**: Die Gruppenzugehörigkeit legt fest, ob eine Behandlung erfolgt. Systematische Unterschiede zwischen Behandlungs- und Kontrollgruppe wirken sich auf die Outcome-Variable $Y$ aus.</span>
<span id="cb80-149"><a href="#cb80-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-150"><a href="#cb80-150" aria-hidden="true" tabindex="-1"></a>In einem DID-Ansatz ermöglicht die Beobachtung von Kontroll- und Behandlungsgruppen jeweils *bevor und nach* einer Intervention das Herausrechnen von systematischen Unterschieden zwischen Behandlungs- und Kontrollgruppe und von Zeiteffekten, sodass die Backdoors durch Gruppenzugehörigkeit und Zeit geschlossen. Die Schätzung eines durchschnittlichen Behandlungseffekts erfolgt hierbei unter der Annahme, dass die Outcome-Variable beider Gruppen *ohne die Intervention* einen hinreichend ähnlichen Verlauf aufweisen würde und damit die Kontrollgruppe ein plausibles Counterfactual für die Behandlungsgruppe darstellt.</span>
<span id="cb80-151"><a href="#cb80-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-152"><a href="#cb80-152" aria-hidden="true" tabindex="-1"></a><span class="fu">## Einordnung im Potential Outcomes Framework</span></span>
<span id="cb80-153"><a href="#cb80-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-154"><a href="#cb80-154" aria-hidden="true" tabindex="-1"></a>Im Potential Outcomes Framework nehmen wir an, dass jede Einheit $i$ in Abhänigkeit ihres Behandlungsstatus zwei potentielle Ergebnisse hat. Wir unterscheiden zwischen Beobachtungen in Behandlungs- und Kontrollgruppe:</span>
<span id="cb80-155"><a href="#cb80-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-156"><a href="#cb80-156" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>$Y_{i,B}(1)$: $Y$ für Einheit $i$ in der Behandlungsgruppe, wenn diese behandelt wird.</span>
<span id="cb80-157"><a href="#cb80-157" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>$Y_{i,B}(0)$: $Y$ für Einheit $i$ in der Behandlungsgruppe, wenn diese *nicht* behandelt wird.</span>
<span id="cb80-158"><a href="#cb80-158" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>$Y_{i,K}(1)$: $Y$ für Einheit $i$ in der Kontrollgruppe, wenn diese behandelt wird.</span>
<span id="cb80-159"><a href="#cb80-159" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>$Y_{i,K}(0)$: $Y$ für Einheit $i$ in der Kontrollgruppe, wenn diese *nicht* behandelt wird.</span>
<span id="cb80-160"><a href="#cb80-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-161"><a href="#cb80-161" aria-hidden="true" tabindex="-1"></a>In einem DID-Forschungsdesign hängen tatsächliche und potentielle Outcomes von der Zeit $t$ ab: Die Behandlungsgruppe wird zwischen den Zeitpunkten $t = 0$ und $t = 1$ behandelt, während die Kontrollgruppe unbehandelt bleibt. Für die Identifizierung des Behandlungseffekts wird unterstellt, dass $Y$ sich zwischen $t=0$ und $t=1$ in der Behandlungsgruppe *ohne eine Behandlung* (im Erwartungswert) mit demselben Trend entwickelt hätte, mit dem sich die Kontrollgruppe tatsächlich entwickelt hat (parallele Trends). Die Gültigkeit paralleler Trends ist entscheidend für die Validität der DID-Methode, da so sicherstellt ist, dass die beobachteten Unterschiede in den Ergebnissen auf die Behandlung zurückzuführen sind und nicht auf andere zeitgleich auftretende Faktoren. Der Behandlungseffekt kann dann als eine *Differenz von Differenzen* geschrieben werden: </span>
<span id="cb80-162"><a href="#cb80-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-163"><a href="#cb80-163" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-164"><a href="#cb80-164" aria-hidden="true" tabindex="-1"></a>  \begin{split}</span>
<span id="cb80-165"><a href="#cb80-165" aria-hidden="true" tabindex="-1"></a>    \beta_\textup{DID} =&amp; \, \bigg({\color{red}\textup{E}\big<span class="co">[</span><span class="ot">Y_B(1)\vert t=1\big</span><span class="co">]</span> - \textup{E}\big<span class="co">[</span><span class="ot">Y_B(0)\vert t=0\big</span><span class="co">]</span>} \bigg)<span class="sc">\\</span></span>
<span id="cb80-166"><a href="#cb80-166" aria-hidden="true" tabindex="-1"></a>  -&amp;\, \bigg({\color{blue}\textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=1\big</span><span class="co">]</span> -  \textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=0\big</span><span class="co">]</span>} \bigg)</span>
<span id="cb80-167"><a href="#cb80-167" aria-hidden="true" tabindex="-1"></a>  \end{split}\label{eq:DID-ATT1}</span>
<span id="cb80-168"><a href="#cb80-168" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-169"><a href="#cb80-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-170"><a href="#cb80-170" aria-hidden="true" tabindex="-1"></a>Der Effekt $\beta_\textup{DID}$ ist ein ATT, der über das Schließen der Backdoor in der Zeit (rote und blaue Differenzen der Erwartungswerte zwischen $t=0$ und $t=1$) sowie der Backdoor in der Gruppenzugehörigkeit (Differenz der Erwartungswert-Differenzen) identifiziert wird.</span>
<span id="cb80-171"><a href="#cb80-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-172"><a href="#cb80-172" aria-hidden="true" tabindex="-1"></a>Eine Null-Ergänzung von \eqref{eq:DID-ATT1} mit ${\color{blue}\textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=1\big</span><span class="co">]</span> -  \textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=1\big</span><span class="co">]</span>}$ zeigt die Wichtigkeit der Gültigkeit paralleler Trends:</span>
<span id="cb80-173"><a href="#cb80-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-174"><a href="#cb80-174" aria-hidden="true" tabindex="-1"></a>\begin{align*}</span>
<span id="cb80-175"><a href="#cb80-175" aria-hidden="true" tabindex="-1"></a>    \beta_\textup{DID} =&amp; \, \bigg({\color{red}\textup{E}\big<span class="co">[</span><span class="ot">Y_B(1)\vert t=1\big</span><span class="co">]</span> - \textup{E}\big<span class="co">[</span><span class="ot">Y_B(0)\vert t=0\big</span><span class="co">]</span>} \bigg)</span>
<span id="cb80-176"><a href="#cb80-176" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>\bigg({\color{blue}\textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=1\big</span><span class="co">]</span> -  \textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=0\big</span><span class="co">]</span>} \bigg)<span class="sc">\\</span> + &amp;\,</span>
<span id="cb80-177"><a href="#cb80-177" aria-hidden="true" tabindex="-1"></a>{\color{blue}\textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=1\big</span><span class="co">]</span> -  \textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=1\big</span><span class="co">]</span>}<span class="sc">\\</span></span>
<span id="cb80-178"><a href="#cb80-178" aria-hidden="true" tabindex="-1"></a>    <span class="sc">\\</span></span>
<span id="cb80-179"><a href="#cb80-179" aria-hidden="true" tabindex="-1"></a>    =&amp;\, \underbrace{{\color{red}\textup{E}\big<span class="co">[</span><span class="ot">Y_B(1)\vert t=1\big</span><span class="co">]</span>} - {\color{blue}\textup{E}\big<span class="co">[</span><span class="ot">Y_B(1)\vert t=1\big</span><span class="co">]</span>}}_{=\textup{ATT}}<span class="sc">\\</span></span>
<span id="cb80-180"><a href="#cb80-180" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \underbrace{\bigg({\color{red}\textup{E}\big<span class="co">[</span><span class="ot">Y_B(0)\vert t=1\big</span><span class="co">]</span> - \textup{E}\big<span class="co">[</span><span class="ot">Y_B(0)\vert t=0\big</span><span class="co">]</span>} \bigg) - \bigg({\color{blue}\textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=1\big</span><span class="co">]</span> -  \textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=0\big</span><span class="co">]</span>} \bigg)}_{ = \textup{Verzerrung durch nicht-parallele Trends}}</span>
<span id="cb80-181"><a href="#cb80-181" aria-hidden="true" tabindex="-1"></a>\end{align*}</span>
<span id="cb80-182"><a href="#cb80-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-183"><a href="#cb80-183" aria-hidden="true" tabindex="-1"></a>Diese Zerlegung zeigt, dass der ATT nur bei parallelen Trends identifziert werden kann, d.h. wir benötigen</span>
<span id="cb80-184"><a href="#cb80-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-185"><a href="#cb80-185" aria-hidden="true" tabindex="-1"></a>\begin{align*}</span>
<span id="cb80-186"><a href="#cb80-186" aria-hidden="true" tabindex="-1"></a>{\color{red}\textup{E}\big<span class="co">[</span><span class="ot">Y_B(0)\vert t=1\big</span><span class="co">]</span> - \textup{E}\big<span class="co">[</span><span class="ot">Y_B(0)\vert t=0\big</span><span class="co">]</span>} = {\color{blue}\textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=1\big</span><span class="co">]</span> -  \textup{E}\big<span class="co">[</span><span class="ot">Y_K(0)\vert t=0\big</span><span class="co">]</span>}.</span>
<span id="cb80-187"><a href="#cb80-187" aria-hidden="true" tabindex="-1"></a>\end{align*}</span>
<span id="cb80-188"><a href="#cb80-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-189"><a href="#cb80-189" aria-hidden="true" tabindex="-1"></a>Beachte, dass ${\color{red}\textup{E}\big<span class="co">[</span><span class="ot">Y_B(0)\vert t=1\big</span><span class="co">]</span>}$ der Erwartungswert des potentiellen Outcomes einer unbehandelten Behandlungsgruppe in $t=1$ ist. Somit kann die Verzerrung durch nicht-parallele Trends nicht empirisch überprüft werden und muss ausschließlich durch das Forschungsdesign gewährleistet sein. In Anwendungen kann die Plausibilität der Annahme graphisch anhand geschätzter Trends in der Outcome-Variable oder durch Placebo-Tests untersucht werden.</span>
<span id="cb80-190"><a href="#cb80-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-191"><a href="#cb80-191" aria-hidden="true" tabindex="-1"></a>**Annahmen für DID**</span>
<span id="cb80-192"><a href="#cb80-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-193"><a href="#cb80-193" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Parallele Trends**: Die Trends in der Outcome Variable $Y$ in Behandlungs- und Kontrollgruppe würden bis einschließlich $t=1$ parallel verlaufen, wenn es keine Behandlung gäbe. Diese Annahme ist Voraussetzung dafür, dass Veränderungen im Outcome $Y$ für die Behandlungsgruppe, die sich von $Y$ für die Kontrollgruppe unterscheidet, auschließlich dem Effekt der Behandlung zugeschrieben werden kann.</span>
<span id="cb80-194"><a href="#cb80-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-195"><a href="#cb80-195" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Keine Interferenz und konsistente Behandlung (SUTVA)**: </span>
<span id="cb80-196"><a href="#cb80-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-197"><a href="#cb80-197" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>*Keine Interferenz*: Die Behandlung eines Individums hat keinen Einfluss auf das potentielle Outcome anderer Individuen, unabhängig von der Gruppenzugehörigkeit.</span>
<span id="cb80-198"><a href="#cb80-198" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-199"><a href="#cb80-199" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>*Konsistete Behandlung*: Es gibt keine Variation in der Intensität oder Art der Behandlung innerhalb der Behandlungsgruppe.</span>
<span id="cb80-200"><a href="#cb80-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-201"><a href="#cb80-201" aria-hidden="true" tabindex="-1"></a><span class="fu">## Schätzung des ATT mit DID</span></span>
<span id="cb80-202"><a href="#cb80-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-203"><a href="#cb80-203" aria-hidden="true" tabindex="-1"></a>Für die Schätzung von $\beta_\text{DID}$ ersetzen wir die Erwartungswerte in \eqref{eq:DID-ATT1} durch ihre Stichprobenmomente. Dies liefert den Schätzer</span>
<span id="cb80-204"><a href="#cb80-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-205"><a href="#cb80-205" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-206"><a href="#cb80-206" aria-hidden="true" tabindex="-1"></a>  \widehat{\beta}_\textup{DID} = \bigg({\color{red}\overline{Y_B(1)\vert t=1} - \overline{Y_B(0)\vert t=0}} \bigg) -  \bigg({\color{blue}\overline{Y_K(0)\vert t=1} - \overline{Y_K(0)\vert t=0}}\bigg). \label{eq:DIDMOMENTS}</span>
<span id="cb80-207"><a href="#cb80-207" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-208"><a href="#cb80-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-209"><a href="#cb80-209" aria-hidden="true" tabindex="-1"></a>Die Implementierung von DID-Schätzern erfolgt meist anhand linearer Regression. Das Modell für zwei Zeitperioden ist</span>
<span id="cb80-210"><a href="#cb80-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-211"><a href="#cb80-211" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-212"><a href="#cb80-212" aria-hidden="true" tabindex="-1"></a>  Y_{i,\,t} = \alpha + \beta_1 B_i + \beta_2 Z_t + \beta_3 (B_i \times Z_t) + \epsilon_{i,\,t}, \quad t\in<span class="sc">\{</span>0,1<span class="sc">\}</span>, \label{eq:DIDREG}</span>
<span id="cb80-213"><a href="#cb80-213" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-214"><a href="#cb80-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-215"><a href="#cb80-215" aria-hidden="true" tabindex="-1"></a>wobei $\beta_3$ der interessierende Behandlungseffekt ist. Der Regressor $B_i \times Z_t$ ist die Interaktion zwischen der Behandlungsgruppenzugehörigkeit $B_i$ und einem Indikator für den Zeitpunkt *nach* der Intervention, $Z_i = \mathbb{I}_{<span class="sc">\{</span>t=1<span class="sc">\}</span>}$. Beachte, dass wir in Modell \eqref{eq:DIDREG} für Zeiteffekte und Gruppenzugehörig kontrollieren und damit die sich durch das Forschungsdesign ergebenden Backdoors (vgl. @fig-CDDID) schließen.</span>
<span id="cb80-216"><a href="#cb80-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-217"><a href="#cb80-217" aria-hidden="true" tabindex="-1"></a>Es ist $\widehat\beta_3 = \widehat{\beta}_\text{DID}$, d.h. der KQ-Schätzer von $\beta_3$ ist der DID-Schätzer des ATT und numerisch äquivalent zu \eqref{eq:DIDMOMENTS}. Die Berechnung von $\widehat\beta_\text{DID}$ anhand von Modell \eqref{eq:DIDREG} ist praktisch, da wir so Inferenzstatistiken mit etablierten R-Funktionen wie <span class="in">`summary()`</span> und <span class="in">`lmtest::coeftest()`</span> wie gewohnt berechnen können. </span>
<span id="cb80-218"><a href="#cb80-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-219"><a href="#cb80-219" aria-hidden="true" tabindex="-1"></a>In empirischen Anwendungen stehen oft Datensätze mit mehreren Gruppen und mehr als zwei Beobachtungsperioden zur Verfügung. Beachte, dass das Modell \eqref{eq:DIDREG} ein Spezialfall des allgemeinen Forschungsdesigns mit $t=1,\dots,T$ für $T\geq2$ Beobachtungsperioden und mehr als zwei Gruppen (mehrere Kontroll- und Behandlungsgruppen) ist. Eine dann häufig genutzte Modellspezifikation für die Schätzung des ATT mit DID ist eine Panel-Regression mit *Two-way Fixed Effects*,</span>
<span id="cb80-220"><a href="#cb80-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-221"><a href="#cb80-221" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-222"><a href="#cb80-222" aria-hidden="true" tabindex="-1"></a>  Y_{i,\,t} =  \theta_i + \eta_t + \beta_\text{DID}^\text{TWFE} D_{i,\, t} + \epsilon_{i,\,t}, \quad t = 1,\dots,T, \label{eq:TWFEDIDREG}</span>
<span id="cb80-223"><a href="#cb80-223" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-224"><a href="#cb80-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-225"><a href="#cb80-225" aria-hidden="true" tabindex="-1"></a>wobei $\theta_i$ und $\eta_t$ Dummy-Variablen für Gruppen und Zeitperioden sind und $D_{i,\, t}$ der Behandlungsindikator ist. Dieses lineare Paneldaten-Modell kann komfortabel mit dem R-Paket <span class="in">`fixest`</span> (s. <span class="in">`fixtest::feols()`</span>) implementiert werden. Bei mehreren Gruppen sollten cluster-robuste Standardfehler auf Gruppen-Ebene verwendet werden.</span>
<span id="cb80-226"><a href="#cb80-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-227"><a href="#cb80-227" aria-hidden="true" tabindex="-1"></a>In Modell \eqref{eq:TWFEDIDREG} indentifiziert $\beta_\text{DID}^\text{TWFE}$ den ATE, sofern die Annahmen 1 (parallele Trends) und 2 (SUTVA) gelten. Damit die Annahme paralleler Trends gewährleistet ist, dürfen keine heterogenen Behandlungseffekte vorliegen, d.h. die Behandlungseffekte </span>
<span id="cb80-228"><a href="#cb80-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-229"><a href="#cb80-229" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>variieren nicht zwischen verschiedenen Gruppen</span>
<span id="cb80-230"><a href="#cb80-230" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>sind unabhängig vom Zeitpunkt der Behandlung (relevant bei unterschiedlichen Behandlungszeitpunkten)</span>
<span id="cb80-231"><a href="#cb80-231" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>entwickeln sich nicht dynamisch über die Zeit^<span class="co">[</span><span class="ot">Siehe bspw. @GoodmanBacon2021 für eine detaillierte Diskussion dieser Problematik.</span><span class="co">]</span></span>
<span id="cb80-232"><a href="#cb80-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-233"><a href="#cb80-233" aria-hidden="true" tabindex="-1"></a>Der Umgang mit heterogenen Behandlungseffekten ist Gegenstand der aktuellen ökonometrischen Forschung zu DID-Schätzern. @CallawaySantAnna2021  schlagen eine nicht-parametrische Schätzung von gruppenspezifischen ATE zu veschiedenen Zeitpunkten vor, die zu einem globalen ATT zusammengefasst werden können.^<span class="co">[</span><span class="ot">Die Methoden von @CallawaySantAnna2021 sind im R-Paket `did` implementiert.</span><span class="co">]</span></span>
<span id="cb80-234"><a href="#cb80-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-235"><a href="#cb80-235" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb80-236"><a href="#cb80-236" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Key Facts zum einfachen DID-Schätzer</span></span>
<span id="cb80-237"><a href="#cb80-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-238"><a href="#cb80-238" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Im DID-Forschungsdesign kann der ATT durch einen Vergleich von *Differenzen* in den Ergebnissen vor und nach einer Behandlung zwischen Behandlungs- und Kontrollgruppen identifiziert werden. </span>
<span id="cb80-239"><a href="#cb80-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-240"><a href="#cb80-240" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>DID benötigt Beobachtungen einer Behandlungs- und einer Kontrollgruppe zu *mindestens* zwei verschiedenen Zeitpunkten, wobei der Behandlung zwischen diesen Zeitpunkten erfolgt.  </span>
<span id="cb80-241"><a href="#cb80-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-242"><a href="#cb80-242" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>DID ist empfindlich gegenüber Verletzungen der Annahme, dass die zeitlichen Trends in der Outcome-Variable für die Behandlungs- und die Kontrollgruppen vor der Intervention parallel verlaufen.</span>
<span id="cb80-243"><a href="#cb80-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-244"><a href="#cb80-244" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>DID-Schätzer können in linearen Interaktionsmodellen mit Fixed Effects für Zeitperioden und Gruppenzugehörigkeit implementiert werden. Der interessierenden Effekt sind die Koeffizienten von Interaktionstermem zwischen den Indikatoren für die Nachbehandlungsperioden und für die Zugehörigkeit zu einer Behandlungsgruppe. </span>
<span id="cb80-245"><a href="#cb80-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-246"><a href="#cb80-246" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In R können DID-Modelle mit <span class="in">`lm()`</span> oder, in Fällen mit mehr als zwei Beobachtungsperioden, mit <span class="in">`fixest::feols()`</span> geschätzt werden. In Forschungsdesigns mit mehreren Gruppen sollten cluster-robuste Standardfehler verwendet werden.</span>
<span id="cb80-247"><a href="#cb80-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-248"><a href="#cb80-248" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb80-249"><a href="#cb80-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-250"><a href="#cb80-250" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb80-251"><a href="#cb80-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-252"><a href="#cb80-252" aria-hidden="true" tabindex="-1"></a>Die nachfolgende interaktive Grafik illustriert die Schätzung des ATT mit DID sowie die Verletzung der Annahme paralleler Trends anhand simulierte Daten für mehrere Zeitperioden. Der verwendete DID-Schätzer ist der KQ-Schätzer in Modell \eqref{eq:DIDREG}, d.h. wir betrachten ein Forschungsdesign in dem zwei Zeitperioden für die Schätzung verwendet werden, wobei die Behandlung zwischen diesen Perioden erfolgt. </span>
<span id="cb80-253"><a href="#cb80-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-254"><a href="#cb80-254" aria-hidden="true" tabindex="-1"></a>**Interaktive Elemente der Visualisierung**</span>
<span id="cb80-255"><a href="#cb80-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-256"><a href="#cb80-256" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Die Beobachtungen der Individuen zu 6 verschiedenen Zeitpunkten werden als Punkte dargestellt. Die Datenpunkte könn mit *Zeige Daten* ein- und ausgeblendet werden.</span>
<span id="cb80-257"><a href="#cb80-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-258"><a href="#cb80-258" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Die geschätzten Trends beider Gruppen für den gesamten Beobachtungszeitraum und die Gruppenzugehörigkeit können mit *Zeige Trends* ein- und ausgeblendet werden. Die Auswahl *Parallele Trends* stellt sicher, dass beide Gruppen (mit Ausnahme des Behandlungseffekts in der Behandlungsgruppe) dem selben zeitlichen Trend folgen. Bei nicht-parallelen Trends folgt die Behandlungsgruppe einem positiven Trend mit größerer positiver Steigung als in der Kontrollgruppe.</span>
<span id="cb80-259"><a href="#cb80-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-260"><a href="#cb80-260" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Die Behandlung erfolgt zwischen der mit dem Slider *Zeitpunkt* ausgewählten und der darauf folgenden Periode. Der tatsächliche Behandlungseffekt kann über den Slider *Effekt* festgelegt werden.</span>
<span id="cb80-261"><a href="#cb80-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-262"><a href="#cb80-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-263"><a href="#cb80-263" aria-hidden="true" tabindex="-1"></a>**Anatomie der Schätzung des ATT bei *parallelen* Trends**</span>
<span id="cb80-264"><a href="#cb80-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-265"><a href="#cb80-265" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Wir illustrieren die Schätzen des ATT mit Formel \eqref{eq:DIDMOMENTS}. Kreise zeigen Mittelwerte für Kontroll- und Behandlungsgruppe *vor* der Intervention. Dreiecke zeigen Mittelwerte *nach* der Intervention.</span>
<span id="cb80-266"><a href="#cb80-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-267"><a href="#cb80-267" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Die gestrichelte rote Linie zeigt den (kontrafaktischen) Verlauf der Behandlungsgruppe *ohne* Behandlung. Hierbei wird unterstellt, dass sich die Behandlungsgruppe mit demselben Trend *wie die Kontrollgruppe entwickelt hätte* (blaue Linie).</span>
<span id="cb80-268"><a href="#cb80-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-269"><a href="#cb80-269" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Der geschätzte Behandlungseffekt wird als orangene vertikale Linie dargestellt. Dies ist die Differenz zwischen dem tatsächlichen post-Behandlungs-Mittelwert und dem kontrafaktischen Mittelwert der Behandlungsgruppe.</span>
<span id="cb80-270"><a href="#cb80-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-271"><a href="#cb80-271" aria-hidden="true" tabindex="-1"></a>**Anatomie der Schätzung des ATT bei *nicht-parallelen* Trends**</span>
<span id="cb80-272"><a href="#cb80-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-273"><a href="#cb80-273" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Für nicht-parallele Trends zeigt die Grafik den unterstellten kontrafaktischen Trend der Behandlungsgruppe als gestrichelte blaue linie. Der" "tatsächliche" kontrafaktische Verlauf der Behandlungsgruppe wird als gestrichelte rote Linie dargestellt.</span>
<span id="cb80-274"><a href="#cb80-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-275"><a href="#cb80-275" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Aufgrund des steileren (positiven) Trends in der Behandlungsgruppe ergibt sich eine *positive* Verzerrung von $\color{orange}\widehat{\beta}_\text{DID}$. Diese Verzerrung wird durch die gestrichelte vertikale schwarze Linie kenntlich gemacht. </span>
<span id="cb80-276"><a href="#cb80-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-277"><a href="#cb80-277" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Für *positive* Behandlungseffekte wird der ATT *überschätzt*: die Verzerrung entspricht der Überlagerung der gestrichelten schwarzen linie mit der orangenen Linie des geschätzten Effekts. </span>
<span id="cb80-278"><a href="#cb80-278" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-279"><a href="#cb80-279" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Für *negative* Behandlungseffekte wird der ATT unterschätzt: die Verzerrung entspricht der gestrichelten schwarzen Linie oberhalb der orangenen Linie des geschätzten Effekts.</span>
<span id="cb80-280"><a href="#cb80-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-281"><a href="#cb80-281" aria-hidden="true" tabindex="-1"></a>&lt;iframe width="100%" height="813" frameborder="0"</span>
<span id="cb80-282"><a href="#cb80-282" aria-hidden="true" tabindex="-1"></a>  src="https://observablehq.com/embed/@mca91/did?cells=didformula%2Cchart%2Cviewof+ptrends%2Cviewof+showTrends%2Cviewof+showData%2Cviewof+treatPeriod%2Cviewof+effect"&gt;&lt;/iframe&gt;</span>
<span id="cb80-283"><a href="#cb80-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-284"><a href="#cb80-284" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb80-285"><a href="#cb80-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-286"><a href="#cb80-286" aria-hidden="true" tabindex="-1"></a><span class="fu">## Schätzung von DID-Forschungsdesigns mit R</span></span>
<span id="cb80-287"><a href="#cb80-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-288"><a href="#cb80-288" aria-hidden="true" tabindex="-1"></a>Wir erläutern nachfolgend die Schätzung von DID-Designs mit zwei Zeitperioden mit R und visualisieren die geschätzten Komponenten von $\widehat{\beta}_\text{DID}$ ähnlich wie in der interaktiven Visualisierung. Hierzu erzeugen wir simulierte Daten gemäß der Vorschrift</span>
<span id="cb80-289"><a href="#cb80-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-290"><a href="#cb80-290" aria-hidden="true" tabindex="-1"></a>\begin{align*}</span>
<span id="cb80-291"><a href="#cb80-291" aria-hidden="true" tabindex="-1"></a>  Y_{i,t} &amp;= 2 + 3 \cdot Z_t + 5 \cdot B_i + 4 \cdot (Z_t \cdot B_i) + \epsilon_{i,t}<span class="sc">\\</span></span>
<span id="cb80-292"><a href="#cb80-292" aria-hidden="true" tabindex="-1"></a>  \epsilon_{i,t} &amp;\sim N(0, 1)<span class="sc">\\</span></span>
<span id="cb80-293"><a href="#cb80-293" aria-hidden="true" tabindex="-1"></a>  Z_t &amp;= \mathbb{I}_{<span class="sc">\{</span> t = 1 <span class="sc">\}</span>} <span class="sc">\\</span></span>
<span id="cb80-294"><a href="#cb80-294" aria-hidden="true" tabindex="-1"></a>  B_i &amp;= \mathbb{I}_{<span class="sc">\{</span> i \in \textup{Behandlungsgruppe} <span class="sc">\}</span>},</span>
<span id="cb80-295"><a href="#cb80-295" aria-hidden="true" tabindex="-1"></a>\end{align*}</span>
<span id="cb80-296"><a href="#cb80-296" aria-hidden="true" tabindex="-1"></a>wobei wir jeweils $100$ Beobachtungen beider Gruppen zu beiden Zeitpunkten generieren.</span>
<span id="cb80-297"><a href="#cb80-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-298"><a href="#cb80-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-301"><a href="#cb80-301" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-302"><a href="#cb80-302" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb80-303"><a href="#cb80-303" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb80-304"><a href="#cb80-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-305"><a href="#cb80-305" aria-hidden="true" tabindex="-1"></a><span class="co"># Seed setzen</span></span>
<span id="cb80-306"><a href="#cb80-306" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb80-307"><a href="#cb80-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-308"><a href="#cb80-308" aria-hidden="true" tabindex="-1"></a><span class="co"># Anzahl der Beobachtungen (pro Gruppe u. Zeitpunkt)</span></span>
<span id="cb80-309"><a href="#cb80-309" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb80-310"><a href="#cb80-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-311"><a href="#cb80-311" aria-hidden="true" tabindex="-1"></a><span class="co"># Daten simulieren</span></span>
<span id="cb80-312"><a href="#cb80-312" aria-hidden="true" tabindex="-1"></a>did_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb80-313"><a href="#cb80-313" aria-hidden="true" tabindex="-1"></a>  <span class="at">Z =</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">each =</span> n), <span class="at">times =</span> <span class="dv">2</span>),</span>
<span id="cb80-314"><a href="#cb80-314" aria-hidden="true" tabindex="-1"></a>  <span class="at">B =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">each =</span> <span class="dv">2</span> <span class="sc">*</span> n),</span>
<span id="cb80-315"><a href="#cb80-315" aria-hidden="true" tabindex="-1"></a>  <span class="at">epsilon =</span> <span class="fu">rnorm</span>(<span class="dv">4</span> <span class="sc">*</span> n),</span>
<span id="cb80-316"><a href="#cb80-316" aria-hidden="true" tabindex="-1"></a>  <span class="at">outcome =</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> Z <span class="sc">+</span> <span class="dv">5</span> <span class="sc">*</span> B <span class="sc">+</span> <span class="dv">4</span> <span class="sc">*</span> Z <span class="sc">*</span> B <span class="sc">+</span> epsilon</span>
<span id="cb80-317"><a href="#cb80-317" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-318"><a href="#cb80-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-319"><a href="#cb80-319" aria-hidden="true" tabindex="-1"></a><span class="co"># Überblick</span></span>
<span id="cb80-320"><a href="#cb80-320" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(did_data)</span>
<span id="cb80-321"><a href="#cb80-321" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-322"><a href="#cb80-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-323"><a href="#cb80-323" aria-hidden="true" tabindex="-1"></a>Mit <span class="in">`lm()`</span> implementieren wir ein einfaches Interaktionsmodell und lesen den geschätzten Effekt aus.</span>
<span id="cb80-324"><a href="#cb80-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-327"><a href="#cb80-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-328"><a href="#cb80-328" aria-hidden="true" tabindex="-1"></a><span class="co"># Modell mit Regression schätzen</span></span>
<span id="cb80-329"><a href="#cb80-329" aria-hidden="true" tabindex="-1"></a>did_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb80-330"><a href="#cb80-330" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> outcome <span class="sc">~</span> Z <span class="sc">*</span> B, </span>
<span id="cb80-331"><a href="#cb80-331" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> did_data</span>
<span id="cb80-332"><a href="#cb80-332" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-333"><a href="#cb80-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-334"><a href="#cb80-334" aria-hidden="true" tabindex="-1"></a><span class="co"># Geschätzten ATE auslesen</span></span>
<span id="cb80-335"><a href="#cb80-335" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-336"><a href="#cb80-336" aria-hidden="true" tabindex="-1"></a>  estimated_effect <span class="ot">&lt;-</span> <span class="fu">coef</span>(did_model)[<span class="st">"Z:B"</span>]</span>
<span id="cb80-337"><a href="#cb80-337" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-338"><a href="#cb80-338" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-339"><a href="#cb80-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-340"><a href="#cb80-340" aria-hidden="true" tabindex="-1"></a>Die Schätzung des Behandlungseffekts von $<span class="in">`r round(estimated_effect, 2)`</span>$ liegt nahe beim wahren Effekt von $4$. Eine äquivalente Schätzung können wir mit <span class="in">`fixest::feols()`</span> erhalten. </span>
<span id="cb80-341"><a href="#cb80-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-344"><a href="#cb80-344" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-345"><a href="#cb80-345" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb80-346"><a href="#cb80-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-347"><a href="#cb80-347" aria-hidden="true" tabindex="-1"></a><span class="co"># Interaktionsmodell mit feols() schätzen</span></span>
<span id="cb80-348"><a href="#cb80-348" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(</span>
<span id="cb80-349"><a href="#cb80-349" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> outcome <span class="sc">~</span> Z <span class="sc">*</span> B,</span>
<span id="cb80-350"><a href="#cb80-350" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> did_data</span>
<span id="cb80-351"><a href="#cb80-351" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-352"><a href="#cb80-352" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-353"><a href="#cb80-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-354"><a href="#cb80-354" aria-hidden="true" tabindex="-1"></a>Für eine Schätzung mit Two-way-fixed-effects modifizieren wir den Funktionsaufruf von <span class="in">`feols()`</span></span>
<span id="cb80-355"><a href="#cb80-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-358"><a href="#cb80-358" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-359"><a href="#cb80-359" aria-hidden="true" tabindex="-1"></a><span class="co"># Two-way-FE-Regression</span></span>
<span id="cb80-360"><a href="#cb80-360" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(</span>
<span id="cb80-361"><a href="#cb80-361" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> outcome <span class="sc">~</span> <span class="fu">I</span>(Z <span class="sc">*</span> B) <span class="sc">|</span> B <span class="sc">+</span> Z,</span>
<span id="cb80-362"><a href="#cb80-362" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> did_data</span>
<span id="cb80-363"><a href="#cb80-363" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-364"><a href="#cb80-364" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-365"><a href="#cb80-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-366"><a href="#cb80-366" aria-hidden="true" tabindex="-1"></a>Beachte, dass im Formel-Argument <span class="in">`fml`</span> mit <span class="in">`I(Z * B)`</span> lediglich der Interaktionseffekt als Regressor festgelegt wird. Fixe Effekte für Gruppenzugehörigkeit und Zeitpunkte werden durch den Zusatz <span class="in">`| B + Z`</span> spezifiziert.^<span class="co">[</span><span class="ot">`I(Z * B)` statt `Z * B` stellt sicher, dass perferkte Multikollinearität aufgrund der Fixed-Effekts für `B` und `Z` vermieden wird.</span><span class="co">]</span> Diese Reihenfolge führt zur Berechnung von cluster-robusten Standardfehlern auf Gruppen-Ebene (<span class="in">`B`</span>). Wie erwartet können wir anhand des $t$-Tests die Nullhypothese $H_0:\,\beta_\text{DID} = 0$ zu jeden relevanten Signifikanzniveau ablehnen.</span>
<span id="cb80-367"><a href="#cb80-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-368"><a href="#cb80-368" aria-hidden="true" tabindex="-1"></a>Für die Visualisierung der Schätzung mit <span class="in">`ggplot2::ggplot()`</span> berechnen wir zunächst Stichprobenmittelwerte für die Outcome-Variable <span class="in">`y`</span> beider Gruppen zu beiden Zeitpunkten.</span>
<span id="cb80-369"><a href="#cb80-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-372"><a href="#cb80-372" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-373"><a href="#cb80-373" aria-hidden="true" tabindex="-1"></a><span class="co"># Stichprobenmittelwerte berechnen</span></span>
<span id="cb80-374"><a href="#cb80-374" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb80-375"><a href="#cb80-375" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-376"><a href="#cb80-376" aria-hidden="true" tabindex="-1"></a>  means <span class="ot">&lt;-</span> did_data <span class="sc">%&gt;%</span></span>
<span id="cb80-377"><a href="#cb80-377" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Z, B) <span class="sc">%&gt;%</span></span>
<span id="cb80-378"><a href="#cb80-378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb80-379"><a href="#cb80-379" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_outcome =</span> <span class="fu">mean</span>(outcome), </span>
<span id="cb80-380"><a href="#cb80-380" aria-hidden="true" tabindex="-1"></a>   <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb80-381"><a href="#cb80-381" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-382"><a href="#cb80-382" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-383"><a href="#cb80-383" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-384"><a href="#cb80-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-385"><a href="#cb80-385" aria-hidden="true" tabindex="-1"></a>Die Stichprobenmittelwerte in <span class="in">`means`</span> ermöglichen uns die Schätzung von $\textcolor{red}{E(Y_B(0)|t=2)}$, das kontrafaktische erwartete Outcome (counterfactual) der Behandlungsgruppe zum Zeitpunkt $t=2$,</span>
<span id="cb80-386"><a href="#cb80-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-387"><a href="#cb80-387" aria-hidden="true" tabindex="-1"></a>\begin{align*}</span>
<span id="cb80-388"><a href="#cb80-388" aria-hidden="true" tabindex="-1"></a>  \textcolor{red}{\overline{Y_B(0)|t=2}} =&amp;\, \textcolor{red}{\overline{Y_B(0)|t=1}}</span>
<span id="cb80-389"><a href="#cb80-389" aria-hidden="true" tabindex="-1"></a><span class="ss">  + </span>\bigg( \textcolor{blue}{\overline{Y_K(0)|t=2}} - \textcolor{blue}{\overline{Y_K(0)|t=1}} \bigg)<span class="sc">\\</span></span>
<span id="cb80-390"><a href="#cb80-390" aria-hidden="true" tabindex="-1"></a>  =&amp;\, \textcolor{red}{7.2} + (\textcolor{blue}{5.0} - \textcolor{blue}{1.8}) <span class="sc">\\</span></span>
<span id="cb80-391"><a href="#cb80-391" aria-hidden="true" tabindex="-1"></a>  =&amp;\, \textcolor{red}{10.4}.</span>
<span id="cb80-392"><a href="#cb80-392" aria-hidden="true" tabindex="-1"></a>\end{align*}</span>
<span id="cb80-393"><a href="#cb80-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-396"><a href="#cb80-396" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-397"><a href="#cb80-397" aria-hidden="true" tabindex="-1"></a><span class="co"># Counterfactual für Behandlungsgruppe in t=1</span></span>
<span id="cb80-398"><a href="#cb80-398" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-399"><a href="#cb80-399" aria-hidden="true" tabindex="-1"></a>  counterfactual <span class="ot">&lt;-</span> means <span class="sc">%&gt;%</span></span>
<span id="cb80-400"><a href="#cb80-400" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Z <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> B <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-401"><a href="#cb80-401" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(mean_outcome) <span class="sc">+</span></span>
<span id="cb80-402"><a href="#cb80-402" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-403"><a href="#cb80-403" aria-hidden="true" tabindex="-1"></a>  (</span>
<span id="cb80-404"><a href="#cb80-404" aria-hidden="true" tabindex="-1"></a>    means <span class="sc">%&gt;%</span></span>
<span id="cb80-405"><a href="#cb80-405" aria-hidden="true" tabindex="-1"></a>     <span class="fu">filter</span>(Z <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> B <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-406"><a href="#cb80-406" aria-hidden="true" tabindex="-1"></a>     <span class="fu">pull</span>(mean_outcome) <span class="sc">-</span></span>
<span id="cb80-407"><a href="#cb80-407" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb80-408"><a href="#cb80-408" aria-hidden="true" tabindex="-1"></a>    means <span class="sc">%&gt;%</span></span>
<span id="cb80-409"><a href="#cb80-409" aria-hidden="true" tabindex="-1"></a>     <span class="fu">filter</span>(Z <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> B <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-410"><a href="#cb80-410" aria-hidden="true" tabindex="-1"></a>     <span class="fu">pull</span>(mean_outcome)</span>
<span id="cb80-411"><a href="#cb80-411" aria-hidden="true" tabindex="-1"></a>   )</span>
<span id="cb80-412"><a href="#cb80-412" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-413"><a href="#cb80-413" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-414"><a href="#cb80-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-415"><a href="#cb80-415" aria-hidden="true" tabindex="-1"></a>Der geschätzte Behandlungseffekt ist </span>
<span id="cb80-416"><a href="#cb80-416" aria-hidden="true" tabindex="-1"></a>\begin{align*}</span>
<span id="cb80-417"><a href="#cb80-417" aria-hidden="true" tabindex="-1"></a>\textcolor{orange}{\widehat{\beta}_\text{DID}} =&amp;\, \textcolor{red}{\overline{Y_B(1)\vert t=2}} - \textcolor{red}{\overline{Y_B(0)\vert t=2}}<span class="sc">\\</span></span>
<span id="cb80-418"><a href="#cb80-418" aria-hidden="true" tabindex="-1"></a>=&amp;\,\textcolor{red}{14} - \textcolor{red}{10.4}<span class="sc">\\</span></span>
<span id="cb80-419"><a href="#cb80-419" aria-hidden="true" tabindex="-1"></a>=&amp;\, \textcolor{orange}{3.6}.</span>
<span id="cb80-420"><a href="#cb80-420" aria-hidden="true" tabindex="-1"></a>\end{align*}</span>
<span id="cb80-421"><a href="#cb80-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-422"><a href="#cb80-422" aria-hidden="true" tabindex="-1"></a>Wir plotten die Daten mit <span class="in">`ggplot2`</span> und zeichnen die Trends sowie den geschätzten Behandlungseffekt ein.</span>
<span id="cb80-423"><a href="#cb80-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-426"><a href="#cb80-426" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-427"><a href="#cb80-427" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-DIDSIMB</span></span>
<span id="cb80-428"><a href="#cb80-428" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Einfache DID-Schätzung mit R für simulierte Daten"</span></span>
<span id="cb80-429"><a href="#cb80-429" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulierte daten plotten</span></span>
<span id="cb80-430"><a href="#cb80-430" aria-hidden="true" tabindex="-1"></a>did_data <span class="sc">%&gt;%</span></span>
<span id="cb80-431"><a href="#cb80-431" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb80-432"><a href="#cb80-432" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb80-433"><a href="#cb80-433" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">factor</span>(Z), </span>
<span id="cb80-434"><a href="#cb80-434" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> outcome, </span>
<span id="cb80-435"><a href="#cb80-435" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="fu">factor</span>(B), </span>
<span id="cb80-436"><a href="#cb80-436" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> <span class="fu">factor</span>(B))</span>
<span id="cb80-437"><a href="#cb80-437" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb80-438"><a href="#cb80-438" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb80-439"><a href="#cb80-439" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_jitter</span>(</span>
<span id="cb80-440"><a href="#cb80-440" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> .<span class="dv">1</span>, </span>
<span id="cb80-441"><a href="#cb80-441" aria-hidden="true" tabindex="-1"></a>      <span class="at">seed =</span> <span class="dv">1234</span></span>
<span id="cb80-442"><a href="#cb80-442" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb80-443"><a href="#cb80-443" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb80-444"><a href="#cb80-444" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb80-445"><a href="#cb80-445" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Zeitpunkt"</span>,</span>
<span id="cb80-446"><a href="#cb80-446" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Outcome Y"</span>,</span>
<span id="cb80-447"><a href="#cb80-447" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"B"</span></span>
<span id="cb80-448"><a href="#cb80-448" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-449"><a href="#cb80-449" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb80-450"><a href="#cb80-450" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"1"</span> <span class="ot">=</span> <span class="st">"red"</span>, <span class="st">"0"</span> <span class="ot">=</span> <span class="st">"blue"</span>)</span>
<span id="cb80-451"><a href="#cb80-451" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-452"><a href="#cb80-452" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Trendlinien einzeichnen</span></span>
<span id="cb80-453"><a href="#cb80-453" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(</span>
<span id="cb80-454"><a href="#cb80-454" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun =</span> mean, </span>
<span id="cb80-455"><a href="#cb80-455" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"line"</span>, </span>
<span id="cb80-456"><a href="#cb80-456" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span></span>
<span id="cb80-457"><a href="#cb80-457" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb80-458"><a href="#cb80-458" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Counterfactual für B-Gruppe einzeichnen</span></span>
<span id="cb80-459"><a href="#cb80-459" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb80-460"><a href="#cb80-460" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb80-461"><a href="#cb80-461" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">1</span>, </span>
<span id="cb80-462"><a href="#cb80-462" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> <span class="dv">2</span>, </span>
<span id="cb80-463"><a href="#cb80-463" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> means<span class="sc">$</span>mean_outcome[</span>
<span id="cb80-464"><a href="#cb80-464" aria-hidden="true" tabindex="-1"></a>        means<span class="sc">$</span>Z <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> means<span class="sc">$</span>B <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb80-465"><a href="#cb80-465" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb80-466"><a href="#cb80-466" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> counterfactual</span>
<span id="cb80-467"><a href="#cb80-467" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb80-468"><a href="#cb80-468" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="st">"dashed"</span>, </span>
<span id="cb80-469"><a href="#cb80-469" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"red"</span>, </span>
<span id="cb80-470"><a href="#cb80-470" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb80-471"><a href="#cb80-471" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb80-472"><a href="#cb80-472" aria-hidden="true" tabindex="-1"></a>  <span class="co"># gesch. Behandlungseffekt einzeichnen</span></span>
<span id="cb80-473"><a href="#cb80-473" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb80-474"><a href="#cb80-474" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb80-475"><a href="#cb80-475" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">2</span>, </span>
<span id="cb80-476"><a href="#cb80-476" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> <span class="dv">2</span>, </span>
<span id="cb80-477"><a href="#cb80-477" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> counterfactual,</span>
<span id="cb80-478"><a href="#cb80-478" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> counterfactual <span class="sc">+</span> estimated_effect</span>
<span id="cb80-479"><a href="#cb80-479" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb80-480"><a href="#cb80-480" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="st">"dashed"</span>, </span>
<span id="cb80-481"><a href="#cb80-481" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"orange"</span>, </span>
<span id="cb80-482"><a href="#cb80-482" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb80-483"><a href="#cb80-483" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_cowplot</span>() <span class="sc">+</span></span>
<span id="cb80-484"><a href="#cb80-484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb80-485"><a href="#cb80-485" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-486"><a href="#cb80-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-487"><a href="#cb80-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-488"><a href="#cb80-488" aria-hidden="true" tabindex="-1"></a><span class="fu">## Case Study: Effekt von Steuererleichterungen auf Erwerbsbeteilligung </span></span>
<span id="cb80-489"><a href="#cb80-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-490"><a href="#cb80-490" aria-hidden="true" tabindex="-1"></a>Der <span class="co">[</span><span class="ot">Earned Income Tax Credit</span><span class="co">](https://www.irs.gov/credits-deductions/individuals/earned-income-tax-credit-eitc)</span> (EITC) ist ein Steuerguthaben für US-Amerkanische Familien, die unterhalb einer gesetztlich festgelegten Einkoemmnsgrenze liegen. Der genaue Betrag des EITC hängt gestaffelt vom Einkommen ab und, ähnlich zum Kindergeld in Deutschland, steigt mit der Anzahl der zu versorgenden Kinder. Ein wichtiger Unterschied zum Kindergeld ist, dass der EITC nicht beantragt werden muss: Qualifizierten Familien wird der Betrag automatisch durch die Behörden im Jahressteuerausgleich gutgeschrieben. Somit kann Selbstselektion in die Behandlungsgruppe ausgeschlossen werden, da sich die Behandlung ausschließlich durch die im Rahmen der EITC-Ausweitung geänderten Anspruchsgrundlagen ergibt.</span>
<span id="cb80-491"><a href="#cb80-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-492"><a href="#cb80-492" aria-hidden="true" tabindex="-1"></a>@EissaLiebman1996 betrachten Veränderungen in der EITC-Gesetzgebung als Intervention, deren Auswirkungen mit sozio-ökonomischen Paneldaten in einem DID-Ansatz untersucht werden können. Die Studie analysiert die Auswirkungen der ersten Ausweitung des EITC im Jahr 1986 auf die Erwerbsbeteiligung und die Löhne von Müttern im erwerbsfähigen Alter. Diese Erweiterung erhöhte die gewährten Steuererleichterungen und die zur Qualifikation für das Programm zu unterschreitende Einkommensgrenze. </span>
<span id="cb80-493"><a href="#cb80-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-494"><a href="#cb80-494" aria-hidden="true" tabindex="-1"></a>Ein zentraler Befund der Studie ist, dass die EITC-Ausweitung von 1986 einen statistisch signifikanten Anstieg der Arbeitsbeteiligung alleinerziehender Frauen von geschätzten 3\% bewirkt hat. @EissaLiebman1996 finden weiterhin signifikante positive Effekte auf die geleisteten Arbeitsstunden und Evidenz für Einkommensverbesserungen in dieser Gruppe. Die Studienergebnisse sind starke Evidenz, dass Maßnahmen wie der EITC effektiv dazu beitragen können, die Erwerbssituation in der Zielgruppe zu steigern und somit die wirtsschafts- und sozialpolitische Ziele derartiger Programme realisierbar sind.</span>
<span id="cb80-495"><a href="#cb80-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-496"><a href="#cb80-496" aria-hidden="true" tabindex="-1"></a>Im Jahr 1993 wurde das Programm erneut ausgweitet: Vor 1993 gab es lediglich eine Einkommensstufe für Familien mit Kindern. 1993 wurde eine zusätzliche Stufe für Familien mit zwei oder mehr Kindern eigeführt, die damit einen höheren maximalen Kreditbetrag erhalten konnten als Familien mit nur einem Kind. Dies führte zu einer größeren steuerlichen Entlastung armutsbedrohter Familien.</span>
<span id="cb80-497"><a href="#cb80-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-498"><a href="#cb80-498" aria-hidden="true" tabindex="-1"></a>@Adireksombat2010 untersucht die Effekte der zweiten EITC-Ausweitung ebenfalls mit einem DID Ansatz und findet Evidenz für einen Anstieg der Arbeitbeteiligung von etwa 5\% in der Zielgruppe alleinerziehender Frauen mit mindestens 2 Kindern.</span>
<span id="cb80-499"><a href="#cb80-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-500"><a href="#cb80-500" aria-hidden="true" tabindex="-1"></a>Zur Illustration der empirischen Anwendung von DID mit R untersuchen wir Effekte der EITC-Ausweitung von 1993 nachfolgend anhand eines ähnlichen Datensatzes aus dem <span class="co">[</span><span class="ot">CPS</span><span class="co">](https://www.census.gov/programs-surveys/cps.html)</span> wie in der Studie von @Adireksombat2010. Diese Daten umfassen jährliche sozio-ökonomische Merkmale für US-amerikanische Frauen im Zeitraum von 1991 bis 1996 und sind in der Datei <span class="in">`eitc_data.csv`</span> verfügbar.</span>
<span id="cb80-501"><a href="#cb80-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-502"><a href="#cb80-502" aria-hidden="true" tabindex="-1"></a>Wir lesen den Datensatz zunächst ein.</span>
<span id="cb80-503"><a href="#cb80-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-506"><a href="#cb80-506" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-507"><a href="#cb80-507" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb80-508"><a href="#cb80-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-509"><a href="#cb80-509" aria-hidden="true" tabindex="-1"></a><span class="co"># EITC-Datensatz einlesen</span></span>
<span id="cb80-510"><a href="#cb80-510" aria-hidden="true" tabindex="-1"></a>eitc_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"datasets/eitc_data.csv"</span>)</span>
<span id="cb80-511"><a href="#cb80-511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-512"><a href="#cb80-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-513"><a href="#cb80-513" aria-hidden="true" tabindex="-1"></a>Eine Übersicht des Datensatzes <span class="in">`eitc_data`</span> ist in @tbl-EITCdata dargestellt.</span>
<span id="cb80-514"><a href="#cb80-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-515"><a href="#cb80-515" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = F}</span></span>
<span id="cb80-516"><a href="#cb80-516" aria-hidden="true" tabindex="-1"></a><span class="in">#| tbl-cap: "Sozi-ökomonische Variablen zu US-Familien aus dem CPS"</span></span>
<span id="cb80-517"><a href="#cb80-517" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: tbl-EITCdata</span></span>
<span id="cb80-518"><a href="#cb80-518" aria-hidden="true" tabindex="-1"></a><span class="in">tibble(</span></span>
<span id="cb80-519"><a href="#cb80-519" aria-hidden="true" tabindex="-1"></a><span class="in">  Variable = c(</span></span>
<span id="cb80-520"><a href="#cb80-520" aria-hidden="true" tabindex="-1"></a><span class="in">    "state", "year", "urate", "children", </span></span>
<span id="cb80-521"><a href="#cb80-521" aria-hidden="true" tabindex="-1"></a><span class="in">    "nonwhite", "finc", "earn", "age", "ed", </span></span>
<span id="cb80-522"><a href="#cb80-522" aria-hidden="true" tabindex="-1"></a><span class="in">    "work", "unearn"</span></span>
<span id="cb80-523"><a href="#cb80-523" aria-hidden="true" tabindex="-1"></a><span class="in">    ),</span></span>
<span id="cb80-524"><a href="#cb80-524" aria-hidden="true" tabindex="-1"></a><span class="in">  Beschreibung = c(</span></span>
<span id="cb80-525"><a href="#cb80-525" aria-hidden="true" tabindex="-1"></a><span class="in">    "ID-Code Bundesstaat",</span></span>
<span id="cb80-526"><a href="#cb80-526" aria-hidden="true" tabindex="-1"></a><span class="in">    "Steuerjahr",</span></span>
<span id="cb80-527"><a href="#cb80-527" aria-hidden="true" tabindex="-1"></a><span class="in">    "Arbeitslosenquote im Bundesstaat (%)",</span></span>
<span id="cb80-528"><a href="#cb80-528" aria-hidden="true" tabindex="-1"></a><span class="in">    "Anz. Kinder der Frau",</span></span>
<span id="cb80-529"><a href="#cb80-529" aria-hidden="true" tabindex="-1"></a><span class="in">    "Dummy für nicht-weiße Frauen",</span></span>
<span id="cb80-530"><a href="#cb80-530" aria-hidden="true" tabindex="-1"></a><span class="in">    "Haushaltseinkommen im Steuerjahr (US-$)",</span></span>
<span id="cb80-531"><a href="#cb80-531" aria-hidden="true" tabindex="-1"></a><span class="in">    "Einkommen der Frau im Steuerjahr (US-$)",</span></span>
<span id="cb80-532"><a href="#cb80-532" aria-hidden="true" tabindex="-1"></a><span class="in">    "Alter",</span></span>
<span id="cb80-533"><a href="#cb80-533" aria-hidden="true" tabindex="-1"></a><span class="in">    "Ausbildungsniveau der Frau (Jahre)",</span></span>
<span id="cb80-534"><a href="#cb80-534" aria-hidden="true" tabindex="-1"></a><span class="in">    "Dummy für Berufstätigkeit",</span></span>
<span id="cb80-535"><a href="#cb80-535" aria-hidden="true" tabindex="-1"></a><span class="in">    "= Haushaltseinkommen - Einkommen der Frau (Tsd. US-$) "</span></span>
<span id="cb80-536"><a href="#cb80-536" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb80-537"><a href="#cb80-537" aria-hidden="true" tabindex="-1"></a><span class="in">) %&gt;%</span></span>
<span id="cb80-538"><a href="#cb80-538" aria-hidden="true" tabindex="-1"></a><span class="in">  gt() %&gt;%</span></span>
<span id="cb80-539"><a href="#cb80-539" aria-hidden="true" tabindex="-1"></a><span class="in">  tabopts</span></span>
<span id="cb80-540"><a href="#cb80-540" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-541"><a href="#cb80-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-542"><a href="#cb80-542" aria-hidden="true" tabindex="-1"></a>Wir erweitern das <span class="in">`tibble`</span>-Objekt zunächst um eine Dummy-Variable für Mütter (<span class="in">`anykids`</span>), sowie spezifischere Dummies für Frauen mit einem Kind (<span class="in">`onechild`</span>) oder mit zwei oder mehr Kindern (<span class="in">`twomorekids`</span>). Weiterhin erzeugen wir einen Indikator für Beobachtungen *nach* der EITC-Ausweitung im Jahr 1993 (<span class="in">`after1993`</span>).</span>
<span id="cb80-543"><a href="#cb80-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-546"><a href="#cb80-546" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-547"><a href="#cb80-547" aria-hidden="true" tabindex="-1"></a><span class="co"># Dummies für Frauen mit Kindern</span></span>
<span id="cb80-548"><a href="#cb80-548" aria-hidden="true" tabindex="-1"></a><span class="co"># und Post-Interventionsprediode hinzufügen </span></span>
<span id="cb80-549"><a href="#cb80-549" aria-hidden="true" tabindex="-1"></a>eitc_data <span class="ot">&lt;-</span> eitc_data <span class="sc">%&gt;%</span></span>
<span id="cb80-550"><a href="#cb80-550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-551"><a href="#cb80-551" aria-hidden="true" tabindex="-1"></a>    <span class="at">onechild =</span> <span class="fu">if_else</span>(children <span class="sc">==</span> <span class="dv">1</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb80-552"><a href="#cb80-552" aria-hidden="true" tabindex="-1"></a>    <span class="at">twomorekids =</span> <span class="fu">if_else</span>(children <span class="sc">&gt;=</span> <span class="dv">2</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb80-553"><a href="#cb80-553" aria-hidden="true" tabindex="-1"></a>    <span class="at">anykids =</span> <span class="fu">if_else</span>(children <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb80-554"><a href="#cb80-554" aria-hidden="true" tabindex="-1"></a>    <span class="at">after1993 =</span> <span class="fu">if_else</span>(year <span class="sc">&gt;</span> <span class="dv">1993</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb80-555"><a href="#cb80-555" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-556"><a href="#cb80-556" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-557"><a href="#cb80-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-558"><a href="#cb80-558" aria-hidden="true" tabindex="-1"></a>Einen Überblick über den modifizierten Datensatz erhalten wir mit <span class="in">`glimpse()`</span>.</span>
<span id="cb80-559"><a href="#cb80-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-562"><a href="#cb80-562" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-563"><a href="#cb80-563" aria-hidden="true" tabindex="-1"></a><span class="co"># Modifikationen kontrollieren</span></span>
<span id="cb80-564"><a href="#cb80-564" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(eitc_data)</span>
<span id="cb80-565"><a href="#cb80-565" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-566"><a href="#cb80-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-567"><a href="#cb80-567" aria-hidden="true" tabindex="-1"></a>Die Plausibilität der Annahme paralleler Trends können wir graphisch anhand einer Gegenüberstellung der *Beschäftigungsquote* (<span class="in">`avg.work = mean(work)`</span>) für Frauen mit und ohne Kindern (<span class="in">`anykids`</span>) über die Zeit (<span class="in">`year`</span>) einschätzen. Wir gruppieren hierzu den Datensatz entsprechend und fassen die Outcome-Variable (<span class="in">`work`</span>) gruppenweise zusammen.</span>
<span id="cb80-568"><a href="#cb80-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-571"><a href="#cb80-571" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-572"><a href="#cb80-572" aria-hidden="true" tabindex="-1"></a><span class="co"># Zeitpunkt-Gruppen-Mittelwerte berechnen</span></span>
<span id="cb80-573"><a href="#cb80-573" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-574"><a href="#cb80-574" aria-hidden="true" tabindex="-1"></a>  eitc_summarised <span class="ot">&lt;-</span> eitc_data <span class="sc">%&gt;%</span></span>
<span id="cb80-575"><a href="#cb80-575" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, anykids) <span class="sc">%&gt;%</span></span>
<span id="cb80-576"><a href="#cb80-576" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb80-577"><a href="#cb80-577" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg.work =</span> <span class="fu">mean</span>(work)</span>
<span id="cb80-578"><a href="#cb80-578" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-579"><a href="#cb80-579" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-580"><a href="#cb80-580" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-581"><a href="#cb80-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-584"><a href="#cb80-584" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-585"><a href="#cb80-585" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Trends in der Erwerbsbeteiligung US-amerikanischer Frauen im CPS-Datensatz"</span></span>
<span id="cb80-586"><a href="#cb80-586" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "fig-EITCtrends"</span></span>
<span id="cb80-587"><a href="#cb80-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-588"><a href="#cb80-588" aria-hidden="true" tabindex="-1"></a><span class="co"># Graphischer Vergleich der Trends</span></span>
<span id="cb80-589"><a href="#cb80-589" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> eitc_summarised) <span class="sc">+</span></span>
<span id="cb80-590"><a href="#cb80-590" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(</span>
<span id="cb80-591"><a href="#cb80-591" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb80-592"><a href="#cb80-592" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> year, </span>
<span id="cb80-593"><a href="#cb80-593" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> avg.work, </span>
<span id="cb80-594"><a href="#cb80-594" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> anykids</span>
<span id="cb80-595"><a href="#cb80-595" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-596"><a href="#cb80-596" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-597"><a href="#cb80-597" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Indikator für EITC-Erweiterung 1993</span></span>
<span id="cb80-598"><a href="#cb80-598" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb80-599"><a href="#cb80-599" aria-hidden="true" tabindex="-1"></a>    <span class="at">xintercept =</span> <span class="dv">1993</span>, </span>
<span id="cb80-600"><a href="#cb80-600" aria-hidden="true" tabindex="-1"></a>    <span class="at">lty =</span> <span class="st">"dashed"</span></span>
<span id="cb80-601"><a href="#cb80-601" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-602"><a href="#cb80-602" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Jahr"</span>) <span class="sc">+</span></span>
<span id="cb80-603"><a href="#cb80-603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Beschäftigungsquote"</span>) <span class="sc">+</span></span>
<span id="cb80-604"><a href="#cb80-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb80-605"><a href="#cb80-605" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"red"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"blue"</span>)</span>
<span id="cb80-606"><a href="#cb80-606" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-607"><a href="#cb80-607" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Kinder?"</span>)) <span class="sc">+</span></span>
<span id="cb80-608"><a href="#cb80-608" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_cowplot</span>()</span>
<span id="cb80-609"><a href="#cb80-609" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-610"><a href="#cb80-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-611"><a href="#cb80-611" aria-hidden="true" tabindex="-1"></a>@fig-EITCtrends zeigt, dass die Beschäftigungsquote für kinderlose Frauen deutlich oberhalb der Quote für Mütter verläuft. Die Trends vor der EITC-Ausweitung im Jahr 1993 sind sehr ähnlich, sodass eine parallele Entwicklung plausibel scheint.</span>
<span id="cb80-612"><a href="#cb80-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-613"><a href="#cb80-613" aria-hidden="true" tabindex="-1"></a><span class="fu">### Schätzungen des ATT mit linearen Modellen {#sec-didattest}</span></span>
<span id="cb80-614"><a href="#cb80-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-615"><a href="#cb80-615" aria-hidden="true" tabindex="-1"></a>Wir berechnen Zunächst den Behandlungseffekt der für Frauen mit Kindern relativ zu kinderlosen Frauen gemäß \eqref{eq:DIDMOMENTS}, wobei wir jeweils *sämtliche* Perioden vor und nach der Behandlung einbeziehen. Dies führt zu den Ergebnissen in @tbl-EITCSM, wobei</span>
<span id="cb80-616"><a href="#cb80-616" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-617"><a href="#cb80-617" aria-hidden="true" tabindex="-1"></a>  \textcolor{orange}{\widehat\beta_\text{DID}} = (\textcolor{red}{B} - \textcolor{red}{A}) - (\textcolor{blue}{D} - \textcolor{blue}{C})</span>
<span id="cb80-618"><a href="#cb80-618" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-619"><a href="#cb80-619" aria-hidden="true" tabindex="-1"></a>der geschätzte Behandlungseffekt ist.</span>
<span id="cb80-620"><a href="#cb80-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-621"><a href="#cb80-621" aria-hidden="true" tabindex="-1"></a>|                                        | v. EITC-Ausweitung      | n. EITC-Ausweitung      | Differenz                  |</span>
<span id="cb80-622"><a href="#cb80-622" aria-hidden="true" tabindex="-1"></a>|----------------------------------------|:-----------------------:|:-----------------------:|:--------------------------:|</span>
<span id="cb80-623"><a href="#cb80-623" aria-hidden="true" tabindex="-1"></a>| **Kinder**                             | $\textcolor{red}{A = .446}$   | $\textcolor{red}{B = .491}$  | $\textcolor{red}{.045}$  |</span>
<span id="cb80-624"><a href="#cb80-624" aria-hidden="true" tabindex="-1"></a>| **k. Kinder**                          | $\textcolor{blue}{C = .575}$ | $\textcolor{blue}{D = .573}$ | $\textcolor{blue}{-.002}$  |</span>
<span id="cb80-625"><a href="#cb80-625" aria-hidden="true" tabindex="-1"></a>| $\textcolor{orange}{\widehat{\beta}_\text{DID}}$ |                           |                            | $\textcolor{orange}{.047}$ |</span>
<span id="cb80-626"><a href="#cb80-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-627"><a href="#cb80-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-628"><a href="#cb80-628" aria-hidden="true" tabindex="-1"></a>: <span class="in">`eitc_data`</span>: Stichprobenmittelwerte für <span class="in">`work`</span> {#tbl-EITCSM}</span>
<span id="cb80-629"><a href="#cb80-629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-630"><a href="#cb80-630" aria-hidden="true" tabindex="-1"></a>Die nachfolgenden Code-Chunks zeigen die Schritte zur Berechnung von $\widehat{\beta}_\text{DID}$ mit R.</span>
<span id="cb80-631"><a href="#cb80-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-634"><a href="#cb80-634" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-635"><a href="#cb80-635" aria-hidden="true" tabindex="-1"></a><span class="co"># A, B, C und D berechnen</span></span>
<span id="cb80-636"><a href="#cb80-636" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-637"><a href="#cb80-637" aria-hidden="true" tabindex="-1"></a>  ABCD <span class="ot">&lt;-</span> eitc_data <span class="sc">%&gt;%</span></span>
<span id="cb80-638"><a href="#cb80-638" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(after1993, anykids) <span class="sc">%&gt;%</span></span>
<span id="cb80-639"><a href="#cb80-639" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">avg.work =</span> <span class="fu">mean</span>(work))</span>
<span id="cb80-640"><a href="#cb80-640" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-641"><a href="#cb80-641" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-642"><a href="#cb80-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-643"><a href="#cb80-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-646"><a href="#cb80-646" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-647"><a href="#cb80-647" aria-hidden="true" tabindex="-1"></a><span class="co"># Differenzen bilden</span></span>
<span id="cb80-648"><a href="#cb80-648" aria-hidden="true" tabindex="-1"></a>DminusC <span class="ot">&lt;-</span> ABCD <span class="sc">%&gt;%</span></span>
<span id="cb80-649"><a href="#cb80-649" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(anykids <span class="sc">==</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-650"><a href="#cb80-650" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(avg.work) <span class="sc">%&gt;%</span></span>
<span id="cb80-651"><a href="#cb80-651" aria-hidden="true" tabindex="-1"></a>    <span class="fu">diff</span>()</span>
<span id="cb80-652"><a href="#cb80-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-653"><a href="#cb80-653" aria-hidden="true" tabindex="-1"></a>BminusA <span class="ot">&lt;-</span> ABCD <span class="sc">%&gt;%</span></span>
<span id="cb80-654"><a href="#cb80-654" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(anykids <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-655"><a href="#cb80-655" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(avg.work) <span class="sc">%&gt;%</span></span>
<span id="cb80-656"><a href="#cb80-656" aria-hidden="true" tabindex="-1"></a>    <span class="fu">diff</span>()</span>
<span id="cb80-657"><a href="#cb80-657" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-658"><a href="#cb80-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-661"><a href="#cb80-661" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-662"><a href="#cb80-662" aria-hidden="true" tabindex="-1"></a><span class="co"># DID-Schätzung: Differenz der Stichprobenmittel-Differenzen</span></span>
<span id="cb80-663"><a href="#cb80-663" aria-hidden="true" tabindex="-1"></a>beta_DID_means <span class="ot">&lt;-</span> BminusA <span class="sc">-</span> DminusC</span>
<span id="cb80-664"><a href="#cb80-664" aria-hidden="true" tabindex="-1"></a>beta_DID_means</span>
<span id="cb80-665"><a href="#cb80-665" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-666"><a href="#cb80-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-667"><a href="#cb80-667" aria-hidden="true" tabindex="-1"></a>Durch Iteration von <span class="in">`summarise()`</span> können wir diese Rechenschritte effizienter ausführen.</span>
<span id="cb80-668"><a href="#cb80-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-671"><a href="#cb80-671" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-672"><a href="#cb80-672" aria-hidden="true" tabindex="-1"></a><span class="co"># Effizienter:</span></span>
<span id="cb80-673"><a href="#cb80-673" aria-hidden="true" tabindex="-1"></a>eitc_data  <span class="sc">%&gt;%</span> </span>
<span id="cb80-674"><a href="#cb80-674" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(after1993, anykids) <span class="sc">%&gt;%</span> </span>
<span id="cb80-675"><a href="#cb80-675" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">avg.work =</span> <span class="fu">mean</span>(work)) <span class="sc">%&gt;%</span></span>
<span id="cb80-676"><a href="#cb80-676" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">diff_time =</span> <span class="fu">diff</span>(avg.work)) <span class="sc">%&gt;%</span></span>
<span id="cb80-677"><a href="#cb80-677" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">beta_DID_means =</span> <span class="fu">diff</span>(diff_time)) <span class="sc">%&gt;%</span></span>
<span id="cb80-678"><a href="#cb80-678" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(beta_DID_means)</span>
<span id="cb80-679"><a href="#cb80-679" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-680"><a href="#cb80-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-681"><a href="#cb80-681" aria-hidden="true" tabindex="-1"></a>Wir erhalten also eine positive Schätzung des Behandlungseffekts. Die Interpretation ist, dass die Ausweitung des EITC im Jahr 1993 zu einem Anstieg der Erwerbsbeteiligung in der Gruppe der Frauen mit Kindern von durchschittlich $<span class="in">`r round(beta_DID_means, 4) * 100`</span>\%$ in den Folgeperioden geführt hat. </span>
<span id="cb80-682"><a href="#cb80-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-683"><a href="#cb80-683" aria-hidden="true" tabindex="-1"></a>Für die Berechnung von Inferenzstatistiken bezüglich $\beta_\text{DID}$ schätzen wir ein lineares Interaktionsmodell gemäß \eqref{eq:DIDREG},</span>
<span id="cb80-684"><a href="#cb80-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-685"><a href="#cb80-685" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-686"><a href="#cb80-686" aria-hidden="true" tabindex="-1"></a>  \begin{split}</span>
<span id="cb80-687"><a href="#cb80-687" aria-hidden="true" tabindex="-1"></a>    \text{work}_{i,t} =&amp;\, \beta_0 + \beta_1 \text{anykids}_{i,t} + \beta_2 \text{after1993}_t <span class="sc">\\</span></span>
<span id="cb80-688"><a href="#cb80-688" aria-hidden="true" tabindex="-1"></a>  +&amp;\, \beta_3 (\text{anykids}_{i,t} \times \text{after1993}_t) + \epsilon_{i,t}.</span>
<span id="cb80-689"><a href="#cb80-689" aria-hidden="true" tabindex="-1"></a>  \end{split}\label{eq:eitcmod}</span>
<span id="cb80-690"><a href="#cb80-690" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-691"><a href="#cb80-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-692"><a href="#cb80-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-695"><a href="#cb80-695" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-696"><a href="#cb80-696" aria-hidden="true" tabindex="-1"></a><span class="co"># Equivalente Schätzung u. Inferenz </span></span>
<span id="cb80-697"><a href="#cb80-697" aria-hidden="true" tabindex="-1"></a><span class="co"># mit linearem Interaktionsmodell</span></span>
<span id="cb80-698"><a href="#cb80-698" aria-hidden="true" tabindex="-1"></a>DiD_reg <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb80-699"><a href="#cb80-699" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> work <span class="sc">~</span> anykids <span class="sc">*</span> after1993, </span>
<span id="cb80-700"><a href="#cb80-700" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> eitc_data</span>
<span id="cb80-701"><a href="#cb80-701" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-702"><a href="#cb80-702" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-703"><a href="#cb80-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-704"><a href="#cb80-704" aria-hidden="true" tabindex="-1"></a>Der geschätzte Koeffizient des Interkationsterms stimmt mit der händisch berechneten Schätzung überein.</span>
<span id="cb80-705"><a href="#cb80-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-708"><a href="#cb80-708" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-709"><a href="#cb80-709" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(DiD_reg) <span class="sc">%&gt;%</span> </span>
<span id="cb80-710"><a href="#cb80-710" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"anykidsTRUE:after1993TRUE"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-711"><a href="#cb80-711" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(estimate)</span>
<span id="cb80-712"><a href="#cb80-712" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-713"><a href="#cb80-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-714"><a href="#cb80-714" aria-hidden="true" tabindex="-1"></a>Mit <span class="in">`coeftest()`</span> berechnen wir heteroskedastie-robuste Inferenzstatistiken.</span>
<span id="cb80-715"><a href="#cb80-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-718"><a href="#cb80-718" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-719"><a href="#cb80-719" aria-hidden="true" tabindex="-1"></a><span class="co"># Robuste Inferenzstatistiken</span></span>
<span id="cb80-720"><a href="#cb80-720" aria-hidden="true" tabindex="-1"></a><span class="fu">coeftest</span>(</span>
<span id="cb80-721"><a href="#cb80-721" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> DiD_reg, </span>
<span id="cb80-722"><a href="#cb80-722" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov. =</span> vcovHC, </span>
<span id="cb80-723"><a href="#cb80-723" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"HC1"</span></span>
<span id="cb80-724"><a href="#cb80-724" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-725"><a href="#cb80-725" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-726"><a href="#cb80-726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-727"><a href="#cb80-727" aria-hidden="true" tabindex="-1"></a>Der Koeffizient des Interaktionsterms ist zum 1\%-Niveau signifikant. <span class="in">`fixest::feols()`</span> liefert eine identische Schätzung.</span>
<span id="cb80-728"><a href="#cb80-728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-731"><a href="#cb80-731" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-732"><a href="#cb80-732" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb80-733"><a href="#cb80-733" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-734"><a href="#cb80-734" aria-hidden="true" tabindex="-1"></a>  DID_twoway <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb80-735"><a href="#cb80-735" aria-hidden="true" tabindex="-1"></a>    <span class="at">fml =</span> work <span class="sc">~</span> anykids <span class="sc">*</span> after1993,</span>
<span id="cb80-736"><a href="#cb80-736" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> eitc_data, </span>
<span id="cb80-737"><a href="#cb80-737" aria-hidden="true" tabindex="-1"></a>    <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-738"><a href="#cb80-738" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-739"><a href="#cb80-739" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-740"><a href="#cb80-740" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-741"><a href="#cb80-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-742"><a href="#cb80-742" aria-hidden="true" tabindex="-1"></a>Wir erweitern Modell \eqref{eq:eitcmod} nun um Fixed Effekts für den <span class="co">[</span><span class="ot">US-Bundesstaat</span><span class="co">](https://cps.ipums.org/cps-action/variables/statefip)</span> sowie das Jahr,</span>
<span id="cb80-743"><a href="#cb80-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-744"><a href="#cb80-744" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-745"><a href="#cb80-745" aria-hidden="true" tabindex="-1"></a>  \begin{split}</span>
<span id="cb80-746"><a href="#cb80-746" aria-hidden="true" tabindex="-1"></a>    \text{work}_{i,t} =&amp;\, \theta_\text{Staat} + \eta_t <span class="sc">\\</span></span>
<span id="cb80-747"><a href="#cb80-747" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_1 \text{anykids}_{i,t} + \beta_2 (\text{anykids}_{i,t} \times \text{after1993}_t) + \epsilon_{i,t}.</span>
<span id="cb80-748"><a href="#cb80-748" aria-hidden="true" tabindex="-1"></a>    \end{split}\label{eq:eitcmodfe}</span>
<span id="cb80-749"><a href="#cb80-749" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-750"><a href="#cb80-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-751"><a href="#cb80-751" aria-hidden="true" tabindex="-1"></a>Anhand der Dummy-Variablen für Bundesstaaten ($\theta_\text{Staat}$) und Jahre ($\eta_t$) kontrollieren wir für unbeobachtete zeitinvariante Unterschiede zwischen den Bundesstaaten sowie für allgemeine zeitliche Trends und Schocks, die alle Bundesstaaten in einem bestimmten Jahr betreffen. Dies schließt etwaige Backdoor-Pfade durch den Einfluss spezifischer Eigenschaften der Bundesstaaten (Kultur, Geografie, langfristige politische Einstellungen, etc.) und gemeinsamer zeitlicher Einflüsse.</span>
<span id="cb80-752"><a href="#cb80-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-755"><a href="#cb80-755" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-756"><a href="#cb80-756" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb80-757"><a href="#cb80-757" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-758"><a href="#cb80-758" aria-hidden="true" tabindex="-1"></a>  DID_twoway <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb80-759"><a href="#cb80-759" aria-hidden="true" tabindex="-1"></a>    <span class="at">fml =</span> work <span class="sc">~</span> anykids <span class="sc">+</span> <span class="fu">I</span>(anykids <span class="sc">*</span> after1993) </span>
<span id="cb80-760"><a href="#cb80-760" aria-hidden="true" tabindex="-1"></a>    <span class="sc">|</span> state <span class="sc">+</span> year,</span>
<span id="cb80-761"><a href="#cb80-761" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> eitc_data</span>
<span id="cb80-762"><a href="#cb80-762" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-763"><a href="#cb80-763" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-764"><a href="#cb80-764" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-765"><a href="#cb80-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-766"><a href="#cb80-766" aria-hidden="true" tabindex="-1"></a>Die Schätzung des ATT bei Kontrolle für Zeit- und Bundesstaat-Effekte in \eqref{eq:eitcmodfe} unterscheidet sich nur geringfügig gegenüber dem Ergebnis für das Modell \eqref{eq:eitcmod}. Beachte, dass der Behandlungseffekt auch bei geclusterten Standardfehlern auf Bundesstaaten-Ebene (<span class="in">`| state + year`</span>) signifikant ist.</span>
<span id="cb80-767"><a href="#cb80-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-768"><a href="#cb80-768" aria-hidden="true" tabindex="-1"></a>Ein weiterer Vorteil von DID-Schätzungen mit Regression ist die Möglichkeit zur Kontrolle für individuen-spezifische Kovariablen, um Backdoors aufgrund systematischer Unterschiede zwischen Kontroll- und Behandlungsgruppen zu vermeiden. </span>
<span id="cb80-769"><a href="#cb80-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-770"><a href="#cb80-770" aria-hidden="true" tabindex="-1"></a>Wir erweitern Modell \eqref{eq:eitcmodfec} um sozio-ökonomische Charakteristika der Frauen: Einen Dummy für nicht-weiße Frauen (<span class="in">`nonwhite`</span>), quadratische Terme in Alter (<span class="in">`age`</span>) und Ausbildungsniveau (<span class="in">`ed`</span>) sowie weitere Einkünfte des Haushalts (<span class="in">`unearn`</span>),</span>
<span id="cb80-771"><a href="#cb80-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-772"><a href="#cb80-772" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-773"><a href="#cb80-773" aria-hidden="true" tabindex="-1"></a>  \begin{split}</span>
<span id="cb80-774"><a href="#cb80-774" aria-hidden="true" tabindex="-1"></a>    \text{work}_{i,t} =&amp;\, \theta_\text{Staat} + \eta_t <span class="sc">\\</span></span>
<span id="cb80-775"><a href="#cb80-775" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_1 \text{anykids}_{i,t} + \beta_2 (\text{anykids}_{i,t} \times \text{after1993}_t) <span class="sc">\\</span></span>
<span id="cb80-776"><a href="#cb80-776" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_3 \text{unearn} + \beta_4 \text{nonwhite} <span class="sc">\\</span></span>
<span id="cb80-777"><a href="#cb80-777" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_5 \text{age} + \beta_6 \text{age}^2 + \beta_7 \text{ed} + \beta_8 \text{ed}^2 <span class="sc">\\</span></span>
<span id="cb80-778"><a href="#cb80-778" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \epsilon_{i,t}.</span>
<span id="cb80-779"><a href="#cb80-779" aria-hidden="true" tabindex="-1"></a>    \end{split}\label{eq:eitcmodfec}</span>
<span id="cb80-780"><a href="#cb80-780" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-781"><a href="#cb80-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-784"><a href="#cb80-784" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-785"><a href="#cb80-785" aria-hidden="true" tabindex="-1"></a><span class="co"># Year-FE + State-FE + Kontrollvariablen</span></span>
<span id="cb80-786"><a href="#cb80-786" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-787"><a href="#cb80-787" aria-hidden="true" tabindex="-1"></a>  DID_FE_controls <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb80-788"><a href="#cb80-788" aria-hidden="true" tabindex="-1"></a>    <span class="at">fml =</span> work <span class="sc">~</span> anykids <span class="sc">+</span> <span class="fu">I</span>(anykids <span class="sc">*</span> after1993) </span>
<span id="cb80-789"><a href="#cb80-789" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-790"><a href="#cb80-790" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> unearn <span class="sc">+</span> nonwhite </span>
<span id="cb80-791"><a href="#cb80-791" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> age <span class="sc">+</span> <span class="fu">I</span>(age<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb80-792"><a href="#cb80-792" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> ed <span class="sc">+</span> <span class="fu">I</span>(ed<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb80-793"><a href="#cb80-793" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-794"><a href="#cb80-794" aria-hidden="true" tabindex="-1"></a>    <span class="sc">|</span> state <span class="sc">+</span> year, </span>
<span id="cb80-795"><a href="#cb80-795" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-796"><a href="#cb80-796" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> eitc_data</span>
<span id="cb80-797"><a href="#cb80-797" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-798"><a href="#cb80-798" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-799"><a href="#cb80-799" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-800"><a href="#cb80-800" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-801"><a href="#cb80-801" aria-hidden="true" tabindex="-1"></a>Die Schätzung von \eqref{eq:eitcmodfec} ergibt mit $<span class="in">`r DID_FE_controls$coefficients["I(anykids * after1993)"]`</span>$ eine etwas größere Schätzung eines positiven signifikanten Effekt der EITC-Ausweitung auf die Erwerbsbeteiligung von Müttern.</span>
<span id="cb80-802"><a href="#cb80-802" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-803"><a href="#cb80-803" aria-hidden="true" tabindex="-1"></a>Wie oben erläutert, führte die EITC-Ausweitung von 1993 unter anderem ein Stufensystem für die Höhe des EITC in Ahängigkeit der Kinder-Anzahl ein, sodass unterschiedlich starke Anreize zur Aufnahme einer Beschäftigung für Mütter mit nur einem Kind und mehreren Kindern plausibel sind. Anhand der Dummy-Variablen für (genau) ein Kind (<span class="in">`onechild`</span>) sowie zwei oder mehr Kinder (<span class="in">`twomorekids`</span>) können wir eine differenziertere Schätzung des Effekts hinsichtlich des Betreuungsaufwands erhalten. Hierzu modifizieren wir Modell \eqref{eq:eitcmodfec} entsprechend:</span>
<span id="cb80-804"><a href="#cb80-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-805"><a href="#cb80-805" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-806"><a href="#cb80-806" aria-hidden="true" tabindex="-1"></a>  \begin{split}</span>
<span id="cb80-807"><a href="#cb80-807" aria-hidden="true" tabindex="-1"></a>    \text{work}_{i,t} =&amp;\, \theta_\text{Staat} + \eta_t <span class="sc">\\</span></span>
<span id="cb80-808"><a href="#cb80-808" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_1 \text{onechild}_{i,t} + \beta_2 (\text{onechild}_{i,t} \times \text{after1993}_t) <span class="sc">\\</span></span>
<span id="cb80-809"><a href="#cb80-809" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_3 \text{twomorechild}_{i,t} + \beta_4 (\text{twomorechild}_{i,t} \times \text{after1993}_t) <span class="sc">\\</span></span>
<span id="cb80-810"><a href="#cb80-810" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_5 \text{unearn} + \beta_6 \text{nonwhite} + \beta_7 \text{age} + \beta_8 \text{age}^2 + \beta_9 \text{ed} + \beta_{10} \text{ed}^2 <span class="sc">\\</span></span>
<span id="cb80-811"><a href="#cb80-811" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \epsilon_{i,t}.</span>
<span id="cb80-812"><a href="#cb80-812" aria-hidden="true" tabindex="-1"></a>  \end{split}\label{eq:eitcmodfecd}</span>
<span id="cb80-813"><a href="#cb80-813" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-814"><a href="#cb80-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-817"><a href="#cb80-817" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-818"><a href="#cb80-818" aria-hidden="true" tabindex="-1"></a><span class="co"># Differenzierung: onechild / twomorekids</span></span>
<span id="cb80-819"><a href="#cb80-819" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-820"><a href="#cb80-820" aria-hidden="true" tabindex="-1"></a>  DID_FE_spec_controls <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb80-821"><a href="#cb80-821" aria-hidden="true" tabindex="-1"></a>    <span class="at">fml =</span> work <span class="sc">~</span> </span>
<span id="cb80-822"><a href="#cb80-822" aria-hidden="true" tabindex="-1"></a>      onechild <span class="sc">+</span> <span class="fu">I</span>(onechild <span class="sc">*</span> after1993) </span>
<span id="cb80-823"><a href="#cb80-823" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> twomorekids <span class="sc">+</span> <span class="fu">I</span>(twomorekids <span class="sc">*</span> after1993) </span>
<span id="cb80-824"><a href="#cb80-824" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-825"><a href="#cb80-825" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> unearn <span class="sc">+</span> nonwhite </span>
<span id="cb80-826"><a href="#cb80-826" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> age <span class="sc">+</span> <span class="fu">I</span>(age<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb80-827"><a href="#cb80-827" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> ed <span class="sc">+</span> <span class="fu">I</span>(ed<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb80-828"><a href="#cb80-828" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-829"><a href="#cb80-829" aria-hidden="true" tabindex="-1"></a>    <span class="sc">|</span> state <span class="sc">+</span> year,</span>
<span id="cb80-830"><a href="#cb80-830" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-831"><a href="#cb80-831" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> eitc_data</span>
<span id="cb80-832"><a href="#cb80-832" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-833"><a href="#cb80-833" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-834"><a href="#cb80-834" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-835"><a href="#cb80-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-836"><a href="#cb80-836" aria-hidden="true" tabindex="-1"></a>Die interessierenden geschätzten Koeffizienten von <span class="in">`I(onechild * after1993)`</span> und <span class="in">`I(twomorekids * after1993)`</span> sind $<span class="in">`r DID_FE_spec_controls$coefficients["I(onechild * after1993)"]`</span>$ und $<span class="in">`r DID_FE_spec_controls$coefficients["I(twomorekids * after1993)"]`</span>$. Auch hier sind die Koeffizienten signifikant von null verschieden. Der größere Koeffizient für den Effekt auf Mütter mit zwei oder mehr Kinder liefert Evidenz dafür, dass die Einführung der Zahlstufe für größere Familien im Rahmen der EITC-Ausweitung von 1993 tatsächlich einen etwas stärkeren Anreiz auf die Zielgruppe mit mehreren Kindern hatte.</span>
<span id="cb80-837"><a href="#cb80-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-838"><a href="#cb80-838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-839"><a href="#cb80-839" aria-hidden="true" tabindex="-1"></a><span class="fu">### Probit-Spezifikationen</span></span>
<span id="cb80-840"><a href="#cb80-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-841"><a href="#cb80-841" aria-hidden="true" tabindex="-1"></a>In sämtlichen Modellen in @sec-didattest haben wir $\text{work}_{i,t}$ als kontinulierliche Variable behandelt und den bedingten Erwartungswert als lineare Funktion modelliert. Da $\text{work}_{i,t}$ eine binäre Variable ist, haben wir damit implizit die bedingte *Wahrscheinlichkeit* der Erwerbsbeteiligung $P(\text{work}_{i,t} = 1\vert \boldsymbol{x}_{i,t})$ modelliert. Wie in @sec-lpm erläutert, kann ein solches lineares Wahrscheinlichkeitsmodell (LPM) einen nicht-linearen Verlauf der Wahrscheinlichkeitsfunktion $P(\text{work}_{i,t} = 1\vert \boldsymbol{x}_{i,t})$ nicht exakt abbilden, wobei tatsächliche Behandlungseffekte unter- oder überschätzt werden können. In manchen Fällen können geschätzte Wahrscheinlichkeiten sogar außerhalb des Intervalls $<span class="co">[</span><span class="ot">0,1</span><span class="co">]</span>$ liegen. Statt eines LPM sollte ein generalisiertes lineares Modell (GLM) verwendet werden. </span>
<span id="cb80-842"><a href="#cb80-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-843"><a href="#cb80-843" aria-hidden="true" tabindex="-1"></a>Wir modellieren nachfolgend den Effekt der EITC-Anpassung auf die Wahrscheinlichkeit einer Erwerbsbeteiligung von Müttern mit <span class="co">[</span><span class="ot">Probit-Regression</span><span class="co">](#sec-abcd)</span>. Anstatt <span class="in">`stats::glm()`</span> verwenden wir <span class="in">`fixest::feglm()`</span>.^<span class="co">[</span><span class="ot">Eine weitere Option ist `alpaca::feglm()`.</span><span class="co">]</span> Analog zu <span class="in">`fixest::feols()`</span> erlaubt <span class="in">`fixest::feglm()`</span> die Schätzung von Probit-Regressionen mit Fixed Effekts. Partielle Effekte können mit dem Paket <span class="in">`marginaleffects`</span> berechnet werden. Wir schätzen zunächst eine Fixed-Effects-Probit-Regression analog zu \eqref{eq:eitcmodfe}, d.h.</span>
<span id="cb80-844"><a href="#cb80-844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-845"><a href="#cb80-845" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-846"><a href="#cb80-846" aria-hidden="true" tabindex="-1"></a>  \begin{split}</span>
<span id="cb80-847"><a href="#cb80-847" aria-hidden="true" tabindex="-1"></a>    \Phi^{-1}\bigg<span class="co">[</span><span class="ot">P(\text{work}_{i,t} = 1\vert \boldsymbol{x}_{i,t})\bigg</span><span class="co">]</span> </span>
<span id="cb80-848"><a href="#cb80-848" aria-hidden="true" tabindex="-1"></a>    =&amp;\, \eta_t + \theta_\text{Staat} + \beta_1 \text{anykids}_{i,t}<span class="sc">\\</span> </span>
<span id="cb80-849"><a href="#cb80-849" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_2 (\text{anykids}_{i,t} \times \text{after1993}_{i,t}).<span class="sc">\\</span></span>
<span id="cb80-850"><a href="#cb80-850" aria-hidden="true" tabindex="-1"></a>  \end{split}</span>
<span id="cb80-851"><a href="#cb80-851" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-852"><a href="#cb80-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-853"><a href="#cb80-853" aria-hidden="true" tabindex="-1"></a>Für die Berechnung der partiellen Effekte mit <span class="in">`marginaleffects::avg_slopes()`</span> definieren wir die interargierten Regressoren direkt im Datensatz.</span>
<span id="cb80-854"><a href="#cb80-854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-857"><a href="#cb80-857" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-858"><a href="#cb80-858" aria-hidden="true" tabindex="-1"></a><span class="co"># Interagierte Regressoren definieren</span></span>
<span id="cb80-859"><a href="#cb80-859" aria-hidden="true" tabindex="-1"></a>eitc_data <span class="ot">&lt;-</span> eitc_data <span class="sc">%&gt;%</span> </span>
<span id="cb80-860"><a href="#cb80-860" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-861"><a href="#cb80-861" aria-hidden="true" tabindex="-1"></a>    <span class="at">int_anykids =</span> anykids <span class="sc">*</span> after1993,</span>
<span id="cb80-862"><a href="#cb80-862" aria-hidden="true" tabindex="-1"></a>    <span class="at">int_onechild =</span> onechild <span class="sc">*</span> after1993,</span>
<span id="cb80-863"><a href="#cb80-863" aria-hidden="true" tabindex="-1"></a>    <span class="at">int_twomore =</span> twomorekids <span class="sc">*</span> after1993</span>
<span id="cb80-864"><a href="#cb80-864" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-865"><a href="#cb80-865" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-866"><a href="#cb80-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-867"><a href="#cb80-867" aria-hidden="true" tabindex="-1"></a>Die Struktur von <span class="in">`feglm()`</span> folgt dem selben Schema wie <span class="in">`feols()`</span>. Das zusätzliche Argument <span class="in">`family = binomial("probit")`</span> legt die entsprechende Link-Funktion fest.</span>
<span id="cb80-868"><a href="#cb80-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-871"><a href="#cb80-871" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-872"><a href="#cb80-872" aria-hidden="true" tabindex="-1"></a><span class="co"># Probit-Regression mit TWFE</span></span>
<span id="cb80-873"><a href="#cb80-873" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-874"><a href="#cb80-874" aria-hidden="true" tabindex="-1"></a>  EITC_DID_probit <span class="ot">&lt;-</span> <span class="fu">feglm</span>(</span>
<span id="cb80-875"><a href="#cb80-875" aria-hidden="true" tabindex="-1"></a>    <span class="at">fml =</span> work <span class="sc">~</span> anykids <span class="sc">+</span> int_anykids</span>
<span id="cb80-876"><a href="#cb80-876" aria-hidden="true" tabindex="-1"></a>    <span class="sc">|</span> state <span class="sc">+</span> year, </span>
<span id="cb80-877"><a href="#cb80-877" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"probit"</span>),</span>
<span id="cb80-878"><a href="#cb80-878" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> eitc_data</span>
<span id="cb80-879"><a href="#cb80-879" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-880"><a href="#cb80-880" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-881"><a href="#cb80-881" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-882"><a href="#cb80-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-883"><a href="#cb80-883" aria-hidden="true" tabindex="-1"></a>Die Schätzung ergibt einen positiven Effekt für <span class="in">`int_anykids`</span>. Wie im linearen Modell ist der  Koeffizient von <span class="in">`int_anykids`</span> signifikant. Beachte, dass dieser Koeffizient die geschätzte Änderung der *latenten Variable* des Probit-Modells misst und *nicht* direkt als Behandlungseffekt interpretiert werden darf. Stattdessen können wir mit <span class="in">`marginaleffects::avg_slopes()`</span> den durchschnittlichen partiellen Effekt des Interaktionsterms für Frauen in der Behandlungsgruppe für die Jahre 1994 bis 1996  berechnen. <span class="in">`marginaleffects::datagrid()`</span> setzt Variablen ohne spezifizierte Werte auf ihren Mittelwert (kontinuierlich) oder Modus (kategorisch). Der Modus von <span class="in">`state`</span> ist 93 (California).</span>
<span id="cb80-884"><a href="#cb80-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-887"><a href="#cb80-887" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-888"><a href="#cb80-888" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(marginaleffects)</span>
<span id="cb80-889"><a href="#cb80-889" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-890"><a href="#cb80-890" aria-hidden="true" tabindex="-1"></a>EITC_DID_probit <span class="sc">%&gt;%</span> </span>
<span id="cb80-891"><a href="#cb80-891" aria-hidden="true" tabindex="-1"></a>  <span class="fu">avg_slopes</span>(</span>
<span id="cb80-892"><a href="#cb80-892" aria-hidden="true" tabindex="-1"></a>    <span class="at">variables =</span> <span class="st">"int_anykids"</span>, </span>
<span id="cb80-893"><a href="#cb80-893" aria-hidden="true" tabindex="-1"></a>    <span class="at">newdata =</span> <span class="fu">datagrid</span>(</span>
<span id="cb80-894"><a href="#cb80-894" aria-hidden="true" tabindex="-1"></a>      <span class="at">anykids =</span> <span class="dv">1</span>, </span>
<span id="cb80-895"><a href="#cb80-895" aria-hidden="true" tabindex="-1"></a>      <span class="at">year =</span> <span class="dv">1994</span><span class="sc">:</span><span class="dv">1996</span></span>
<span id="cb80-896"><a href="#cb80-896" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-897"><a href="#cb80-897" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-898"><a href="#cb80-898" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-899"><a href="#cb80-899" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-900"><a href="#cb80-900" aria-hidden="true" tabindex="-1"></a>Der geschätzte durchschnittliche partielle Effekt der EITC-Ausweitung für Mütter im Bundesstaat California für die Jahre 1994 bis 1996 ist eine Erhöhung der Wahrscheinlichkeit der Erwerbsbeteiligung um etwa $4.57\%$.</span>
<span id="cb80-901"><a href="#cb80-901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-902"><a href="#cb80-902" aria-hidden="true" tabindex="-1"></a>Analog zu Modell \eqref{eq:eitcmodfecd} kontrollieren wir in einer weiteren Regression zusätzlich für sozio-ökonomische Charakteristika und differenzieren zwischen dem Effekt für Frauen mit einem Kind und Müttern mit zwei oder mehr Kindern anhand des Modells</span>
<span id="cb80-903"><a href="#cb80-903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-904"><a href="#cb80-904" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-905"><a href="#cb80-905" aria-hidden="true" tabindex="-1"></a>  \begin{split}</span>
<span id="cb80-906"><a href="#cb80-906" aria-hidden="true" tabindex="-1"></a>    \Phi^{-1}\bigg<span class="co">[</span><span class="ot">P(\text{work}_{i,t} = 1)\bigg</span><span class="co">]</span> =&amp;\, \theta_\text{Staat} + \eta_t <span class="sc">\\</span></span>
<span id="cb80-907"><a href="#cb80-907" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_1 \text{onechild}_{i,t} + \beta_2 (\text{onechild}_{i,t} \times \text{after1993}_t) <span class="sc">\\</span></span>
<span id="cb80-908"><a href="#cb80-908" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_3 \text{twomorechild}_{i,t} + \beta_4 (\text{twomorechild}_{i,t} \times \text{after1993}_t) <span class="sc">\\</span></span>
<span id="cb80-909"><a href="#cb80-909" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \beta_5 \text{unearn} + \beta_6 \text{nonwhite} + \beta_7 \text{age} + \beta_8 \text{age}^2 + \beta_9 \text{ed} + \beta_{10} \text{ed}^2 <span class="sc">\\</span></span>
<span id="cb80-910"><a href="#cb80-910" aria-hidden="true" tabindex="-1"></a>    +&amp;\, \epsilon_{i,t}.</span>
<span id="cb80-911"><a href="#cb80-911" aria-hidden="true" tabindex="-1"></a>  \end{split}</span>
<span id="cb80-912"><a href="#cb80-912" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-913"><a href="#cb80-913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-914"><a href="#cb80-914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-917"><a href="#cb80-917" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-918"><a href="#cb80-918" aria-hidden="true" tabindex="-1"></a><span class="co"># Probit-FE-Regression mit Kontrollvariablen</span></span>
<span id="cb80-919"><a href="#cb80-919" aria-hidden="true" tabindex="-1"></a><span class="co"># und Differenzierung des Effekts</span></span>
<span id="cb80-920"><a href="#cb80-920" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-921"><a href="#cb80-921" aria-hidden="true" tabindex="-1"></a>  EITC_DID_probit <span class="ot">&lt;-</span> <span class="fu">feglm</span>(</span>
<span id="cb80-922"><a href="#cb80-922" aria-hidden="true" tabindex="-1"></a>    <span class="at">fml =</span> work <span class="sc">~</span> onechild <span class="sc">+</span> int_onechild</span>
<span id="cb80-923"><a href="#cb80-923" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> twomorekids <span class="sc">+</span> int_twomore</span>
<span id="cb80-924"><a href="#cb80-924" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-925"><a href="#cb80-925" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> unearn <span class="sc">+</span> nonwhite <span class="sc">+</span> age <span class="sc">+</span> ed </span>
<span id="cb80-926"><a href="#cb80-926" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> <span class="fu">I</span>(ed<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> <span class="fu">I</span>(age<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb80-927"><a href="#cb80-927" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-928"><a href="#cb80-928" aria-hidden="true" tabindex="-1"></a>    <span class="sc">|</span> year <span class="sc">+</span> state, </span>
<span id="cb80-929"><a href="#cb80-929" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"probit"</span>),</span>
<span id="cb80-930"><a href="#cb80-930" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> eitc_data</span>
<span id="cb80-931"><a href="#cb80-931" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-932"><a href="#cb80-932" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-933"><a href="#cb80-933" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-934"><a href="#cb80-934" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-935"><a href="#cb80-935" aria-hidden="true" tabindex="-1"></a>Wir können nun zwei partielle Effekte berechnen: 1. für <span class="in">`int_onechild`</span> und 2. für <span class="in">`int_twomore`</span>. Hierzu setzten wir jeweils die übrigen Dummy-Variablen mit Bezug zur Anzahl der Kinder auf null. Weiterhin setzen wir <span class="in">`nonwhite = 0`</span>, d.h. wir betrachten den Effekt für weiße Frauen im Bundesstaat California, wobei die übrigen Regressoren den Wert der jeweiligen Stichprobenmittel haben.</span>
<span id="cb80-936"><a href="#cb80-936" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-939"><a href="#cb80-939" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-940"><a href="#cb80-940" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Durchschn. Partieller Effekt onechild</span></span>
<span id="cb80-941"><a href="#cb80-941" aria-hidden="true" tabindex="-1"></a>EITC_DID_probit <span class="sc">%&gt;%</span> </span>
<span id="cb80-942"><a href="#cb80-942" aria-hidden="true" tabindex="-1"></a>  <span class="fu">avg_slopes</span>(</span>
<span id="cb80-943"><a href="#cb80-943" aria-hidden="true" tabindex="-1"></a>    <span class="at">variable =</span> <span class="st">"int_onechild"</span>,</span>
<span id="cb80-944"><a href="#cb80-944" aria-hidden="true" tabindex="-1"></a>    <span class="fu">datagrid</span>(</span>
<span id="cb80-945"><a href="#cb80-945" aria-hidden="true" tabindex="-1"></a>      <span class="at">onechild =</span> <span class="dv">1</span>, </span>
<span id="cb80-946"><a href="#cb80-946" aria-hidden="true" tabindex="-1"></a>      <span class="at">twomorekids =</span> <span class="dv">0</span>, </span>
<span id="cb80-947"><a href="#cb80-947" aria-hidden="true" tabindex="-1"></a>      <span class="at">int_twomore =</span> <span class="dv">0</span>,</span>
<span id="cb80-948"><a href="#cb80-948" aria-hidden="true" tabindex="-1"></a>      <span class="at">year =</span> <span class="dv">1994</span><span class="sc">:</span><span class="dv">1996</span>,</span>
<span id="cb80-949"><a href="#cb80-949" aria-hidden="true" tabindex="-1"></a>      <span class="at">nonwhite =</span> <span class="dv">0</span></span>
<span id="cb80-950"><a href="#cb80-950" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-951"><a href="#cb80-951" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-952"><a href="#cb80-952" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-953"><a href="#cb80-953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-956"><a href="#cb80-956" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-957"><a href="#cb80-957" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Durchschn. Partieller Effekt twomore</span></span>
<span id="cb80-958"><a href="#cb80-958" aria-hidden="true" tabindex="-1"></a>EITC_DID_probit <span class="sc">%&gt;%</span> </span>
<span id="cb80-959"><a href="#cb80-959" aria-hidden="true" tabindex="-1"></a>  <span class="fu">avg_slopes</span>(</span>
<span id="cb80-960"><a href="#cb80-960" aria-hidden="true" tabindex="-1"></a>    <span class="at">variable =</span> <span class="st">"int_twomore"</span>,</span>
<span id="cb80-961"><a href="#cb80-961" aria-hidden="true" tabindex="-1"></a>    <span class="fu">datagrid</span>(</span>
<span id="cb80-962"><a href="#cb80-962" aria-hidden="true" tabindex="-1"></a>      <span class="at">int_onechild =</span> <span class="dv">0</span>, </span>
<span id="cb80-963"><a href="#cb80-963" aria-hidden="true" tabindex="-1"></a>      <span class="at">onechild =</span> <span class="dv">0</span>, </span>
<span id="cb80-964"><a href="#cb80-964" aria-hidden="true" tabindex="-1"></a>      <span class="at">twomorekids =</span> <span class="dv">1</span>, </span>
<span id="cb80-965"><a href="#cb80-965" aria-hidden="true" tabindex="-1"></a>      <span class="at">year =</span> <span class="dv">1994</span><span class="sc">:</span><span class="dv">1996</span>,</span>
<span id="cb80-966"><a href="#cb80-966" aria-hidden="true" tabindex="-1"></a>      <span class="at">nonwhite =</span> <span class="dv">0</span></span>
<span id="cb80-967"><a href="#cb80-967" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-968"><a href="#cb80-968" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-969"><a href="#cb80-969" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-970"><a href="#cb80-970" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-971"><a href="#cb80-971" aria-hidden="true" tabindex="-1"></a>Ähnlich wie in Modell \eqref{eq:eitcmodfecd} erhalten wir signifikante positive Schätzungen. Der durchschnittliche Effekt für <span class="in">`int_twomore`</span> ist mit einer Erhöhung der Wahrscheinlichkeit zur Aufnahme einer Beschäftigung von etwa $6.16\%$ etwas höher als die $4.11\%$ für <span class="in">`int_onechild`</span>.</span>
<span id="cb80-972"><a href="#cb80-972" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-973"><a href="#cb80-973" aria-hidden="true" tabindex="-1"></a><span class="fu">## Case Study: Effekt von Polizeipräsenz auf Autodiebstähle</span></span>
<span id="cb80-974"><a href="#cb80-974" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-975"><a href="#cb80-975" aria-hidden="true" tabindex="-1"></a>Nach einem Terroranschlag auf das größte jüdische Gemeindezentrum in Buenos Aires am 18. Juli 1994 wurden sämtliche jüdische und muslimische Einrichtungen in der Stadt rund um die Uhr von der argentinischen Polizei geschützt. Somit führte dieses Ereignis zu einer geografischen quasi-experimentellen Allokation von Polizeikräften in Gegenden mit entsprechenden Einrichtungen. In einem Forschungsdesign, dass die lokale Straßenkriminalität Kriminalität erklären soll, kann die sich aus der Allokation ergebende Variation in der Polizeipräsenz als exogen angenommen werden. @DiTellaSchargrodsky2004 nutzen diesen Umstand, um anhand von Polizeistatistiken und Daten zu Autodiebstählen in Buenos Aires vor und nach dem Terroranschlag den Effekt erhöhter Polizeipräsenz auf die Kriminalität in einem Difference-in-Differences-Ansatz zu untersuchen. Die Studienergebnisse deuten darauf hin, dass es einen starken abschreckenden Effekt von Polizeistreifen gibt, der sich nur in einem engen Umkreis um den Häuserblock in dem die Polizei stationiert ist, auswirkt.</span>
<span id="cb80-976"><a href="#cb80-976" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-977"><a href="#cb80-977" aria-hidden="true" tabindex="-1"></a>In diesem Kapitel reproduzieren wir Kernergebnisse der Studie mit R. Die benötigten Daten sind auf der <span class="co">[</span><span class="ot">Webseite der American Economic Association</span><span class="co">](https://www.aeaweb.org/articles?id=10.1257/000282804322970733)</span> verfügbar. Die Daten stammen aus drei nicht zusammenhängenden Stadtvierteln von Buenos Aires die etwa 3.2\% der Stadtfläche ausmachen und 6.9\% der Bevölkerung beherbergen, wobei sich jedem Viertel eine Polizeistation befindet. Bei den untersuchten Stadtvierteln handelt es sich um die Viertel mit der größten Anzahl jüdischer Einrichtungen in der Stadt. Der Großteil der Häuserblocks in diesen Vierteln (insgesamt 876 Blöcke) liegen nicht in der Nähe einer geschützten Einrichtung. Blocks die mehr als zwei Blocks von einer geschützten Einrichtung entfernt liegen, bilden die Kontrollgruppe. </span>
<span id="cb80-978"><a href="#cb80-978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-979"><a href="#cb80-979" aria-hidden="true" tabindex="-1"></a>Wir verwenden nachfolgend den modifizierten Datensatz <span class="in">`polizeipraesenz.RDS`</span>. </span>
<span id="cb80-980"><a href="#cb80-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-983"><a href="#cb80-983" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-984"><a href="#cb80-984" aria-hidden="true" tabindex="-1"></a><span class="co"># Datensatz einlesen</span></span>
<span id="cb80-985"><a href="#cb80-985" aria-hidden="true" tabindex="-1"></a>polizeipraesenz <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"datasets/polizeipraesenz.RDS"</span>)</span>
<span id="cb80-986"><a href="#cb80-986" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-987"><a href="#cb80-987" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-988"><a href="#cb80-988" aria-hidden="true" tabindex="-1"></a>| Variable   | Beschreibung                                 |</span>
<span id="cb80-989"><a href="#cb80-989" aria-hidden="true" tabindex="-1"></a>|:----------:|:--------------------------------------------:|</span>
<span id="cb80-990"><a href="#cb80-990" aria-hidden="true" tabindex="-1"></a>| institut   | Jüdische Einrichtung im Block                |</span>
<span id="cb80-991"><a href="#cb80-991" aria-hidden="true" tabindex="-1"></a>| distanz    | Entf. zu Block mit Einrichtung (in Blocks)   |</span>
<span id="cb80-992"><a href="#cb80-992" aria-hidden="true" tabindex="-1"></a>| monat      | Monat der Beobachtung                        |</span>
<span id="cb80-993"><a href="#cb80-993" aria-hidden="true" tabindex="-1"></a>| observ     | ID-Variable für Block                        |</span>
<span id="cb80-994"><a href="#cb80-994" aria-hidden="true" tabindex="-1"></a>| totrob     | Diebstähle pro Monat (normalisiert)          |</span>
<span id="cb80-995"><a href="#cb80-995" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-996"><a href="#cb80-996" aria-hidden="true" tabindex="-1"></a>: <span class="in">`polizeipraesenz`</span>: Autodiebstähle in Buenos Aires {#tbl-polpr}</span>
<span id="cb80-997"><a href="#cb80-997" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-998"><a href="#cb80-998" aria-hidden="true" tabindex="-1"></a>Zur Einschätzung der Annahme paralleler Trends berechnen wir zunächst die Durschnittliche Anzahl an Autodiebstählen Blöcke mit bzw. ohne jüdische Institutionen für die Monate April bis Dezember. Beachte, dass die Variable <span class="in">`monat`</span> zwei Ausprägungen für den Monat des Anschlags aufweist: <span class="in">`Juli (1 - 17)`</span> für die Juli-Tage vor dem Anschlag und für die verbleibenden Tage <span class="in">`Juli (18 - 31)`</span>.</span>
<span id="cb80-999"><a href="#cb80-999" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1002"><a href="#cb80-1002" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1003"><a href="#cb80-1003" aria-hidden="true" tabindex="-1"></a><span class="co"># Trends berechnen</span></span>
<span id="cb80-1004"><a href="#cb80-1004" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-1005"><a href="#cb80-1005" aria-hidden="true" tabindex="-1"></a>  polizeipraesenz_Trends <span class="ot">&lt;-</span> polizeipraesenz <span class="sc">%&gt;%</span></span>
<span id="cb80-1006"><a href="#cb80-1006" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">institut =</span> <span class="fu">as.factor</span>(institut)) <span class="sc">%&gt;%</span></span>
<span id="cb80-1007"><a href="#cb80-1007" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(monat, institut) <span class="sc">%&gt;%</span></span>
<span id="cb80-1008"><a href="#cb80-1008" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb80-1009"><a href="#cb80-1009" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Durchschn. Diebstähle</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(totrob)</span>
<span id="cb80-1010"><a href="#cb80-1010" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-1011"><a href="#cb80-1011" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1012"><a href="#cb80-1012" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1013"><a href="#cb80-1013" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1014"><a href="#cb80-1014" aria-hidden="true" tabindex="-1"></a>Die in <span class="in">`polizeipraesenz_Trends`</span> erfasste Trendentwicklung für Blöcke in der Behandlungsgruppe (<span class="in">`institut == 1`</span>) und in der Kontrollgruppe (<span class="in">`institut == 0`</span>) plotten wir mit <span class="in">`ggplot2()`</span>.</span>
<span id="cb80-1015"><a href="#cb80-1015" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1018"><a href="#cb80-1018" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1019"><a href="#cb80-1019" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-totrobtrends</span></span>
<span id="cb80-1020"><a href="#cb80-1020" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Geschätzte Trends für Autodiebstähle in Buenos Aires im Jahr 1994"</span></span>
<span id="cb80-1021"><a href="#cb80-1021" aria-hidden="true" tabindex="-1"></a><span class="co"># Trends plotten</span></span>
<span id="cb80-1022"><a href="#cb80-1022" aria-hidden="true" tabindex="-1"></a>polizeipraesenz_Trends <span class="sc">%&gt;%</span></span>
<span id="cb80-1023"><a href="#cb80-1023" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb80-1024"><a href="#cb80-1024" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb80-1025"><a href="#cb80-1025" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> monat, </span>
<span id="cb80-1026"><a href="#cb80-1026" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">`</span><span class="at">Durchschn. Diebstähle</span><span class="st">`</span>, </span>
<span id="cb80-1027"><a href="#cb80-1027" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> institut, </span>
<span id="cb80-1028"><a href="#cb80-1028" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> institut</span>
<span id="cb80-1029"><a href="#cb80-1029" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-1030"><a href="#cb80-1030" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-1031"><a href="#cb80-1031" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb80-1032"><a href="#cb80-1032" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(</span>
<span id="cb80-1033"><a href="#cb80-1033" aria-hidden="true" tabindex="-1"></a>    <span class="at">xintercept =</span> <span class="st">"Juli (18 - 31)"</span>, </span>
<span id="cb80-1034"><a href="#cb80-1034" aria-hidden="true" tabindex="-1"></a>    <span class="at">lty =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb80-1035"><a href="#cb80-1035" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb80-1036"><a href="#cb80-1036" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb80-1037"><a href="#cb80-1037" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Monat"</span>,</span>
<span id="cb80-1038"><a href="#cb80-1038" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Durchschn. Anz. Diebstähle / Monat"</span></span>
<span id="cb80-1039"><a href="#cb80-1039" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-1040"><a href="#cb80-1040" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_cowplot</span>() <span class="sc">+</span></span>
<span id="cb80-1041"><a href="#cb80-1041" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb80-1042"><a href="#cb80-1042" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(</span>
<span id="cb80-1043"><a href="#cb80-1043" aria-hidden="true" tabindex="-1"></a>      <span class="at">angle =</span> <span class="dv">45</span>, </span>
<span id="cb80-1044"><a href="#cb80-1044" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="dv">1</span></span>
<span id="cb80-1045"><a href="#cb80-1045" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb80-1046"><a href="#cb80-1046" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"top"</span></span>
<span id="cb80-1047"><a href="#cb80-1047" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-1048"><a href="#cb80-1048" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1049"><a href="#cb80-1049" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1050"><a href="#cb80-1050" aria-hidden="true" tabindex="-1"></a>@fig-totrobtrends zeigt einen ähnlichen Verlauf der Trends für den Zeitraum unmittelbar vor dem Anschalg am 18. Juli.</span>
<span id="cb80-1051"><a href="#cb80-1051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1054"><a href="#cb80-1054" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1055"><a href="#cb80-1055" aria-hidden="true" tabindex="-1"></a>dat_listcol <span class="ot">&lt;-</span> polizeipraesenz <span class="sc">%&gt;%</span> </span>
<span id="cb80-1056"><a href="#cb80-1056" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(observ, monat) <span class="sc">%&gt;%</span></span>
<span id="cb80-1057"><a href="#cb80-1057" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">totrob =</span> <span class="fu">sum</span>(totrob)) <span class="sc">%&gt;%</span></span>
<span id="cb80-1058"><a href="#cb80-1058" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb80-1059"><a href="#cb80-1059" aria-hidden="true" tabindex="-1"></a>    <span class="at">d2more =</span> <span class="fu">list</span>(totrob[distanz <span class="sc">&gt;</span> <span class="dv">2</span>]),</span>
<span id="cb80-1060"><a href="#cb80-1060" aria-hidden="true" tabindex="-1"></a>    <span class="at">d2 =</span> <span class="fu">list</span>(totrob[distanz <span class="sc">==</span> <span class="dv">2</span>]),</span>
<span id="cb80-1061"><a href="#cb80-1061" aria-hidden="true" tabindex="-1"></a>    <span class="at">d1 =</span> <span class="fu">list</span>(totrob[distanz <span class="sc">==</span> <span class="dv">1</span>]),</span>
<span id="cb80-1062"><a href="#cb80-1062" aria-hidden="true" tabindex="-1"></a>    <span class="at">same =</span> <span class="fu">list</span>(totrob[institut <span class="sc">==</span> <span class="dv">1</span>])</span>
<span id="cb80-1063"><a href="#cb80-1063" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-1064"><a href="#cb80-1064" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1065"><a href="#cb80-1065" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1066"><a href="#cb80-1066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1069"><a href="#cb80-1069" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1070"><a href="#cb80-1070" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-deskstatdistanz</span></span>
<span id="cb80-1071"><a href="#cb80-1071" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Deskriptive Statistiken für "</span></span>
<span id="cb80-1072"><a href="#cb80-1072" aria-hidden="true" tabindex="-1"></a><span class="co"># Mittelwerte und Standardabweichungen</span></span>
<span id="cb80-1073"><a href="#cb80-1073" aria-hidden="true" tabindex="-1"></a>mean_sd <span class="ot">&lt;-</span> dat_listcol <span class="sc">%&gt;%</span></span>
<span id="cb80-1074"><a href="#cb80-1074" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(monat) <span class="sc">%&gt;%</span></span>
<span id="cb80-1075"><a href="#cb80-1075" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb80-1076"><a href="#cb80-1076" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb80-1077"><a href="#cb80-1077" aria-hidden="true" tabindex="-1"></a>      d2more<span class="sc">:</span>same,</span>
<span id="cb80-1078"><a href="#cb80-1078" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fns =</span> <span class="fu">list</span>(</span>
<span id="cb80-1079"><a href="#cb80-1079" aria-hidden="true" tabindex="-1"></a>        <span class="at">mean =</span> <span class="sc">~</span> <span class="fu">mean</span>(<span class="fu">unlist</span>(.)), </span>
<span id="cb80-1080"><a href="#cb80-1080" aria-hidden="true" tabindex="-1"></a>        <span class="at">sd =</span> <span class="sc">~</span> <span class="fu">sd</span>(<span class="fu">unlist</span>(.))</span>
<span id="cb80-1081"><a href="#cb80-1081" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb80-1082"><a href="#cb80-1082" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb80-1083"><a href="#cb80-1083" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-1084"><a href="#cb80-1084" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1085"><a href="#cb80-1085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1088"><a href="#cb80-1088" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1089"><a href="#cb80-1089" aria-hidden="true" tabindex="-1"></a>the_diffs <span class="ot">&lt;-</span> dat_listcol <span class="sc">%&gt;%</span></span>
<span id="cb80-1090"><a href="#cb80-1090" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-1091"><a href="#cb80-1091" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(monat) <span class="sc">%&gt;%</span></span>
<span id="cb80-1092"><a href="#cb80-1092" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb80-1093"><a href="#cb80-1093" aria-hidden="true" tabindex="-1"></a>    <span class="at">diff1 =</span> <span class="fu">list</span>(</span>
<span id="cb80-1094"><a href="#cb80-1094" aria-hidden="true" tabindex="-1"></a>      <span class="fu">t.test</span>(<span class="at">x =</span> <span class="fu">unlist</span>(same), <span class="at">y =</span> <span class="fu">unlist</span>(d2more))</span>
<span id="cb80-1095"><a href="#cb80-1095" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb80-1096"><a href="#cb80-1096" aria-hidden="true" tabindex="-1"></a>    <span class="at">diff2 =</span> <span class="fu">list</span>(</span>
<span id="cb80-1097"><a href="#cb80-1097" aria-hidden="true" tabindex="-1"></a>      <span class="fu">t.test</span>(<span class="at">x =</span> <span class="fu">unlist</span>(d1), <span class="at">y =</span> <span class="fu">unlist</span>(same))</span>
<span id="cb80-1098"><a href="#cb80-1098" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb80-1099"><a href="#cb80-1099" aria-hidden="true" tabindex="-1"></a>    <span class="at">diff3 =</span> <span class="fu">list</span>(</span>
<span id="cb80-1100"><a href="#cb80-1100" aria-hidden="true" tabindex="-1"></a>      <span class="fu">t.test</span>(<span class="at">x =</span> <span class="fu">unlist</span>(d2), <span class="at">y =</span> <span class="fu">unlist</span>(d2more))</span>
<span id="cb80-1101"><a href="#cb80-1101" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb80-1102"><a href="#cb80-1102" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"keep"</span></span>
<span id="cb80-1103"><a href="#cb80-1103" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb80-1104"><a href="#cb80-1104" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-1105"><a href="#cb80-1105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb80-1106"><a href="#cb80-1106" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb80-1107"><a href="#cb80-1107" aria-hidden="true" tabindex="-1"></a>      diff1<span class="sc">:</span>diff3, </span>
<span id="cb80-1108"><a href="#cb80-1108" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fns =</span> <span class="fu">list</span>(</span>
<span id="cb80-1109"><a href="#cb80-1109" aria-hidden="true" tabindex="-1"></a>        <span class="at">m =</span> <span class="sc">~</span> <span class="fu">map_dbl</span>(., \(x) <span class="fu">diff</span>(x<span class="sc">$</span>estimate)), </span>
<span id="cb80-1110"><a href="#cb80-1110" aria-hidden="true" tabindex="-1"></a>        <span class="at">sd =</span> <span class="sc">~</span> <span class="fu">map_dbl</span>(., \(x) x<span class="sc">$</span>stderr)</span>
<span id="cb80-1111"><a href="#cb80-1111" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb80-1112"><a href="#cb80-1112" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-1113"><a href="#cb80-1113" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-1114"><a href="#cb80-1114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1115"><a href="#cb80-1115" aria-hidden="true" tabindex="-1"></a>form <span class="ot">&lt;-</span> the_diffs <span class="sc">%&gt;%</span></span>
<span id="cb80-1116"><a href="#cb80-1116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb80-1117"><a href="#cb80-1117" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb80-1118"><a href="#cb80-1118" aria-hidden="true" tabindex="-1"></a>      <span class="fu">contains</span>(<span class="st">"_m"</span>), <span class="sc">~</span> </span>
<span id="cb80-1119"><a href="#cb80-1119" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sprintf</span>(<span class="st">"%.4f (%.4f)"</span>, ., <span class="fu">get</span>(<span class="fu">sub</span>(<span class="st">".m$"</span>, <span class="st">"_sd"</span>, <span class="fu">cur_column</span>()))), </span>
<span id="cb80-1120"><a href="#cb80-1120" aria-hidden="true" tabindex="-1"></a>      <span class="at">.names =</span> <span class="st">"{.col}"</span></span>
<span id="cb80-1121"><a href="#cb80-1121" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb80-1122"><a href="#cb80-1122" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-1123"><a href="#cb80-1123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1124"><a href="#cb80-1124" aria-hidden="true" tabindex="-1"></a>form <span class="sc">%&gt;%</span> </span>
<span id="cb80-1125"><a href="#cb80-1125" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb80-1126"><a href="#cb80-1126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabopts</span>()</span>
<span id="cb80-1127"><a href="#cb80-1127" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1128"><a href="#cb80-1128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1129"><a href="#cb80-1129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1130"><a href="#cb80-1130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1131"><a href="#cb80-1131" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-1132"><a href="#cb80-1132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1135"><a href="#cb80-1135" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1136"><a href="#cb80-1136" aria-hidden="true" tabindex="-1"></a><span class="co"># Table 3</span></span>
<span id="cb80-1137"><a href="#cb80-1137" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb80-1138"><a href="#cb80-1138" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb80-1139"><a href="#cb80-1139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1140"><a href="#cb80-1140" aria-hidden="true" tabindex="-1"></a>dat_DID <span class="ot">&lt;-</span> polizeipraesenz <span class="sc">%&gt;%</span></span>
<span id="cb80-1141"><a href="#cb80-1141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-1142"><a href="#cb80-1142" aria-hidden="true" tabindex="-1"></a>    <span class="at">treated =</span> institut <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb80-1143"><a href="#cb80-1143" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> monat <span class="sc">&gt;</span> <span class="st">"Juli (1 - 17)"</span>,</span>
<span id="cb80-1144"><a href="#cb80-1144" aria-hidden="true" tabindex="-1"></a>    <span class="at">oneblock =</span> distanz <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb80-1145"><a href="#cb80-1145" aria-hidden="true" tabindex="-1"></a>    <span class="at">twoblocks =</span> distanz <span class="sc">==</span> <span class="dv">2</span></span>
<span id="cb80-1146"><a href="#cb80-1146" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb80-1147"><a href="#cb80-1147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(monat <span class="sc">!=</span> <span class="st">"Juli (18 - 31)"</span>)</span>
<span id="cb80-1148"><a href="#cb80-1148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1149"><a href="#cb80-1149" aria-hidden="true" tabindex="-1"></a><span class="co"># (A)</span></span>
<span id="cb80-1150"><a href="#cb80-1150" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(</span>
<span id="cb80-1151"><a href="#cb80-1151" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1152"><a href="#cb80-1152" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) </span>
<span id="cb80-1153"><a href="#cb80-1153" aria-hidden="true" tabindex="-1"></a>    <span class="sc">|</span> observ <span class="sc">+</span> monat, </span>
<span id="cb80-1154"><a href="#cb80-1154" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID, </span>
<span id="cb80-1155"><a href="#cb80-1155" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1156"><a href="#cb80-1156" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1157"><a href="#cb80-1157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1158"><a href="#cb80-1158" aria-hidden="true" tabindex="-1"></a><span class="co"># (B)</span></span>
<span id="cb80-1159"><a href="#cb80-1159" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(</span>
<span id="cb80-1160"><a href="#cb80-1160" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1161"><a href="#cb80-1161" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) <span class="sc">+</span> </span>
<span id="cb80-1162"><a href="#cb80-1162" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(oneblock <span class="sc">*</span> group) </span>
<span id="cb80-1163"><a href="#cb80-1163" aria-hidden="true" tabindex="-1"></a>    <span class="sc">|</span> observ <span class="sc">+</span> monat, </span>
<span id="cb80-1164"><a href="#cb80-1164" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID, </span>
<span id="cb80-1165"><a href="#cb80-1165" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1166"><a href="#cb80-1166" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1167"><a href="#cb80-1167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1168"><a href="#cb80-1168" aria-hidden="true" tabindex="-1"></a><span class="co"># (C)</span></span>
<span id="cb80-1169"><a href="#cb80-1169" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(</span>
<span id="cb80-1170"><a href="#cb80-1170" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1171"><a href="#cb80-1171" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) <span class="sc">+</span> </span>
<span id="cb80-1172"><a href="#cb80-1172" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(oneblock <span class="sc">*</span> group) <span class="sc">+</span> </span>
<span id="cb80-1173"><a href="#cb80-1173" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1174"><a href="#cb80-1174" aria-hidden="true" tabindex="-1"></a>    <span class="sc">|</span> observ <span class="sc">+</span> monat, </span>
<span id="cb80-1175"><a href="#cb80-1175" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID, </span>
<span id="cb80-1176"><a href="#cb80-1176" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1177"><a href="#cb80-1177" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1178"><a href="#cb80-1178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1179"><a href="#cb80-1179" aria-hidden="true" tabindex="-1"></a><span class="co"># (D)</span></span>
<span id="cb80-1180"><a href="#cb80-1180" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(</span>
<span id="cb80-1181"><a href="#cb80-1181" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1182"><a href="#cb80-1182" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) <span class="sc">+</span> </span>
<span id="cb80-1183"><a href="#cb80-1183" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(oneblock <span class="sc">*</span> group) <span class="sc">+</span> </span>
<span id="cb80-1184"><a href="#cb80-1184" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1185"><a href="#cb80-1185" aria-hidden="true" tabindex="-1"></a>    <span class="sc">|</span> monat,</span>
<span id="cb80-1186"><a href="#cb80-1186" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID <span class="sc">%&gt;%</span> </span>
<span id="cb80-1187"><a href="#cb80-1187" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(monat <span class="sc">&gt;=</span> <span class="st">"August"</span>),</span>
<span id="cb80-1188"><a href="#cb80-1188" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1189"><a href="#cb80-1189" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1190"><a href="#cb80-1190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1191"><a href="#cb80-1191" aria-hidden="true" tabindex="-1"></a><span class="co"># (E)</span></span>
<span id="cb80-1192"><a href="#cb80-1192" aria-hidden="true" tabindex="-1"></a><span class="co"># (doesnt match for some reason)</span></span>
<span id="cb80-1193"><a href="#cb80-1193" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(</span>
<span id="cb80-1194"><a href="#cb80-1194" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1195"><a href="#cb80-1195" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) <span class="sc">+</span> </span>
<span id="cb80-1196"><a href="#cb80-1196" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(oneblock <span class="sc">*</span> group) <span class="sc">+</span> </span>
<span id="cb80-1197"><a href="#cb80-1197" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(twoblocks <span class="sc">*</span> group), </span>
<span id="cb80-1198"><a href="#cb80-1198" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID <span class="sc">%&gt;%</span> </span>
<span id="cb80-1199"><a href="#cb80-1199" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(distanz <span class="sc">&lt;=</span> <span class="dv">2</span>), </span>
<span id="cb80-1200"><a href="#cb80-1200" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1201"><a href="#cb80-1201" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1202"><a href="#cb80-1202" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1203"><a href="#cb80-1203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1204"><a href="#cb80-1204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1205"><a href="#cb80-1205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1208"><a href="#cb80-1208" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1209"><a href="#cb80-1209" aria-hidden="true" tabindex="-1"></a><span class="do">#### Table 4 ####</span></span>
<span id="cb80-1210"><a href="#cb80-1210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1211"><a href="#cb80-1211" aria-hidden="true" tabindex="-1"></a><span class="co"># (A)</span></span>
<span id="cb80-1212"><a href="#cb80-1212" aria-hidden="true" tabindex="-1"></a>dat_DID <span class="ot">&lt;-</span> polizeipraesenz <span class="sc">%&gt;%</span></span>
<span id="cb80-1213"><a href="#cb80-1213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-1214"><a href="#cb80-1214" aria-hidden="true" tabindex="-1"></a>    <span class="at">treated =</span> institut <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb80-1215"><a href="#cb80-1215" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> dplyr<span class="sc">::</span><span class="fu">between</span>(mes, <span class="dv">5</span>, <span class="dv">7</span>),</span>
<span id="cb80-1216"><a href="#cb80-1216" aria-hidden="true" tabindex="-1"></a>    <span class="at">oneblock =</span> distanz <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb80-1217"><a href="#cb80-1217" aria-hidden="true" tabindex="-1"></a>    <span class="at">twoblocks =</span> distanz <span class="sc">==</span> <span class="dv">2</span></span>
<span id="cb80-1218"><a href="#cb80-1218" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb80-1219"><a href="#cb80-1219" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mes <span class="sc">&lt;=</span> <span class="dv">7</span>)</span>
<span id="cb80-1220"><a href="#cb80-1220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1221"><a href="#cb80-1221" aria-hidden="true" tabindex="-1"></a>mod4_A <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb80-1222"><a href="#cb80-1222" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1223"><a href="#cb80-1223" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) </span>
<span id="cb80-1224"><a href="#cb80-1224" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(oneblock <span class="sc">*</span> group) </span>
<span id="cb80-1225"><a href="#cb80-1225" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1226"><a href="#cb80-1226" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span> observ <span class="sc">+</span> monat, </span>
<span id="cb80-1227"><a href="#cb80-1227" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID, </span>
<span id="cb80-1228"><a href="#cb80-1228" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1229"><a href="#cb80-1229" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1230"><a href="#cb80-1230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1231"><a href="#cb80-1231" aria-hidden="true" tabindex="-1"></a><span class="co"># (B)</span></span>
<span id="cb80-1232"><a href="#cb80-1232" aria-hidden="true" tabindex="-1"></a>dat_DID <span class="ot">&lt;-</span> dat_DID <span class="sc">%&gt;%</span></span>
<span id="cb80-1233"><a href="#cb80-1233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-1234"><a href="#cb80-1234" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> dplyr<span class="sc">::</span><span class="fu">between</span>(mes, <span class="dv">6</span>, <span class="dv">7</span>)</span>
<span id="cb80-1235"><a href="#cb80-1235" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb80-1236"><a href="#cb80-1236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1237"><a href="#cb80-1237" aria-hidden="true" tabindex="-1"></a>mod4_B <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb80-1238"><a href="#cb80-1238" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1239"><a href="#cb80-1239" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) </span>
<span id="cb80-1240"><a href="#cb80-1240" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(oneblock <span class="sc">*</span> group) </span>
<span id="cb80-1241"><a href="#cb80-1241" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1242"><a href="#cb80-1242" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span> observ <span class="sc">+</span> monat, </span>
<span id="cb80-1243"><a href="#cb80-1243" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID, </span>
<span id="cb80-1244"><a href="#cb80-1244" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1245"><a href="#cb80-1245" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1246"><a href="#cb80-1246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1247"><a href="#cb80-1247" aria-hidden="true" tabindex="-1"></a><span class="co"># (C)</span></span>
<span id="cb80-1248"><a href="#cb80-1248" aria-hidden="true" tabindex="-1"></a>dat_DID <span class="ot">&lt;-</span> dat_DID <span class="sc">%&gt;%</span></span>
<span id="cb80-1249"><a href="#cb80-1249" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-1250"><a href="#cb80-1250" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> mes <span class="sc">==</span> <span class="dv">7</span>,</span>
<span id="cb80-1251"><a href="#cb80-1251" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-1252"><a href="#cb80-1252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1253"><a href="#cb80-1253" aria-hidden="true" tabindex="-1"></a>mod4_C <span class="ot">&lt;-</span> <span class="fu">feols</span>(</span>
<span id="cb80-1254"><a href="#cb80-1254" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1255"><a href="#cb80-1255" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) </span>
<span id="cb80-1256"><a href="#cb80-1256" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(oneblock <span class="sc">*</span> group) </span>
<span id="cb80-1257"><a href="#cb80-1257" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1258"><a href="#cb80-1258" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span> observ <span class="sc">+</span> monat, </span>
<span id="cb80-1259"><a href="#cb80-1259" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID, </span>
<span id="cb80-1260"><a href="#cb80-1260" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1261"><a href="#cb80-1261" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1262"><a href="#cb80-1262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1263"><a href="#cb80-1263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1264"><a href="#cb80-1264" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabellarische Zusamenfassung</span></span>
<span id="cb80-1265"><a href="#cb80-1265" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb80-1266"><a href="#cb80-1266" aria-hidden="true" tabindex="-1"></a>  <span class="at">models =</span> <span class="fu">list</span>(</span>
<span id="cb80-1267"><a href="#cb80-1267" aria-hidden="true" tabindex="-1"></a>    <span class="at">A =</span> mod4_A,</span>
<span id="cb80-1268"><a href="#cb80-1268" aria-hidden="true" tabindex="-1"></a>    <span class="at">B =</span> mod4_B,</span>
<span id="cb80-1269"><a href="#cb80-1269" aria-hidden="true" tabindex="-1"></a>    <span class="at">C =</span> mod4_C</span>
<span id="cb80-1270"><a href="#cb80-1270" aria-hidden="true" tabindex="-1"></a>  ), </span>
<span id="cb80-1271"><a href="#cb80-1271" aria-hidden="true" tabindex="-1"></a>  <span class="at">stars =</span> T,</span>
<span id="cb80-1272"><a href="#cb80-1272" aria-hidden="true" tabindex="-1"></a>  <span class="at">gof_omit =</span> <span class="st">"^(?!(R2|Num.Obs.)$).*"</span>, </span>
<span id="cb80-1273"><a href="#cb80-1273" aria-hidden="true" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">"gt"</span></span>
<span id="cb80-1274"><a href="#cb80-1274" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb80-1275"><a href="#cb80-1275" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1276"><a href="#cb80-1276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1279"><a href="#cb80-1279" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1280"><a href="#cb80-1280" aria-hidden="true" tabindex="-1"></a><span class="do">#### Table 5 ####</span></span>
<span id="cb80-1281"><a href="#cb80-1281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1282"><a href="#cb80-1282" aria-hidden="true" tabindex="-1"></a>dat_DID_T5 <span class="ot">&lt;-</span> dat_DID <span class="sc">%&gt;%</span></span>
<span id="cb80-1283"><a href="#cb80-1283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-1284"><a href="#cb80-1284" aria-hidden="true" tabindex="-1"></a>    <span class="at">mbc =</span> <span class="fu">paste0</span>(barrio, <span class="st">"_"</span>, monat)</span>
<span id="cb80-1285"><a href="#cb80-1285" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-1286"><a href="#cb80-1286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1287"><a href="#cb80-1287" aria-hidden="true" tabindex="-1"></a><span class="co"># (A)</span></span>
<span id="cb80-1288"><a href="#cb80-1288" aria-hidden="true" tabindex="-1"></a><span class="co"># fixest</span></span>
<span id="cb80-1289"><a href="#cb80-1289" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(</span>
<span id="cb80-1290"><a href="#cb80-1290" aria-hidden="true" tabindex="-1"></a>  <span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1291"><a href="#cb80-1291" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) </span>
<span id="cb80-1292"><a href="#cb80-1292" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(oneblock <span class="sc">*</span> group) </span>
<span id="cb80-1293"><a href="#cb80-1293" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1294"><a href="#cb80-1294" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span> observ <span class="sc">+</span> monat,</span>
<span id="cb80-1295"><a href="#cb80-1295" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID_T5,</span>
<span id="cb80-1296"><a href="#cb80-1296" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1297"><a href="#cb80-1297" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1298"><a href="#cb80-1298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1299"><a href="#cb80-1299" aria-hidden="true" tabindex="-1"></a><span class="co"># (B)</span></span>
<span id="cb80-1300"><a href="#cb80-1300" aria-hidden="true" tabindex="-1"></a><span class="co"># fixest</span></span>
<span id="cb80-1301"><a href="#cb80-1301" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(<span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1302"><a href="#cb80-1302" aria-hidden="true" tabindex="-1"></a>    <span class="fu">I</span>(treated <span class="sc">*</span> group) </span>
<span id="cb80-1303"><a href="#cb80-1303" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(oneblock <span class="sc">*</span> group) </span>
<span id="cb80-1304"><a href="#cb80-1304" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1305"><a href="#cb80-1305" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span> observ <span class="sc">+</span> monat,</span>
<span id="cb80-1306"><a href="#cb80-1306" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat_DID_T5, </span>
<span id="cb80-1307"><a href="#cb80-1307" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="fu">vcov_cluster</span>(<span class="st">"observ"</span>)</span>
<span id="cb80-1308"><a href="#cb80-1308" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1309"><a href="#cb80-1309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1310"><a href="#cb80-1310" aria-hidden="true" tabindex="-1"></a><span class="co"># (C)</span></span>
<span id="cb80-1311"><a href="#cb80-1311" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(<span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1312"><a href="#cb80-1312" aria-hidden="true" tabindex="-1"></a>        <span class="fu">I</span>(treated <span class="sc">*</span> group) </span>
<span id="cb80-1313"><a href="#cb80-1313" aria-hidden="true" tabindex="-1"></a>      <span class="sc">+</span> <span class="fu">I</span>(oneblock <span class="sc">*</span> group) </span>
<span id="cb80-1314"><a href="#cb80-1314" aria-hidden="true" tabindex="-1"></a>      <span class="sc">+</span> <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1315"><a href="#cb80-1315" aria-hidden="true" tabindex="-1"></a>      <span class="sc">|</span> observ <span class="sc">+</span> monat,</span>
<span id="cb80-1316"><a href="#cb80-1316" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_DID_T5, </span>
<span id="cb80-1317"><a href="#cb80-1317" aria-hidden="true" tabindex="-1"></a>      <span class="at">vcov =</span> <span class="fu">vcov_cluster</span>(<span class="st">"mbc"</span>)</span>
<span id="cb80-1318"><a href="#cb80-1318" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1319"><a href="#cb80-1319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1320"><a href="#cb80-1320" aria-hidden="true" tabindex="-1"></a><span class="co"># (E)</span></span>
<span id="cb80-1321"><a href="#cb80-1321" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(<span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1322"><a href="#cb80-1322" aria-hidden="true" tabindex="-1"></a>        <span class="fu">I</span>(treated <span class="sc">*</span> group) </span>
<span id="cb80-1323"><a href="#cb80-1323" aria-hidden="true" tabindex="-1"></a>      <span class="sc">+</span> <span class="fu">I</span>(oneblock <span class="sc">*</span> group) </span>
<span id="cb80-1324"><a href="#cb80-1324" aria-hidden="true" tabindex="-1"></a>      <span class="sc">+</span> <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1325"><a href="#cb80-1325" aria-hidden="true" tabindex="-1"></a>      <span class="sc">|</span> observ <span class="sc">+</span> mbc,</span>
<span id="cb80-1326"><a href="#cb80-1326" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_DID_T5,</span>
<span id="cb80-1327"><a href="#cb80-1327" aria-hidden="true" tabindex="-1"></a>      <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1328"><a href="#cb80-1328" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1329"><a href="#cb80-1329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1330"><a href="#cb80-1330" aria-hidden="true" tabindex="-1"></a><span class="co"># (F)</span></span>
<span id="cb80-1331"><a href="#cb80-1331" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(<span class="at">fml =</span> totrob <span class="sc">~</span> </span>
<span id="cb80-1332"><a href="#cb80-1332" aria-hidden="true" tabindex="-1"></a>        <span class="fu">I</span>(treated <span class="sc">*</span> group) </span>
<span id="cb80-1333"><a href="#cb80-1333" aria-hidden="true" tabindex="-1"></a>      <span class="sc">+</span> <span class="fu">I</span>(oneblock <span class="sc">*</span> group) </span>
<span id="cb80-1334"><a href="#cb80-1334" aria-hidden="true" tabindex="-1"></a>      <span class="sc">+</span> <span class="fu">I</span>(twoblocks <span class="sc">*</span> group) </span>
<span id="cb80-1335"><a href="#cb80-1335" aria-hidden="true" tabindex="-1"></a>      <span class="sc">|</span> observ <span class="sc">+</span> monat,</span>
<span id="cb80-1336"><a href="#cb80-1336" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> dat_DID_T5 <span class="sc">%&gt;%</span> </span>
<span id="cb80-1337"><a href="#cb80-1337" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(observ) <span class="sc">%&gt;%</span> </span>
<span id="cb80-1338"><a href="#cb80-1338" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(</span>
<span id="cb80-1339"><a href="#cb80-1339" aria-hidden="true" tabindex="-1"></a>          <span class="fu">sum</span>(totrob) <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb80-1340"><a href="#cb80-1340" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb80-1341"><a href="#cb80-1341" aria-hidden="true" tabindex="-1"></a>      <span class="at">vcov =</span> <span class="st">"HC1"</span></span>
<span id="cb80-1342"><a href="#cb80-1342" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-1343"><a href="#cb80-1343" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1344"><a href="#cb80-1344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1345"><a href="#cb80-1345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1346"><a href="#cb80-1346" aria-hidden="true" tabindex="-1"></a><span class="fu">## Zusammenfassung</span></span>
<span id="cb80-1347"><a href="#cb80-1347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1348"><a href="#cb80-1348" aria-hidden="true" tabindex="-1"></a>Der DID-Schätzer liefert uns eine Schätzung des ATT, indem er die Veränderung der Ergebnisse in der Behandlungsgruppe vor und nach der Intervention mit der entsprechenden Veränderung in der Kontrollgruppe vergleicht. Die Annahme paralleler Trends ist entscheidend: Nur wenn diese Annahme gilt, können wir sicher sein, dass die Differenz in den Differenzen tatsächlich den kausalen Effekt der Behandlung widerspiegelt und nicht durch andere zeitgleiche Faktoren beeinflusst wird.</span>
<span id="cb80-1349"><a href="#cb80-1349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1350"><a href="#cb80-1350" aria-hidden="true" tabindex="-1"></a>Zusammenfassend bietet der DID-Ansatz im Potential Outcomes Framework eine robuste Methode zur Schätzung kausaler Effekte, insbesondere wenn randomisierte Experimente nicht durchführbar sind. Durch den Vergleich von Zeitverläufen in Behandlungs- und Kontrollgruppen unter der Annahme paralleler Trends können wir verlässliche Schätzungen des ATT gewinnen.</span>
</code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>